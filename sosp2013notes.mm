<map version="freeplane 1.2.0">
<!--To view this file, download free mind mapping software Freeplane from http://freeplane.sourceforge.net -->
<node TEXT="SOSP 2013 Notes" ID="ID_1723255651" CREATED="1283093380553" MODIFIED="1383573172305"><hook NAME="MapStyle">

<map_styles>
<stylenode LOCALIZED_TEXT="styles.root_node">
<stylenode LOCALIZED_TEXT="styles.predefined" POSITION="right">
<stylenode LOCALIZED_TEXT="default" MAX_WIDTH="600" COLOR="#000000" STYLE="as_parent">
<font NAME="SansSerif" SIZE="10" BOLD="false" ITALIC="false"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.details"/>
<stylenode LOCALIZED_TEXT="defaultstyle.note"/>
<stylenode LOCALIZED_TEXT="defaultstyle.floating">
<edge STYLE="hide_edge"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.user-defined" POSITION="right">
<stylenode LOCALIZED_TEXT="styles.topic" COLOR="#18898b" STYLE="fork">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subtopic" COLOR="#cc3300" STYLE="fork">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subsubtopic" COLOR="#669900">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.important">
<icon BUILTIN="yes"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.AutomaticLayout" POSITION="right">
<stylenode LOCALIZED_TEXT="AutomaticLayout.level.root" COLOR="#000000">
<font SIZE="18"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,1" COLOR="#0033ff">
<font SIZE="16"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,2" COLOR="#00b439">
<font SIZE="14"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,3" COLOR="#990000">
<font SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,4" COLOR="#111111">
<font SIZE="10"/>
</stylenode>
</stylenode>
</stylenode>
</map_styles>
</hook>
<hook NAME="AutomaticEdgeColor" COUNTER="3"/>
<node TEXT="Intro" POSITION="right" ID="ID_635546985" CREATED="1383573244947" MODIFIED="1383573251726">
<edge COLOR="#ff0000"/>
<node TEXT="18% acceptance rate" ID="ID_488885926" CREATED="1383573264970" MODIFIED="1383573274381"/>
<node TEXT="best papers" ID="ID_422149256" CREATED="1383573452013" MODIFIED="1383573455065">
<node TEXT="scalable commutativity" ID="ID_69099391" CREATED="1383573456052" MODIFIED="1383573482383"/>
<node TEXT="optimization-safe systems" ID="ID_380769623" CREATED="1383573482618" MODIFIED="1383573488767"/>
<node TEXT="naiad" ID="ID_428475358" CREATED="1383573489010" MODIFIED="1383573490382"/>
</node>
</node>
<node TEXT="WIP sessions" POSITION="right" ID="ID_1461835303" CREATED="1383688465226" MODIFIED="1383688470597">
<edge COLOR="#00007c"/>
<node TEXT="Deterministic execution shipping" ID="ID_162747562" CREATED="1383688558908" MODIFIED="1383688566727">
<node TEXT="wanna synchronize files between cloud and mobile device" ID="ID_1971188215" CREATED="1383688567123" MODIFIED="1383688580422"/>
<node TEXT="currently: send diffs" ID="ID_1871216907" CREATED="1383688584858" MODIFIED="1383688589533"/>
<node TEXT="proposal: send some program that reproduces changes" ID="ID_1107901233" CREATED="1383688589738" MODIFIED="1383688601508"/>
<node TEXT="type-specific compression" ID="ID_1861745299" CREATED="1383688609952" MODIFIED="1383688616812">
<node TEXT="create a model for changes" ID="ID_872903313" CREATED="1383688617121" MODIFIED="1383688746278"/>
<node TEXT="most changes are deterministic already" ID="ID_1022241348" CREATED="1383688655357" MODIFIED="1383688660641"/>
<node TEXT="record only deviations from model" ID="ID_982287974" CREATED="1383688619880" MODIFIED="1383688628243"/>
<node TEXT="can also slightly constrain the program to be more deterministic" ID="ID_1068965371" CREATED="1383688661453" MODIFIED="1383688673776">
<node TEXT="e.g., partially deterministic clock" ID="ID_1999504879" CREATED="1383688678900" MODIFIED="1383688683839"/>
<node TEXT="e.g., partially deterministic thread scheduling" ID="ID_441767289" CREATED="1383688707114" MODIFIED="1383688723140"/>
</node>
</node>
<node TEXT="conclusion" ID="ID_319330838" CREATED="1383688758246" MODIFIED="1383688761578">
<node TEXT="partially deterministic model" ID="ID_1666264622" CREATED="1383688761870" MODIFIED="1383688766993"/>
<node TEXT="trade-off between recording overhead and log size" ID="ID_1849088836" CREATED="1383688767174" MODIFIED="1383688788304"/>
</node>
</node>
<node TEXT="Make data sharing easier by programming metadata" ID="ID_1481736019" CREATED="1383688793564" MODIFIED="1383688807167">
<node TEXT="problem: how to synchronize data?" ID="ID_606467503" CREATED="1383688812339" MODIFIED="1383689026916">
<node TEXT="copy data?" ID="ID_1660995668" CREATED="1383688815483" MODIFIED="1383688822350"/>
<node TEXT="use a shared storage such as NFS?" ID="ID_1018020419" CREATED="1383688824899" MODIFIED="1383688830189"/>
</node>
<node TEXT="idea: programming metadata" ID="ID_1307230800" CREATED="1383688859672" MODIFIED="1383689034120">
<node TEXT="goal: convert between formats" ID="ID_121884400" CREATED="1383688865168" MODIFIED="1383688870323"/>
<node TEXT="e.g., view database table as file" ID="ID_1865616295" CREATED="1383688870535" MODIFIED="1383688878338"/>
</node>
<node TEXT="use case" ID="ID_1053997377" CREATED="1383688887566" MODIFIED="1383688889041">
<node TEXT="zero-copy analytics" ID="ID_1380417442" CREATED="1383688889246" MODIFIED="1383688897457"/>
<node TEXT="define logical files from several different files" ID="ID_1159628252" CREATED="1383688914252" MODIFIED="1383688928783"/>
<node TEXT="logical files grow dynamically as source files are added/modified" ID="ID_746646648" CREATED="1383688988175" MODIFIED="1383688999634"/>
</node>
</node>
<node TEXT="don&apos;t trust the OS!" ID="ID_726469860" CREATED="1383689038748" MODIFIED="1383689047447">
<node TEXT="Andrew Baumann, MSR" ID="ID_652723960" CREATED="1383689052619" MODIFIED="1383689057622"/>
<node TEXT="today" ID="ID_1190971954" CREATED="1383689064091" MODIFIED="1383689075733">
<node TEXT="app depends on os depens on hypervisor..." ID="ID_349470028" CREATED="1383689076049" MODIFIED="1383689086484"/>
<node TEXT="hierarchical trust" ID="ID_1461192606" CREATED="1383689086977" MODIFIED="1383689090252"/>
<node TEXT="even worse when all this runs o a network administrated by somebody else..." ID="ID_428550517" CREATED="1383689102488" MODIFIED="1383689119306"/>
</node>
<node TEXT="Intel SGX" ID="ID_123623543" CREATED="1383689121887" MODIFIED="1383689124690">
<node TEXT="allows one to construct enclaves" ID="ID_551446561" CREATED="1383689127239" MODIFIED="1383689133913"/>
<node TEXT="enclaves contain secret data and code" ID="ID_1817239238" CREATED="1383689134142" MODIFIED="1383689140121"/>
<node TEXT="HW ensures that only code within the enclave can see/modify secret data" ID="ID_1232420253" CREATED="1383689142734" MODIFIED="1383689157704"/>
<node TEXT="enclaves can be attested remotely" ID="ID_641366478" CREATED="1383689165028" MODIFIED="1383689172703"/>
</node>
<node TEXT="what about existing apps?" ID="ID_1331173205" CREATED="1383689177795" MODIFIED="1383689181718">
<node TEXT="one big enclave for the entire app?" ID="ID_1604229951" CREATED="1383689186170" MODIFIED="1383689191621"/>
<node TEXT="but... how to handle system calls securely?" ID="ID_1871145805" CREATED="1383689194633" MODIFIED="1383689209868"/>
<node TEXT="one big enclave for app + libOS?" ID="ID_711868808" CREATED="1383689214065" MODIFIED="1383689228203">
<node TEXT="reduces interface that malware can attack" ID="ID_6437945" CREATED="1383689231848" MODIFIED="1383689253185"/>
<node TEXT="trusted runtime communicates with host OS" ID="ID_1109090900" CREATED="1383689259645" MODIFIED="1383689266921"/>
</node>
</node>
</node>
<node TEXT="Thoth" ID="ID_1344866006" CREATED="1383689282892" MODIFIED="1383689287439">
<node TEXT="efficiently enforcing data confidentiality and integrity in data retrieval systems" ID="ID_995812992" CREATED="1383689287795" MODIFIED="1383689306590"/>
<node TEXT="today" ID="ID_1407723494" CREATED="1383689326369" MODIFIED="1383689329172">
<node TEXT="data retrieval system query many sources" ID="ID_1486650545" CREATED="1383689329521" MODIFIED="1383689337116"/>
<node TEXT="these systems should keep data private and protected" ID="ID_317420970" CREATED="1383689337351" MODIFIED="1383689346363"/>
</node>
<node TEXT="Thoth" ID="ID_1495172646" CREATED="1383689361655" MODIFIED="1383689363834">
<node TEXT="a safety net against data leaks" ID="ID_1982820838" CREATED="1383689364255" MODIFIED="1383689369226"/>
<node TEXT="ensures data flows always respect safety policies" ID="ID_802883993" CREATED="1383689373566" MODIFIED="1383689381801"/>
<node TEXT="policies are attached to files" ID="ID_1298769626" CREATED="1383689393213" MODIFIED="1383689398624"/>
</node>
</node>
<node TEXT="Confing JavaScript with Nappy" ID="ID_1637929667" CREATED="1383689516508" MODIFIED="1383689525079">
<node TEXT="Nappy = layout engine" ID="ID_1820479110" CREATED="1383689529380" MODIFIED="1383689535134"/>
<node TEXT="modern web apps" ID="ID_1164489553" CREATED="1383689538795" MODIFIED="1383689541742">
<node TEXT="site-specific code" ID="ID_81560447" CREATED="1383689541994" MODIFIED="1383689546790"/>
<node TEXT="extensions (AdBlock)" ID="ID_1773602919" CREATED="1383689547027" MODIFIED="1383689552197"/>
<node TEXT="third-party scripts (JQuery)" ID="ID_1691485296" CREATED="1383689552802" MODIFIED="1383689560773"/>
<node TEXT="libraries (password managers)" ID="ID_1817544832" CREATED="1383689561001" MODIFIED="1383689570860"/>
</node>
<node TEXT="problems" ID="ID_764892447" CREATED="1383689581424" MODIFIED="1383689582659">
<node TEXT="scripts can get password when form is auto-filled" ID="ID_1479649964" CREATED="1383689582976" MODIFIED="1383689595011"/>
</node>
<node TEXT="solution" ID="ID_1578647901" CREATED="1383689600231" MODIFIED="1383689601898">
<node TEXT="nappy can confine JS code" ID="ID_1622176150" CREATED="1383689602319" MODIFIED="1383689627873"/>
<node TEXT="allows for more flexible policies than same-origin" ID="ID_910832700" CREATED="1383689613694" MODIFIED="1383689623881"/>
</node>
<node TEXT="example: password strength checker" ID="ID_1243902381" CREATED="1383689631309" MODIFIED="1383689637424">
<node TEXT="cannot send password to external checker" ID="ID_568477687" CREATED="1383689637701" MODIFIED="1383689651591"/>
<node TEXT="but can fetch a dictionary of know words" ID="ID_379998173" CREATED="1383689651811" MODIFIED="1383689658438"/>
</node>
<node TEXT="use cases" ID="ID_654585645" CREATED="1383689679849" MODIFIED="1383689681965">
<node TEXT="password managers" ID="ID_1979769738" CREATED="1383689682825" MODIFIED="1383689685845"/>
<node TEXT="encrypted email in browser" ID="ID_1797352941" CREATED="1383689686065" MODIFIED="1383689693708"/>
<node TEXT="untrusted JS extensions" ID="ID_944595935" CREATED="1383689695960" MODIFIED="1383689701916"/>
<node TEXT="3rd-party mashups" ID="ID_375651006" CREATED="1383689702136" MODIFIED="1383689707315"/>
</node>
<node TEXT="prototypes" ID="ID_1691163321" CREATED="1383689715639" MODIFIED="1383689718378">
<node TEXT="for both Firefox and Chrome" ID="ID_820239189" CREATED="1383689718607" MODIFIED="1383689722730"/>
<node TEXT="DOM API exposes confinement" ID="ID_1697910725" CREATED="1383689727543" MODIFIED="1383689738489"/>
</node>
</node>
<node TEXT="Frog: Distributed graph processing" ID="ID_1432554471" CREATED="1383689783962" MODIFIED="1383689794613">
<node TEXT="goal: exploit graph structure for graph processing" ID="ID_1535961959" CREATED="1383689818592" MODIFIED="1383689827835"/>
<node TEXT="think in &quot;Blocks&quot;" ID="ID_1121478021" CREATED="1383689835846" MODIFIED="1383689841610">
<node TEXT="simplified graph processing programming model" ID="ID_1056812360" CREATED="1383689841903" MODIFIED="1383689847970"/>
<node TEXT="reduces overhead" ID="ID_1414934084" CREATED="1383689849702" MODIFIED="1383689852738"/>
<node TEXT="avoids excessive data movement" ID="ID_598842074" CREATED="1383689852950" MODIFIED="1383689859817"/>
</node>
<node TEXT="Blocks = partitions" ID="ID_1466151536" CREATED="1383689864949" MODIFIED="1383689868801">
<node TEXT="uses a &quot;p-way vertex cut&quot;" ID="ID_146317476" CREATED="1383689870933" MODIFIED="1383689879208"/>
</node>
</node>
<node TEXT="Limpware-tolerant OSs" ID="ID_1105677234" CREATED="1383690020611" MODIFIED="1383690028502">
<node TEXT="motivation" ID="ID_971649372" CREATED="1383690029483" MODIFIED="1383690031934">
<node TEXT="hardware fails" ID="ID_918911339" CREATED="1383690032202" MODIFIED="1383690034325"/>
<node TEXT="hardware can fail in many ways" ID="ID_117121084" CREATED="1383690035738" MODIFIED="1383690041605">
<node TEXT="partial failures" ID="ID_487743888" CREATED="1383690041930" MODIFIED="1383690044637"/>
<node TEXT="corruption" ID="ID_820320653" CREATED="1383690044841" MODIFIED="1383690048333"/>
<node TEXT="performance degradation?" ID="ID_510532389" CREATED="1383690049081" MODIFIED="1383690058412"/>
</node>
<node TEXT="limpware = hardware that fails with performance degradation" ID="ID_823990419" CREATED="1383690062768" MODIFIED="1383690074355"/>
</node>
<node TEXT="problem" ID="ID_1434961029" CREATED="1383690113989" MODIFIED="1383690116048">
<node TEXT="limpware is hard to find" ID="ID_413459141" CREATED="1383690116413" MODIFIED="1383690119776"/>
</node>
<node TEXT="proposal" ID="ID_1912247602" CREATED="1383690162577" MODIFIED="1383690165324">
<node TEXT="limpware = new failure mode" ID="ID_67958935" CREATED="1383690165617" MODIFIED="1383690169293"/>
<node TEXT="LitOS = Limpware Tolerant OS" ID="ID_289035416" CREATED="1383690174681" MODIFIED="1383690182163"/>
<node TEXT="LitFS / RAID" ID="ID_337522013" CREATED="1383690191607" MODIFIED="1383690195115">
<node TEXT="deals with slow disks" ID="ID_980534814" CREATED="1383690201671" MODIFIED="1383690205090"/>
<node TEXT="deals with read head wear" ID="ID_666751503" CREATED="1383690205575" MODIFIED="1383690211906"/>
</node>
<node TEXT="LitDrivers" ID="ID_409175277" CREATED="1383690220918" MODIFIED="1383690233592">
<node TEXT="deals with performance bugs" ID="ID_637849158" CREATED="1383690224141" MODIFIED="1383690228673"/>
</node>
<node TEXT="LitRuntime" ID="ID_727191823" CREATED="1383690234783" MODIFIED="1383690236799">
<node TEXT="detects power issues" ID="ID_91818895" CREATED="1383690237053" MODIFIED="1383690240496"/>
<node TEXT="detects degraded cores" ID="ID_1418869641" CREATED="1383690240700" MODIFIED="1383690245095"/>
</node>
</node>
</node>
<node TEXT="Simplifying Mobile/Cloud apps with sapphire" ID="ID_704733338" CREATED="1383690270851" MODIFIED="1383690319786">
<node TEXT="motivation" ID="ID_625391703" CREATED="1383690324670" MODIFIED="1383690327394">
<node TEXT="apps have changed" ID="ID_1762175793" CREATED="1383690327686" MODIFIED="1383690329937"/>
<node TEXT="apps run in cloud and mobile devices" ID="ID_1589647070" CREATED="1383690330182" MODIFIED="1383690340997"/>
</node>
<node TEXT="challenges" ID="ID_1055892115" CREATED="1383690346325" MODIFIED="1383690347849">
<node TEXT="heterogeneous platforms" ID="ID_631941487" CREATED="1383690348213" MODIFIED="1383690353608"/>
<node TEXT="manage communication / sharing" ID="ID_279827561" CREATED="1383690354415" MODIFIED="1383690359535">
<node TEXT="REST?" ID="ID_241809368" CREATED="1383690362773" MODIFIED="1383690366519"/>
<node TEXT="Polling?" ID="ID_1360274102" CREATED="1383690367156" MODIFIED="1383690370543"/>
<node TEXT="Push?" ID="ID_228468892" CREATED="1383690370796" MODIFIED="1383690374063"/>
</node>
<node TEXT="hard to convert apps from cloud to p2p" ID="ID_1207572508" CREATED="1383690386595" MODIFIED="1383690394222"/>
<node TEXT="hard to retrofit fault-tolerance" ID="ID_755461789" CREATED="1383690394458" MODIFIED="1383690399901"/>
<node TEXT="hard to offload stuff to the cloud" ID="ID_1881297088" CREATED="1383690401194" MODIFIED="1383690406317"/>
</node>
<node TEXT="goal" ID="ID_72397055" CREATED="1383690414009" MODIFIED="1383690415028">
<node TEXT="do challenges with a single LOC" ID="ID_407583463" CREATED="1383690415769" MODIFIED="1383690421676"/>
<node TEXT="separate deployment and distribution from app logic" ID="ID_1549624903" CREATED="1383690427392" MODIFIED="1383690437243"/>
</node>
<node TEXT="components" ID="ID_1661071854" CREATED="1383690449631" MODIFIED="1383690451522">
<node TEXT="Sapphire VM" ID="ID_1814993331" CREATED="1383690451758" MODIFIED="1383690454554">
<node TEXT="spans mobile devices and cloud servers" ID="ID_354692845" CREATED="1383690455982" MODIFIED="1383690462673"/>
</node>
<node TEXT="OOP programming model" ID="ID_656228068" CREATED="1383690463421" MODIFIED="1383690467849">
<node TEXT="objects can be accessed anywhere" ID="ID_1258905439" CREATED="1383690468117" MODIFIED="1383690472951"/>
<node TEXT="objects can run anywhere" ID="ID_1464420629" CREATED="1383690473164" MODIFIED="1383690476984"/>
</node>
<node TEXT="Object Management Layer" ID="ID_681943024" CREATED="1383690480628" MODIFIED="1383690488159">
<node TEXT="runs and distributes objects" ID="ID_1451248208" CREATED="1383690488540" MODIFIED="1383690492479"/>
<node TEXT="many managers to choose from" ID="ID_981760197" CREATED="1383690500379" MODIFIED="1383690506182">
<node TEXT="replication" ID="ID_532746578" CREATED="1383690511154" MODIFIED="1383690514477"/>
<node TEXT="caching" ID="ID_528867289" CREATED="1383690514721" MODIFIED="1383690516278"/>
<node TEXT="mobility" ID="ID_1863297875" CREATED="1383690516657" MODIFIED="1383690519565"/>
<node TEXT="..." ID="ID_1515680828" CREATED="1383690520018" MODIFIED="1383690520805"/>
</node>
</node>
</node>
<node TEXT="pretty impressive, easy programmability" ID="ID_345306939" CREATED="1383690560983" MODIFIED="1383690566994"/>
</node>
<node TEXT="Crypto-book" ID="ID_1232981790" CREATED="1383690572206" MODIFIED="1383690575417">
<node TEXT="privacy preserving online identities" ID="ID_35252208" CREATED="1383690576566" MODIFIED="1383690582601"/>
<node TEXT="problem: authentication to websites" ID="ID_39101815" CREATED="1383690597549" MODIFIED="1383690604223">
<node TEXT="log in with google account?" ID="ID_85522530" CREATED="1383690604540" MODIFIED="1383690609911"/>
<node TEXT="sign up with facebook?" ID="ID_1790172946" CREATED="1383690615308" MODIFIED="1383690620814"/>
<node TEXT="thus, users are tracked" ID="ID_601719576" CREATED="1383690645674" MODIFIED="1383690651396">
<node TEXT="low privacy" ID="ID_531965651" CREATED="1383690651641" MODIFIED="1383690653668"/>
</node>
</node>
<node TEXT="solution" ID="ID_1974485628" CREATED="1383690669992" MODIFIED="1383690672147">
<node TEXT="privacy-preserving crypto layer" ID="ID_1447885600" CREATED="1383690672800" MODIFIED="1383690678818"/>
<node TEXT="located between social network and sites" ID="ID_812709968" CREATED="1383690679063" MODIFIED="1383690686210"/>
</node>
<node TEXT="goals" ID="ID_190080759" CREATED="1383690694342" MODIFIED="1383690695226">
<node TEXT="should be impossible to link different IDs of the same user" ID="ID_1382841151" CREATED="1383690695830" MODIFIED="1383690707537"/>
</node>
<node TEXT="architecture" ID="ID_193908841" CREATED="1383690724205" MODIFIED="1383690726000">
<node TEXT="based on asymmetric crypto" ID="ID_493235012" CREATED="1383690726212" MODIFIED="1383690733375"/>
<node TEXT="central service allocates keys" ID="ID_446331471" CREATED="1383690733924" MODIFIED="1383690739759"/>
<node TEXT="user generates anonymous signatures" ID="ID_1336571922" CREATED="1383690751842" MODIFIED="1383690762301">
<node TEXT="linkable ring signatures" ID="ID_1649720617" CREATED="1383690762553" MODIFIED="1383690766045"/>
<node TEXT="thus, users are anonymous but accountable" ID="ID_553541758" CREATED="1383690766640" MODIFIED="1383690780572"/>
</node>
</node>
<node TEXT="crypto-book.com" ID="ID_428613183" CREATED="1383690802623" MODIFIED="1383690806570"/>
</node>
<node TEXT="Tetrisched" ID="ID_333088339" CREATED="1383690836269" MODIFIED="1383690842896">
<node TEXT="what?" ID="ID_593014340" CREATED="1383690870795" MODIFIED="1383690872718">
<node TEXT="space-time scheduling" ID="ID_377558071" CREATED="1383690843276" MODIFIED="1383690851711"/>
<node TEXT="for heterogeneous datacenters" ID="ID_1273153477" CREATED="1383690851980" MODIFIED="1383690859343"/>
<node TEXT="for workloads with strong preferences" ID="ID_564297075" CREATED="1383690859611" MODIFIED="1383690867262"/>
</node>
<node TEXT="why?" ID="ID_451401387" CREATED="1383690877986" MODIFIED="1383690881333">
<node TEXT="good scheduling gets more value out of your cluster" ID="ID_1463095824" CREATED="1383690881762" MODIFIED="1383690897204"/>
<node TEXT="machines are diverse" ID="ID_1276225365" CREATED="1383690915792" MODIFIED="1383690919155"/>
<node TEXT="user objectives are diverse" ID="ID_282458771" CREATED="1383690919375" MODIFIED="1383690924626"/>
<node TEXT="tools are diverse" ID="ID_1805657498" CREATED="1383690924886" MODIFIED="1383690927370">
<node TEXT="hadoop, tomcat, apache, ..." ID="ID_878824600" CREATED="1383690927639" MODIFIED="1383690934994"/>
</node>
</node>
<node TEXT="soft preferences?" ID="ID_932867716" CREATED="1383690937606" MODIFIED="1383690942361">
<node TEXT="is there room to express soft preferences?" ID="ID_823189203" CREATED="1383690942798" MODIFIED="1383690953328"/>
<node TEXT="not hard constraints, but worthwile to satisfy" ID="ID_1227780849" CREATED="1383690953581" MODIFIED="1383690965416"/>
</node>
<node TEXT="ideas" ID="ID_1769469117" CREATED="1383691022208" MODIFIED="1383691023412">
<node TEXT="schedulers should not ignore preferences" ID="ID_1303933103" CREATED="1383691023745" MODIFIED="1383691030291"/>
<node TEXT="schedulers should not treat preferences as hard constraints" ID="ID_970168776" CREATED="1383691030504" MODIFIED="1383691040379"/>
<node TEXT="schedulers should be able to delay jobs a little, if preferences will be satisfied later" ID="ID_1033892326" CREATED="1383691040599" MODIFIED="1383691055314"/>
</node>
<node TEXT="results" ID="ID_323039406" CREATED="1383691070374" MODIFIED="1383691071825">
<node TEXT="a dsl to specify and quantify preferences" ID="ID_1165224084" CREATED="1383691072093" MODIFIED="1383691079352"/>
<node TEXT="planning ahead to defer placements" ID="ID_702055952" CREATED="1383691079845" MODIFIED="1383691086872"/>
</node>
</node>
<node TEXT="Merlin" ID="ID_971418303" CREATED="1383691109915" MODIFIED="1383691111422">
<node TEXT="unified system for network management" ID="ID_77315226" CREATED="1383691112763" MODIFIED="1383691118054"/>
<node TEXT="problem" ID="ID_1814409431" CREATED="1383691118858" MODIFIED="1383691120013">
<node TEXT="networks are big" ID="ID_1859016491" CREATED="1383691120265" MODIFIED="1383691122557"/>
<node TEXT="networks are complicated" ID="ID_1757711768" CREATED="1383691122881" MODIFIED="1383691126645"/>
<node TEXT="networks are shared" ID="ID_162790983" CREATED="1383691132409" MODIFIED="1383691135836"/>
</node>
<node TEXT="SDN to the rescue" ID="ID_1954098509" CREATED="1383691155920" MODIFIED="1383691158722"/>
<node TEXT="But..." ID="ID_630991305" CREATED="1383691178526" MODIFIED="1383691180713">
<node TEXT="we lack a unified abstraction" ID="ID_589864344" CREATED="1383691181030" MODIFIED="1383691185633"/>
<node TEXT="interactions are complex" ID="ID_1867603006" CREATED="1383691187214" MODIFIED="1383691190545"/>
<node TEXT="we don&apos;t want single points of control" ID="ID_1770051318" CREATED="1383691193781" MODIFIED="1383691200744"/>
</node>
<node TEXT="solution" ID="ID_343950116" CREATED="1383691202837" MODIFIED="1383691204280">
<node TEXT="a high-level programming language to specify config" ID="ID_36259388" CREATED="1383691204613" MODIFIED="1383691215831"/>
<node TEXT="compile to configs for a variety of devices" ID="ID_1454128575" CREATED="1383691216051" MODIFIED="1383691225621">
<node TEXT="a linear programming solver finds best configuration" ID="ID_1046836173" CREATED="1383691277904" MODIFIED="1383691288562"/>
</node>
<node TEXT="designed for delegation and decentralization" ID="ID_1771383802" CREATED="1383691226667" MODIFIED="1383691341167"/>
<node TEXT="designed for verification" ID="ID_1926487877" CREATED="1383691333396" MODIFIED="1383691337655"/>
</node>
<node TEXT="frenetic-lang.org/merlin" ID="ID_1095530415" CREATED="1383691361098" MODIFIED="1383691369636"/>
</node>
<node TEXT="LazyTable" ID="ID_530792742" CREATED="1383691376577" MODIFIED="1383691381676">
<node TEXT="Big data analytics" ID="ID_1059160304" CREATED="1383691390792" MODIFIED="1383691394803">
<node TEXT="want fresh data" ID="ID_336111025" CREATED="1383691395696" MODIFIED="1383691397995"/>
<node TEXT="Bulk synchronous parallel model" ID="ID_1098865903" CREATED="1383691436693" MODIFIED="1383691443800">
<node TEXT="problem: stragglers" ID="ID_1697412058" CREATED="1383691450332" MODIFIED="1383691456439"/>
<node TEXT="problem: synchronization" ID="ID_175385436" CREATED="1383691457147" MODIFIED="1383691462583"/>
</node>
</node>
<node TEXT="idea: sometimes we can tolerate staleness" ID="ID_1053833750" CREATED="1383691470337" MODIFIED="1383691477069"/>
<node TEXT="new model: SSP" ID="ID_719897001" CREATED="1383691482762" MODIFIED="1383691486412">
<node TEXT="stale synchronous parallel" ID="ID_1350669179" CREATED="1383691486690" MODIFIED="1383691492381"/>
<node TEXT="slack parameter determines maximum staleness" ID="ID_866705830" CREATED="1383691496113" MODIFIED="1383691503620"/>
</node>
<node TEXT="very similar to HotOS talk??" ID="ID_1465079840" CREATED="1383691572028" MODIFIED="1383691579175">
<node TEXT="&quot;Solving the straggler problem with bounded staleness&quot;" ID="ID_1137811638" CREATED="1383691652199" MODIFIED="1383691662949"/>
</node>
</node>
<node TEXT="Spartan" ID="ID_1124866841" CREATED="1383691666638" MODIFIED="1383691668129">
<node TEXT="Dataflow and distributed arrays" ID="ID_683662392" CREATED="1383691668413" MODIFIED="1383691676456"/>
<node TEXT="array-language" ID="ID_308926753" CREATED="1383691677389" MODIFIED="1383691681104">
<node TEXT="multidimensional arrays are first-class citiciens" ID="ID_943193036" CREATED="1383691681525" MODIFIED="1383691692999"/>
<node TEXT="functional primitives: map, reduce, ..." ID="ID_684299104" CREATED="1383691704778" MODIFIED="1383691713149"/>
<node TEXT="matlab" ID="ID_1802312842" CREATED="1383691693220" MODIFIED="1383691723013"/>
<node TEXT="numpy" ID="ID_649002200" CREATED="1383691717874" MODIFIED="1383691719517"/>
</node>
<node TEXT="why distribute?" ID="ID_1631683362" CREATED="1383691736929" MODIFIED="1383691739852">
<node TEXT="these are popular languages" ID="ID_971129988" CREATED="1383691740137" MODIFIED="1383691745556"/>
<node TEXT="lots of intrinsic parallelism" ID="ID_1326045218" CREATED="1383691745760" MODIFIED="1383691750964"/>
</node>
<node TEXT="challenges" ID="ID_1920764804" CREATED="1383691815244" MODIFIED="1383691817143">
<node TEXT="eliding temporary values" ID="ID_1072007184" CREATED="1383691817411" MODIFIED="1383691822743"/>
<node TEXT="choose appropriate tiling to distribute data" ID="ID_63437078" CREATED="1383691831058" MODIFIED="1383691839510"/>
<node TEXT="efficient slicing and filtering" ID="ID_1382250712" CREATED="1383691841754" MODIFIED="1383691846693"/>
</node>
<node TEXT="approach" ID="ID_1259655768" CREATED="1383691855697" MODIFIED="1383691857092">
<node TEXT="lazy expressions" ID="ID_1340841176" CREATED="1383691857665" MODIFIED="1383691861012"/>
<node TEXT="optimize the expression graph" ID="ID_1420157277" CREATED="1383691861232" MODIFIED="1383691865452"/>
<node TEXT="static prediction to choose good tilings" ID="ID_538542844" CREATED="1383691865992" MODIFIED="1383691872299"/>
<node TEXT="runtime adjustment of tiling" ID="ID_73163464" CREATED="1383691873728" MODIFIED="1383691878091"/>
</node>
<node TEXT="finished prototype" ID="ID_721840631" CREATED="1383691910373" MODIFIED="1383691913320">
<node TEXT="questions: power@cs.nyu.edu" ID="ID_1037734684" CREATED="1383691913573" MODIFIED="1383691921160"/>
</node>
</node>
<node TEXT="DIOS" ID="ID_517658970" CREATED="1383691925365" MODIFIED="1383691938199">
<node TEXT="distributed, data-intensive OS" ID="ID_867742842" CREATED="1383691938516" MODIFIED="1383691943359"/>
<node TEXT="Malte Schwarzkopf, Cambridge" ID="ID_1875621090" CREATED="1383691954171" MODIFIED="1383692207325"/>
<node TEXT="clusters today" ID="ID_704558948" CREATED="1383691977369" MODIFIED="1383691982988">
<node TEXT="run commodity software" ID="ID_106296261" CREATED="1383691983208" MODIFIED="1383691988044"/>
<node TEXT="supported by some distributed systems middleware" ID="ID_1839620160" CREATED="1383692051629" MODIFIED="1383692060943"/>
<node TEXT="on commodity OS" ID="ID_634934694" CREATED="1383692065635" MODIFIED="1383692069382"/>
<node TEXT="on commodity hardware" ID="ID_1703212054" CREATED="1383691988264" MODIFIED="1383691991803"/>
</node>
<node TEXT="problem" ID="ID_1977514120" CREATED="1383692008647" MODIFIED="1383692010170">
<node TEXT="OS is not distributed" ID="ID_1510898475" CREATED="1383692010567" MODIFIED="1383692014930"/>
</node>
<node TEXT="idea" ID="ID_1202282284" CREATED="1383692075874" MODIFIED="1383692077670">
<node TEXT="make OS aware that it is part of something bigger" ID="ID_329145716" CREATED="1383692078234" MODIFIED="1383692085749"/>
</node>
<node TEXT="many distributed OSs exist since the 80s." ID="ID_1364641321" CREATED="1383692096961" MODIFIED="1383692105852">
<node TEXT="but lacked workload" ID="ID_943419551" CREATED="1383692107248" MODIFIED="1383692110468"/>
<node TEXT="now, time is ripe because we have the workload" ID="ID_734811118" CREATED="1383692110688" MODIFIED="1383692119826"/>
</node>
<node TEXT="DIOS" ID="ID_442358749" CREATED="1383692126551" MODIFIED="1383692128498">
<node TEXT="built around data-flow paradigm" ID="ID_1923150279" CREATED="1383692128791" MODIFIED="1383692135858"/>
<node TEXT="get rid of POSIX, new Syscall API" ID="ID_1083304819" CREATED="1383692137239" MODIFIED="1383692144025">
<node TEXT="better scalability" ID="ID_750925894" CREATED="1383692145438" MODIFIED="1383692148945"/>
</node>
<node TEXT="use weak consistency" ID="ID_1470708510" CREATED="1383692152077" MODIFIED="1383692155225"/>
<node TEXT="flat, global names instead of hierarchical names" ID="ID_698545404" CREATED="1383692165749" MODIFIED="1383692174263"/>
</node>
<node TEXT="Great conclusion slide" ID="ID_1449557491" CREATED="1383692210136" MODIFIED="1383692215428">
<node TEXT="repeated name of speaker" ID="ID_156928765" CREATED="1383692215712" MODIFIED="1383692219644"/>
<node TEXT="showed who else is working on DIOS" ID="ID_607622586" CREATED="1383692219864" MODIFIED="1383692228236"/>
</node>
</node>
</node>
<node TEXT="Scalable Commutativity" POSITION="left" ID="ID_729303456" CREATED="1383573721291" MODIFIED="1383573728271">
<edge COLOR="#00ff00"/>
<node TEXT="current approaches" ID="ID_1250567945" CREATED="1383573753177" MODIFIED="1383573756460">
<node TEXT="plot scalability" ID="ID_137251644" CREATED="1383573757488" MODIFIED="1383573760340"/>
<node TEXT="find where it doesn&apos;t scale" ID="ID_221864366" CREATED="1383573760520" MODIFIED="1383573768612"/>
<node TEXT="improve, repeat" ID="ID_1141042968" CREATED="1383573768840" MODIFIED="1383573772539"/>
<node TEXT="disadvantages" ID="ID_829537754" CREATED="1383573779215" MODIFIED="1383573782179">
<node TEXT="software is never truly scalable" ID="ID_683641071" CREATED="1383573783191" MODIFIED="1383573788066"/>
<node TEXT="new bottlenecks turn up with new workloads" ID="ID_549333273" CREATED="1383573788310" MODIFIED="1383573801129"/>
</node>
</node>
<node TEXT="interface scalability" ID="ID_952776654" CREATED="1383573804485" MODIFIED="1383573809241">
<node TEXT="example: creat" ID="ID_1433249966" CREATED="1383573815516" MODIFIED="1383573819512">
<node TEXT="must return lowest possible file descriptor" ID="ID_1995600761" CREATED="1383573820852" MODIFIED="1383573827864"/>
<node TEXT="thus, requires synchronization" ID="ID_151248993" CREATED="1383573828076" MODIFIED="1383573836039"/>
</node>
<node TEXT="Q: When can an interface scale?" ID="ID_1055587045" CREATED="1383573844323" MODIFIED="1383573853526"/>
<node TEXT="rule:" ID="ID_127556098" CREATED="1383573865009" MODIFIED="1383573867469">
<node TEXT="whenever interface operations commute, they are scalable" ID="ID_207315222" CREATED="1383573868257" MODIFIED="1383573876500"/>
</node>
<node TEXT="advantages" ID="ID_1803659236" CREATED="1383573919693" MODIFIED="1383573922337">
<node TEXT="guides entire design process" ID="ID_1236887696" CREATED="1383573924278" MODIFIED="1383573931521"/>
<node TEXT="design" ID="ID_1394878244" CREATED="1383573931789" MODIFIED="1383573934768">
<node TEXT="can find scalable interfaces" ID="ID_260750070" CREATED="1383573935124" MODIFIED="1383573944784"/>
</node>
<node TEXT="implement" ID="ID_396309246" CREATED="1383573945572" MODIFIED="1383573947935">
<node TEXT="sets a clear implementation target" ID="ID_393975095" CREATED="1383573950396" MODIFIED="1383573956807"/>
</node>
<node TEXT="test" ID="ID_1922397030" CREATED="1383573948132" MODIFIED="1383573949463">
<node TEXT="systematic testing" ID="ID_814826348" CREATED="1383573958203" MODIFIED="1383573961478"/>
</node>
</node>
<node TEXT="contribs" ID="ID_1958866338" CREATED="1383573987129" MODIFIED="1383573988940">
<node TEXT="scalable commutativity rule" ID="ID_331370313" CREATED="1383573989985" MODIFIED="1383573994676"/>
<node TEXT="commuter" ID="ID_551338481" CREATED="1383573994929" MODIFIED="1383573997348">
<node TEXT="scalability testing tools" ID="ID_1555801590" CREATED="1383573997632" MODIFIED="1383574001331"/>
</node>
<node TEXT="sv6" ID="ID_938060748" CREATED="1383574002583" MODIFIED="1383574004307">
<node TEXT="scalable POSIX-like kernel" ID="ID_1693047055" CREATED="1383574004768" MODIFIED="1383574009411"/>
</node>
</node>
</node>
<node TEXT="what is scalability?" ID="ID_852201553" CREATED="1383574108609" MODIFIED="1383574114996">
<node TEXT="contented chache lines don&apos;t scale" ID="ID_1004479890" CREATED="1383574115633" MODIFIED="1383574125755">
<node TEXT="up to 25x more expensive than a system call" ID="ID_1324526800" CREATED="1383574126032" MODIFIED="1383574135259"/>
</node>
<node TEXT="thus, operations are scalable if they&apos;re conflict-free" ID="ID_1355662438" CREATED="1383574144367" MODIFIED="1383574156626"/>
<node TEXT="commutative operations are conflict-free by design" ID="ID_1417422175" CREATED="1383574163710" MODIFIED="1383574174560"/>
</node>
<node TEXT="commutativity" ID="ID_658467" CREATED="1383574193963" MODIFIED="1383574198487">
<node TEXT="sensitive to operations, arguments, and *state*" ID="ID_418068630" CREATED="1383574199667" MODIFIED="1383574214150"/>
<node TEXT="adding state makes more operations commutative" ID="ID_378279148" CREATED="1383574218682" MODIFIED="1383574225877">
<node TEXT="for example, creat is not commutative" ID="ID_615558498" CREATED="1383574243192" MODIFIED="1383574257691"/>
<node TEXT="but two creat calls in separate processes do scale" ID="ID_1201409600" CREATED="1383574257903" MODIFIED="1383574283992"/>
<node TEXT="they should scale even for different files in the same folder" ID="ID_1964186646" CREATED="1383574284598" MODIFIED="1383574297784">
<node TEXT="this is not the case for modern OSs" ID="ID_531660250" CREATED="1383574298661" MODIFIED="1383574304696"/>
<node TEXT="but the commutativity rule says an efficient implementation would exist" ID="ID_1985805311" CREATED="1383574304907" MODIFIED="1383574325318"/>
</node>
</node>
</node>
<node TEXT="the Commuter tool" ID="ID_78358001" CREATED="1383574342394" MODIFIED="1383574350692">
<node TEXT="input" ID="ID_1158689690" CREATED="1383574354177" MODIFIED="1383574359220">
<node TEXT="interface spec" ID="ID_711350285" CREATED="1383574359632" MODIFIED="1383574362116"/>
<node TEXT="implementation" ID="ID_33872531" CREATED="1383574362328" MODIFIED="1383574364539"/>
</node>
<node TEXT="output" ID="ID_853422839" CREATED="1383574367967" MODIFIED="1383574369499">
<node TEXT="all scalability bottlenecks" ID="ID_262713780" CREATED="1383574370680" MODIFIED="1383574377195"/>
</node>
<node TEXT="symbolic model" ID="ID_1562609245" CREATED="1383574388927" MODIFIED="1383574394889">
<node TEXT="a model of the interface, written in Python" ID="ID_541877840" CREATED="1383574395438" MODIFIED="1383574407249"/>
</node>
<node TEXT="stages" ID="ID_142648100" CREATED="1383574465017" MODIFIED="1383574466405">
<node TEXT="starts with symbolic model" ID="ID_298061858" CREATED="1383574468881" MODIFIED="1383574473005"/>
<node TEXT="analyzer finds commutativity conditions" ID="ID_1606014825" CREATED="1383574473216" MODIFIED="1383574482996"/>
<node TEXT="testgen generates testcases" ID="ID_1591297070" CREATED="1383574483200" MODIFIED="1383574487987"/>
<node TEXT="testcases executed in QEMU" ID="ID_1627964108" CREATED="1383574488296" MODIFIED="1383574495419"/>
</node>
<node TEXT="Results" ID="ID_1163853662" CREATED="1383574557675" MODIFIED="1383574561950">
<node TEXT="Linux uses directory-wide locking (unnecessary)" ID="ID_532970893" CREATED="1383574563115" MODIFIED="1383574577821"/>
<node TEXT="File descriptor reference counting creates dependencies" ID="ID_1678362903" CREATED="1383574581817" MODIFIED="1383574591180"/>
<node TEXT="address-space wide locking" ID="ID_1191638747" CREATED="1383574591993" MODIFIED="1383574599708"/>
</node>
</node>
<node TEXT="the SV6 scalable OS" ID="ID_537403458" CREATED="1383574629023" MODIFIED="1383574634674">
<node TEXT="interfaces follow commutativity rule" ID="ID_1657425660" CREATED="1383574647038" MODIFIED="1383574655073">
<node TEXT="creat returns any FD instead of lowest FD" ID="ID_1122039629" CREATED="1383574710505" MODIFIED="1383574720924"/>
<node TEXT="posix_spawn vs fork+exec" ID="ID_1642461377" CREATED="1383574723600" MODIFIED="1383574735995"/>
<node TEXT="xstat vs stat" ID="ID_307114222" CREATED="1383574744983" MODIFIED="1383574748274"/>
</node>
<node TEXT="implementation guided by commuter" ID="ID_1968969326" CREATED="1383574655277" MODIFIED="1383574660504"/>
<node TEXT="99% of all test cases are conflict-free" ID="ID_1824947966" CREATED="1383574664004" MODIFIED="1383574696462"/>
<node TEXT="results" ID="ID_512333895" CREATED="1383574800955" MODIFIED="1383574802887">
<node TEXT="qmail-like mailserver" ID="ID_319853698" CREATED="1383574807147" MODIFIED="1383574813558"/>
<node TEXT="perfect linear scaling" ID="ID_632416875" CREATED="1383574813770" MODIFIED="1383574818621"/>
</node>
</node>
<node TEXT="Questions" ID="ID_125019190" CREATED="1383574871087" MODIFIED="1383574873530">
<node TEXT="why do python models make thngs easier to test?" ID="ID_331234601" CREATED="1383574874262" MODIFIED="1383574882874"/>
</node>
</node>
<node TEXT="Silo: Speedy Transactions" POSITION="left" ID="ID_1871913035" CREATED="1383575560785" MODIFIED="1383575567963">
<edge COLOR="#ff00ff"/>
<node TEXT="goals" ID="ID_1294674645" CREATED="1383575581519" MODIFIED="1383575583019">
<node TEXT="build high-troughput, in-memory, relational database" ID="ID_903269421" CREATED="1383575583488" MODIFIED="1383575595642"/>
<node TEXT="fully serializable transactions" ID="ID_1427612576" CREATED="1383575595854" MODIFIED="1383575603553"/>
<node TEXT="can recover from failures" ID="ID_1421810666" CREATED="1383575604878" MODIFIED="1383575609065"/>
</node>
<node TEXT="Intro" ID="ID_913408952" CREATED="1383575786009" MODIFIED="1383575787741">
<node TEXT="idea" ID="ID_567502880" CREATED="1383575691744" MODIFIED="1383575694083">
<node TEXT="use a scalable B-tree" ID="ID_1323633424" CREATED="1383575694904" MODIFIED="1383575702922">
<node TEXT="masstree" ID="ID_175671023" CREATED="1383576427655" MODIFIED="1383576430922"/>
</node>
<node TEXT="... build a database on top" ID="ID_1978022766" CREATED="1383575703135" MODIFIED="1383575707146"/>
</node>
<node TEXT="results" ID="ID_1299633346" CREATED="1383575709927" MODIFIED="1383575711058">
<node TEXT="scales well to 16 threads" ID="ID_1726223898" CREATED="1383575711615" MODIFIED="1383575717010"/>
<node TEXT="but not beyond" ID="ID_1805782655" CREATED="1383575717206" MODIFIED="1383575719642"/>
<node TEXT="bottleneck: atomic fetch-and-add to generate transaction id" ID="ID_751108156" CREATED="1383575719846" MODIFIED="1383575756399"/>
<node TEXT="thus, Silo does not need global TIDs" ID="ID_1768366799" CREATED="1383575799448" MODIFIED="1383575812180"/>
</node>
</node>
<node TEXT="secret sauce" ID="ID_1454867822" CREATED="1383575815688" MODIFIED="1383575819643">
<node TEXT="scalable and serializable transaction commit protocol" ID="ID_1408116425" CREATED="1383575820303" MODIFIED="1383575829450"/>
<node TEXT="memory contention only occurs when transactiosn coflict" ID="ID_1947801047" CREATED="1383575830631" MODIFIED="1383575839762"/>
<node TEXT="solution" ID="ID_1547680974" CREATED="1383575888283" MODIFIED="1383575890054">
<node TEXT="use time-based epochs" ID="ID_1022714510" CREATED="1383575890554" MODIFIED="1383575899462">
<node TEXT="recovery boundaries" ID="ID_585769970" CREATED="1383575916089" MODIFIED="1383575921036"/>
<node TEXT="serialization becomes a read (of the epoch number) instead of a write" ID="ID_1392164581" CREATED="1383575935696" MODIFIED="1383575947994"/>
</node>
<node TEXT="each txn gets an epoch and sequence number" ID="ID_842024209" CREATED="1383575899850" MODIFIED="1383575908670"/>
<node TEXT="each record contains TID (epoch+sequence number) of last writer" ID="ID_1292787105" CREATED="1383575957438" MODIFIED="1383575973937"/>
<node TEXT="TID rule" ID="ID_986293193" CREATED="1383575984405" MODIFIED="1383575987887">
<node TEXT="teake the smallest number in the current epoch that is larger than any number in the records we read" ID="ID_1478424186" CREATED="1383575988196" MODIFIED="1383576003279"/>
</node>
</node>
<node TEXT="commit protocol" ID="ID_437357365" CREATED="1383576015563" MODIFIED="1383576018326">
<node TEXT="idea" ID="ID_1738787691" CREATED="1383576065751" MODIFIED="1383576067362">
<node TEXT="idea: proceed as if records will not be modified" ID="ID_404507702" CREATED="1383576019898" MODIFIED="1383576028925"/>
<node TEXT="check at commit time whether they were modified" ID="ID_155771002" CREATED="1383576029113" MODIFIED="1383576038580"/>
<node TEXT="save TIDs in read-set during reads" ID="ID_342608837" CREATED="1383576043465" MODIFIED="1383576055619"/>
<node TEXT="writes go to local copy" ID="ID_159445057" CREATED="1383576055848" MODIFIED="1383576059187"/>
</node>
<node TEXT="phases" ID="ID_1363652661" CREATED="1383576071799" MODIFIED="1383576073554">
<node TEXT="lock" ID="ID_1440836621" CREATED="1383576075366" MODIFIED="1383576089777">
<node TEXT="lock (in global order) all records in write set" ID="ID_923592490" CREATED="1383576090102" MODIFIED="1383576098152"/>
</node>
<node TEXT="validate" ID="ID_178450" CREATED="1383576101429" MODIFIED="1383576102608">
<node TEXT="validate records in read set" ID="ID_1146411591" CREATED="1383576104380" MODIFIED="1383576109184"/>
<node TEXT="abort if record&apos;s TID changed during transsaction" ID="ID_1981971361" CREATED="1383576111460" MODIFIED="1383576121479"/>
<node TEXT="abort if record is locked by another transaction" ID="ID_1262347077" CREATED="1383576121986" MODIFIED="1383576130526"/>
</node>
<node TEXT="commit" ID="ID_91599097" CREATED="1383576132147" MODIFIED="1383576135254">
<node TEXT="pick a TID and perform writes" ID="ID_1244394824" CREATED="1383576135723" MODIFIED="1383576143405"/>
</node>
</node>
</node>
<node TEXT="returning results" ID="ID_1447797311" CREATED="1383576196342" MODIFIED="1383576199242">
<node TEXT="cannot return from a transaction before prior epochs completed" ID="ID_736938145" CREATED="1383576199646" MODIFIED="1383576210201"/>
</node>
</node>
<node TEXT="results" ID="ID_279538796" CREATED="1383576507042" MODIFIED="1383576508477">
<node TEXT="benchmarks" ID="ID_14183942" CREATED="1383576541280" MODIFIED="1383576545355">
<node TEXT="TPC-C online retail store benchmark" ID="ID_1585533306" CREATED="1383576545759" MODIFIED="1383576553466"/>
<node TEXT="YCSB (yahoo key-value store)" ID="ID_273984116" CREATED="1383576572069" MODIFIED="1383576586400"/>
<node TEXT="on a recent 32-core machine" ID="ID_1396344696" CREATED="1383576557991" MODIFIED="1383576566777"/>
</node>
<node TEXT="linear scaling" ID="ID_353309623" CREATED="1383576610723" MODIFIED="1383576619045">
<node TEXT="works well up to 28 threads" ID="ID_1807582967" CREATED="1383576619827" MODIFIED="1383576625453"/>
<node TEXT="even up to 32 threads if using tmpfs instead of durable storage" ID="ID_672634883" CREATED="1383576625682" MODIFIED="1383576640012"/>
</node>
<node TEXT="several times faster than state of the art" ID="ID_1450230229" CREATED="1383576652392" MODIFIED="1383576658579"/>
<node TEXT="transactions have little overhead" ID="ID_130237597" CREATED="1383576710565" MODIFIED="1383576717943">
<node TEXT="only 4% slower than doing key-value updates without transactions" ID="ID_196554118" CREATED="1383576718652" MODIFIED="1383576734102"/>
</node>
<node TEXT="secret sauce matters" ID="ID_720650340" CREATED="1383576751874" MODIFIED="1383576756149">
<node TEXT="other approaches bottleneck on TID generation" ID="ID_1201319968" CREATED="1383576757817" MODIFIED="1383576770012"/>
<node TEXT="... at about 16 threads on their machine" ID="ID_248624838" CREATED="1383576772032" MODIFIED="1383576778283"/>
</node>
</node>
<node TEXT="fork" ID="ID_1074087316" CREATED="1383576835491" MODIFIED="1383576836623">
<node TEXT="https://github.com/stephentu/silo" ID="ID_954892778" CREATED="1383576837012" MODIFIED="1383576849102"/>
</node>
<node TEXT="Questions" ID="ID_897582945" CREATED="1383576978603" MODIFIED="1383576994293">
<node TEXT="epochs trade throughput for latency" ID="ID_172759385" CREATED="1383576980466" MODIFIED="1383576991989"/>
</node>
</node>
<node TEXT="Everything you wanted to know about synchronization" POSITION="left" ID="ID_1947615017" CREATED="1383577250040" MODIFIED="1383577262491">
<edge COLOR="#00ffff"/>
<node TEXT="intro" ID="ID_1409449412" CREATED="1383577270231" MODIFIED="1383577271394">
<node TEXT="multicore is important" ID="ID_155738566" CREATED="1383577271935" MODIFIED="1383577275266"/>
<node TEXT="synchronization is a scalability bottleneck" ID="ID_624476846" CREATED="1383577297557" MODIFIED="1383577305400"/>
<node TEXT="does not refer to previous talks" ID="ID_708210160" CREATED="1383577347754" MODIFIED="1383577364885">
<icon BUILTIN="smily_bad"/>
</node>
<node TEXT="paper answers the question: what is the main source of scalability problems?" ID="ID_198319374" CREATED="1383577429964" MODIFIED="1383577455382"/>
<node TEXT="answer: scalability is a hardware problem" ID="ID_1825492899" CREATED="1383577455635" MODIFIED="1383577463230"/>
</node>
<node TEXT="experiments" ID="ID_436812819" CREATED="1383577590458" MODIFIED="1383577592917">
<node TEXT="hardware platforms" ID="ID_1205543152" CREATED="1383577595713" MODIFIED="1383577604708">
<node TEXT="AMD opteron 8-socket 48 core" ID="ID_234681924" CREATED="1383577605033" MODIFIED="1383577617355"/>
<node TEXT="Intel Xeon 8-socket 80 cores" ID="ID_75604148" CREATED="1383577618896" MODIFIED="1383577627843"/>
<node TEXT="Sun Niagara 2 (8 cores)" ID="ID_251277727" CREATED="1383577628047" MODIFIED="1383577636322"/>
<node TEXT="Tilera 36 cores" ID="ID_1417294104" CREATED="1383577636510" MODIFIED="1383577642178"/>
</node>
<node TEXT="synchronization layers" ID="ID_1038769361" CREATED="1383577644350" MODIFIED="1383577653593">
<node TEXT="software" ID="ID_1941572990" CREATED="1383577656581" MODIFIED="1383577658609">
<node TEXT="apps (e.g., hash table)" ID="ID_1719671621" CREATED="1383577662957" MODIFIED="1383577668792"/>
<node TEXT="lock algorithms" ID="ID_207800177" CREATED="1383577669029" MODIFIED="1383577671744"/>
</node>
<node TEXT="hardware" ID="ID_1509444925" CREATED="1383577658773" MODIFIED="1383577660609">
<node TEXT="atomic ops" ID="ID_1234107280" CREATED="1383577672980" MODIFIED="1383577675583"/>
<node TEXT="cache coherence protocols" ID="ID_231629736" CREATED="1383577675804" MODIFIED="1383577680687"/>
</node>
</node>
</node>
<node TEXT="key observations" ID="ID_1888183674" CREATED="1383577465002" MODIFIED="1383577468325">
<node TEXT="crossing sockets is expensive" ID="ID_1384024026" CREATED="1383577468914" MODIFIED="1383577475541">
<node TEXT="transfering a cache line across sockets is 8x more expensive than accessing it locally" ID="ID_848852580" CREATED="1383577475898" MODIFIED="1383577757738"/>
<node TEXT="Opteron" ID="ID_1539218890" CREATED="1383577722833" MODIFIED="1383577726549">
<node TEXT="within socket: 40ns" ID="ID_591667036" CREATED="1383577707770" MODIFIED="1383577711613"/>
<node TEXT="per hop: +40ns" ID="ID_1157744843" CREATED="1383577711825" MODIFIED="1383577720429"/>
</node>
<node TEXT="Xeon" ID="ID_1189558641" CREATED="1383577729833" MODIFIED="1383577731972">
<node TEXT="within socket: 20-40 ns" ID="ID_1321630561" CREATED="1383577732920" MODIFIED="1383577741475"/>
<node TEXT="per hop: +50 ns" ID="ID_506840469" CREATED="1383577741888" MODIFIED="1383577747755"/>
</node>
<node TEXT="Lock and Hashtable experiments" ID="ID_821675519" CREATED="1383577928771" MODIFIED="1383577935758">
<node TEXT="show negative scalability on Xeon" ID="ID_1252172188" CREATED="1383577936251" MODIFIED="1383577943366"/>
<node TEXT="show no or little scalability (beyond socket) on Opteron" ID="ID_1796828031" CREATED="1383577943570" MODIFIED="1383577955885"/>
</node>
</node>
<node TEXT="sharing within sockets is necessary, but not sufficient" ID="ID_188055782" CREATED="1383577494656" MODIFIED="1383577504067">
<node TEXT="broadcasts to all sockets can happen even if the data is local" ID="ID_862972993" CREATED="1383578019318" MODIFIED="1383578032656"/>
<node TEXT="... because the coherency protocol might not be sure that the data is local" ID="ID_306282831" CREATED="1383578032876" MODIFIED="1383578047631"/>
</node>
<node TEXT="intra-socket uniformity matters" ID="ID_1676380648" CREATED="1383577505736" MODIFIED="1383577514402">
<node TEXT="uniform cores (e.g., niagara) scale up to 70% better than non-uniform ones (e.g., tilera)" ID="ID_1426877804" CREATED="1383578475103" MODIFIED="1383578492177"/>
</node>
<node TEXT="loads/stores can be as expensive as atomic operations" ID="ID_1708948307" CREATED="1383577514671" MODIFIED="1383577525929">
<node TEXT="if data is local" ID="ID_95831762" CREATED="1383578329281" MODIFIED="1383578332372">
<node TEXT="CAS is 10x more expensive than load/store" ID="ID_1526322528" CREATED="1383578332679" MODIFIED="1383578339899"/>
</node>
<node TEXT="if data is remote" ID="ID_1422040161" CREATED="1383578341320" MODIFIED="1383578345779">
<node TEXT="CAS only 35% more expensive than load/store" ID="ID_524615033" CREATED="1383578346479" MODIFIED="1383578359602"/>
</node>
</node>
<node TEXT="simple locks are often fastest" ID="ID_605040988" CREATED="1383577545069" MODIFIED="1383577552960">
<node TEXT="spinlock perform best in 25/32 experiments" ID="ID_1878702803" CREATED="1383578431098" MODIFIED="1383578440533"/>
</node>
</node>
</node>
<node TEXT="Dandelion" POSITION="left" ID="ID_1851817429" CREATED="1383581059504" MODIFIED="1383581061603">
<edge COLOR="#ffff00"/>
<node TEXT="intro" ID="ID_1412104448" CREATED="1383581066871" MODIFIED="1383581068634">
<node TEXT="want to improve programmability for heterogeneous distributed systems" ID="ID_1793718321" CREATED="1383581068991" MODIFIED="1383581085009"/>
<node TEXT="challenges" ID="ID_1940424689" CREATED="1383581103181" MODIFIED="1383581105144">
<node TEXT="heterogeneity" ID="ID_1482012597" CREATED="1383581105700" MODIFIED="1383581108392"/>
<node TEXT="distributed resources" ID="ID_1855196704" CREATED="1383581108820" MODIFIED="1383581115439">
<node TEXT="scheduling" ID="ID_832552203" CREATED="1383581115836" MODIFIED="1383581117887"/>
<node TEXT="data movement" ID="ID_339976397" CREATED="1383581121156" MODIFIED="1383581123111"/>
</node>
<node TEXT="concurrency" ID="ID_763775279" CREATED="1383581124755" MODIFIED="1383581129263">
<node TEXT="synchronization" ID="ID_1834622727" CREATED="1383581129627" MODIFIED="1383581134070"/>
</node>
</node>
<node TEXT="goal" ID="ID_1446233456" CREATED="1383581137203" MODIFIED="1383581138134">
<node TEXT="single programming interface for clusters" ID="ID_1548180540" CREATED="1383581138466" MODIFIED="1383581144846"/>
<node TEXT="programmers write sequential code" ID="ID_856644282" CREATED="1383581147874" MODIFIED="1383581152533"/>
<node TEXT="runtime does everything else" ID="ID_880946270" CREATED="1383581152745" MODIFIED="1383581156333"/>
</node>
</node>
<node TEXT="dandelion" ID="ID_178935178" CREATED="1383581174832" MODIFIED="1383581177587">
<node TEXT="offload data-parallel code fragments" ID="ID_659138842" CREATED="1383581178776" MODIFIED="1383581186075"/>
<node TEXT="starts from LINQ queries" ID="ID_90446141" CREATED="1383581186263" MODIFIED="1383581192219"/>
</node>
<node TEXT="architecture" ID="ID_991710224" CREATED="1383581205742" MODIFIED="1383581207873">
<node TEXT="user program" ID="ID_1427235921" CREATED="1383581211222" MODIFIED="1383581214817">
<node TEXT="in this case, a LINQ query" ID="ID_966084715" CREATED="1383581371347" MODIFIED="1383581376854"/>
<node TEXT="gets compiled by dandelion compiler" ID="ID_551370679" CREATED="1383581215173" MODIFIED="1383581220840"/>
<node TEXT="produces three data-flow graphs" ID="ID_65983614" CREATED="1383581221044" MODIFIED="1383581227480">
<node TEXT="cluster-scale" ID="ID_76099385" CREATED="1383581227725" MODIFIED="1383581229768"/>
<node TEXT="machine-scale" ID="ID_1184670832" CREATED="1383581229996" MODIFIED="1383581233439"/>
<node TEXT="GPU-scale" ID="ID_1139574238" CREATED="1383581233660" MODIFIED="1383581236991"/>
</node>
<node TEXT="produces vertex worker code (CPU and GPU)" ID="ID_1152433286" CREATED="1383581240540" MODIFIED="1383581250278"/>
</node>
<node TEXT="runtimes" ID="ID_1660634492" CREATED="1383581252019" MODIFIED="1383581256718">
<node TEXT="cluster runtime" ID="ID_1593665679" CREATED="1383581257098" MODIFIED="1383581259165">
<node TEXT="maps vertices from cluster dataflow graph to machines" ID="ID_101828251" CREATED="1383581278097" MODIFIED="1383581286732"/>
</node>
<node TEXT="machine runtime" ID="ID_1468430251" CREATED="1383581259378" MODIFIED="1383581261830"/>
<node TEXT="GPU runtime" ID="ID_1441300029" CREATED="1383581262050" MODIFIED="1383581264214"/>
</node>
</node>
<node TEXT="example" ID="ID_1857540001" CREATED="1383581463941" MODIFIED="1383581465648">
<node TEXT="k-means" ID="ID_716532467" CREATED="1383581465956" MODIFIED="1383581467824"/>
<node TEXT="group points by nearest center" ID="ID_1334505376" CREATED="1383581468036" MODIFIED="1383581482399"/>
<node TEXT="new centroids = average" ID="ID_690177443" CREATED="1383581482611" MODIFIED="1383581493638"/>
<node TEXT="can easily parallelize aggregation for the new centroid" ID="ID_1499872270" CREATED="1383581495395" MODIFIED="1383581507333"/>
<node TEXT="less obvious how to parallelize the grouping" ID="ID_880952353" CREATED="1383581507546" MODIFIED="1383581515733"/>
</node>
<node TEXT="grouping on a GPU" ID="ID_1675849118" CREATED="1383581657776" MODIFIED="1383581661227">
<node TEXT="grouping is similar to sorting" ID="ID_409924330" CREATED="1383581661767" MODIFIED="1383581669706"/>
<node TEXT="output offset of an element is group offset + group order" ID="ID_120301644" CREATED="1383581684118" MODIFIED="1383581696065">
<node TEXT="but how to know group offset?" ID="ID_173762397" CREATED="1383581696373" MODIFIED="1383581701592"/>
</node>
<node TEXT="GPU grouping uses multiple stages" ID="ID_1890829428" CREATED="1383581705453" MODIFIED="1383581712336">
<node TEXT="first stage: find number of groups" ID="ID_1460979021" CREATED="1383581712628" MODIFIED="1383581721543">
<node TEXT="uses a lock-free GPU hash table" ID="ID_516691553" CREATED="1383581821437" MODIFIED="1383581826608"/>
</node>
<node TEXT="second: compute group sizes" ID="ID_1101953079" CREATED="1383581721755" MODIFIED="1383581729534"/>
<node TEXT="third: compute start indexes" ID="ID_96756416" CREATED="1383581730099" MODIFIED="1383581736750">
<node TEXT="prefix sum of group sizes" ID="ID_62637383" CREATED="1383581737075" MODIFIED="1383581745461"/>
</node>
<node TEXT="fourth: group in parallel" ID="ID_1523778754" CREATED="1383581746842" MODIFIED="1383581757709"/>
</node>
</node>
<node TEXT="dandelion compiler" ID="ID_1093482677" CREATED="1383581795623" MODIFIED="1383581799433">
<node TEXT="has a library of generic primitives" ID="ID_134936878" CREATED="1383581799854" MODIFIED="1383581809281">
<node TEXT="hash tables" ID="ID_335014353" CREATED="1383581809630" MODIFIED="1383581813665"/>
<node TEXT="prefix sum" ID="ID_634674612" CREATED="1383581813901" MODIFIED="1383581816568"/>
<node TEXT="..." ID="ID_589483692" CREATED="1383581816950" MODIFIED="1383581819017"/>
</node>
<node TEXT="composes primitives to build LINQ operations" ID="ID_1122238249" CREATED="1383581850979" MODIFIED="1383581858838"/>
<node TEXT="compiling C# to GPU" ID="ID_1144188628" CREATED="1383581900576" MODIFIED="1383581908275">
<node TEXT="need to map C# types to CUDA structs" ID="ID_1151019038" CREATED="1383581908735" MODIFIED="1383581917754"/>
<node TEXT="need to translate C# methods to CUDA kernel functions" ID="ID_1069976435" CREATED="1383581917999" MODIFIED="1383581931960"/>
<node TEXT="Need to generate marshalling code" ID="ID_1316410707" CREATED="1383581935358" MODIFIED="1383581940905"/>
<node TEXT="main constraints" ID="ID_880960851" CREATED="1383581945157" MODIFIED="1383581947944">
<node TEXT="cannot use dynamic memory allocation" ID="ID_1701946667" CREATED="1383581948228" MODIFIED="1383581954495"/>
</node>
</node>
</node>
<node TEXT="lazy evaluation" ID="ID_951195370" CREATED="1383582031103" MODIFIED="1383582035602">
<node TEXT="Dandelion only runs once that results are needed" ID="ID_1813814085" CREATED="1383582035894" MODIFIED="1383582045073"/>
</node>
<node TEXT="Results" ID="ID_1151754007" CREATED="1383582067908" MODIFIED="1383582069591">
<node TEXT="improved programmability?" ID="ID_1793291836" CREATED="1383582073980" MODIFIED="1383582082295">
<node TEXT="K-means is 20 LOC in C#" ID="ID_1361778115" CREATED="1383582117202" MODIFIED="1383582145323"/>
<node TEXT="Dandelion code is almost equal to regular C# code" ID="ID_404141812" CREATED="1383582145704" MODIFIED="1383582159626"/>
</node>
<node TEXT="performance?" ID="ID_654827244" CREATED="1383582083787" MODIFIED="1383582086283">
<node TEXT="native C# (even multithreaded) is slow" ID="ID_1840558244" CREATED="1383582209955" MODIFIED="1383582220782"/>
<node TEXT="hand-tuned CUDA is fast (100x speedup)" ID="ID_1057548594" CREATED="1383582221010" MODIFIED="1383582234221"/>
<node TEXT="dandelion achieves around 17x speedup" ID="ID_1586007798" CREATED="1383582234761" MODIFIED="1383582248724">
<node TEXT="2-7x slower than hand-tuned CUDA" ID="ID_838697690" CREATED="1383582255369" MODIFIED="1383582263995"/>
</node>
<node TEXT="dandelion GPU is often 2x faster than multi-thread CPU" ID="ID_1340857067" CREATED="1383582472570" MODIFIED="1383582487125"/>
</node>
</node>
</node>
<node TEXT="Sparrow" POSITION="left" ID="ID_723688622" CREATED="1383583130937" MODIFIED="1383583132709">
<edge COLOR="#7c0000"/>
<node TEXT="goal" ID="ID_1754974982" CREATED="1383583137473" MODIFIED="1383583141364">
<node TEXT="achieve hich scheduling throughput" ID="ID_1804020449" CREATED="1383583141824" MODIFIED="1383583148124"/>
<node TEXT="hard to do with centralized schedulers" ID="ID_186615012" CREATED="1383583148336" MODIFIED="1383583154571">
<node TEXT="but centralized schedulers have global visibility" ID="ID_929791034" CREATED="1383583163959" MODIFIED="1383583175130"/>
<node TEXT="thus, can do a quality placement" ID="ID_604458038" CREATED="1383583175678" MODIFIED="1383583182289"/>
</node>
</node>
<node TEXT="idea" ID="ID_775860424" CREATED="1383583188845" MODIFIED="1383583189945">
<node TEXT="completely decentralized schedulers" ID="ID_479428726" CREATED="1383583190453" MODIFIED="1383583196688">
<node TEXT="low latency" ID="ID_628435986" CREATED="1383583205828" MODIFIED="1383583211231"/>
<node TEXT="fault tolerant" ID="ID_916477609" CREATED="1383583211452" MODIFIED="1383583213927"/>
<node TEXT="high throughput" ID="ID_1969325901" CREATED="1383583214156" MODIFIED="1383583218559"/>
<node TEXT="quality placement" ID="ID_643755187" CREATED="1383583218787" MODIFIED="1383583230792">
<icon BUILTIN="help"/>
</node>
</node>
<node TEXT="use randomization" ID="ID_472788002" CREATED="1383583251512" MODIFIED="1383583257300"/>
<node TEXT="key techniques" ID="ID_384324765" CREATED="1383583257505" MODIFIED="1383583259996">
<node TEXT="batch sampling" ID="ID_1671564334" CREATED="1383583260385" MODIFIED="1383583263332"/>
<node TEXT="late binding" ID="ID_607273599" CREATED="1383583263689" MODIFIED="1383583265324"/>
</node>
</node>
<node TEXT="architecture" ID="ID_339182887" CREATED="1383583308214" MODIFIED="1383583312248">
<node TEXT="schedulers know nothing (initially) about workers" ID="ID_1031161143" CREATED="1383583316245" MODIFIED="1383583326960"/>
<node TEXT="workers have a queue" ID="ID_1863798858" CREATED="1383583327236" MODIFIED="1383583333119"/>
<node TEXT="ideas" ID="ID_1989990037" CREATED="1383583397016" MODIFIED="1383583398227">
<node TEXT="randomization" ID="ID_713044689" CREATED="1383583335436" MODIFIED="1383583406771">
<node TEXT="assign task to random worker" ID="ID_500656878" CREATED="1383583344499" MODIFIED="1383583350062"/>
<node TEXT="performs well at low load" ID="ID_650842000" CREATED="1383583350283" MODIFIED="1383583364405">
<node TEXT="say, up to 10%" ID="ID_1385257812" CREATED="1383583364713" MODIFIED="1383583375468"/>
</node>
<node TEXT="response times get higher as load increases" ID="ID_268483640" CREATED="1383583383528" MODIFIED="1383583390555"/>
</node>
<node TEXT="power of two choices" ID="ID_1448212229" CREATED="1383583411462" MODIFIED="1383583414306">
<node TEXT="scheduler asks two workers for their load" ID="ID_175706668" CREATED="1383583414694" MODIFIED="1383583425105"/>
<node TEXT="gives task to less-loaded worker" ID="ID_1240548257" CREATED="1383583425310" MODIFIED="1383583435928"/>
<node TEXT="performs a bit better than random" ID="ID_666556775" CREATED="1383583437509" MODIFIED="1383583459847">
<node TEXT="but doesn&apos;t work well with large #tasks per job" ID="ID_655178557" CREATED="1383583462579" MODIFIED="1383583473958"/>
</node>
</node>
<node TEXT="batch sampling" ID="ID_1040544327" CREATED="1383583477234" MODIFIED="1383583505996">
<node TEXT="share probe information across tasks" ID="ID_243738347" CREATED="1383583507480" MODIFIED="1383583517235"/>
<node TEXT="does not suffer from per-task-sampling scalability issues" ID="ID_1477663487" CREATED="1383583522951" MODIFIED="1383583538954"/>
<node TEXT="still has problems" ID="ID_92040023" CREATED="1383583551061" MODIFIED="1383583553593">
<node TEXT="queue length does not predict wait time very well" ID="ID_690852697" CREATED="1383583554020" MODIFIED="1383583562672"/>
<node TEXT="thus, performs badly on heterogeneous tasks" ID="ID_1832424039" CREATED="1383583578851" MODIFIED="1383583588750"/>
<node TEXT="and it&apos;s hard to predict job length" ID="ID_1333532497" CREATED="1383583612953" MODIFIED="1383583626332"/>
</node>
</node>
<node TEXT="late binding" ID="ID_1140408989" CREATED="1383583628944" MODIFIED="1383583630779">
<node TEXT="probes are queued at worker" ID="ID_1050144366" CREATED="1383583636056" MODIFIED="1383583691991"/>
<node TEXT="worker responds to probe when it&apos;s ready" ID="ID_423821700" CREATED="1383583679109" MODIFIED="1383583686128"/>
<node TEXT="scheduler only releases tasks when probed workers are ready" ID="ID_1061611021" CREATED="1383583652583" MODIFIED="1383583675169"/>
</node>
</node>
</node>
<node TEXT="handling constraints" ID="ID_1699642155" CREATED="1383583740505" MODIFIED="1383583744796">
<node TEXT="per-jobs constraints are easy" ID="ID_1101478836" CREATED="1383583746680" MODIFIED="1383583751787">
<node TEXT="just probe only nodes that satisfy constraints" ID="ID_1098046149" CREATED="1383583752144" MODIFIED="1383583759947"/>
</node>
<node TEXT="per-task constraints are possible" ID="ID_799335419" CREATED="1383583761664" MODIFIED="1383583766763">
<node TEXT="need a sufficient number of probes" ID="ID_1362362007" CREATED="1383583790565" MODIFIED="1383583800800"/>
</node>
</node>
<node TEXT="results" ID="ID_1170499363" CREATED="1383583935076" MODIFIED="1383583937191">
<node TEXT="sparrow can handle very many low-duration tasks" ID="ID_1584314638" CREATED="1383583937612" MODIFIED="1383583949574">
<node TEXT="whereas native spark scheduler is limited" ID="ID_1539521664" CREATED="1383583953211" MODIFIED="1383583965749"/>
</node>
<node TEXT="sparrow gets good results" ID="ID_402547712" CREATED="1383584027678" MODIFIED="1383584035665">
<node TEXT="within 12% of some hypothetic ideal scheduler" ID="ID_62379531" CREATED="1383584035996" MODIFIED="1383584047752"/>
</node>
<node TEXT="sparrows scales up to approx 80% load" ID="ID_1389019138" CREATED="1383584097721" MODIFIED="1383584109676">
<node TEXT="beyond that, global visibility becomes essential" ID="ID_542086539" CREATED="1383584111152" MODIFIED="1383584121323"/>
<node TEXT="but such high loads are rare in practice" ID="ID_946752626" CREATED="1383584121575" MODIFIED="1383584127642"/>
<node TEXT="but sparrow degrades gracefully" ID="ID_553777243" CREATED="1383584141518" MODIFIED="1383584149305"/>
</node>
</node>
<node TEXT="Questions" ID="ID_1694083798" CREATED="1383584171924" MODIFIED="1383584213240">
<node TEXT="all these talks had related work slides at the end..." ID="ID_648887260" CREATED="1383584174836" MODIFIED="1383584183023"/>
</node>
<node TEXT="http://github.com/radlab/sparrow" ID="ID_1451348260" CREATED="1383584305275" MODIFIED="1383584312982"/>
</node>
<node TEXT="Timecard" POSITION="left" ID="ID_1683521060" CREATED="1383584755326" MODIFIED="1383584757141">
<edge COLOR="#00007c"/>
<node TEXT="goal" ID="ID_1875344526" CREATED="1383584816490" MODIFIED="1383584820060">
<node TEXT="control end-to-end user-perceived delays" ID="ID_924829790" CREATED="1383584820433" MODIFIED="1383584829619"/>
<node TEXT="response time matters" ID="ID_1458511352" CREATED="1383584841664" MODIFIED="1383584844883">
<node TEXT="we&apos;ve all seen those spinners..." ID="ID_1231797895" CREATED="1383584845168" MODIFIED="1383584851163"/>
<node TEXT="interestingly, only maximal request time determines user-perceived delay" ID="ID_89168559" CREATED="1383584858199" MODIFIED="1383584878401"/>
</node>
</node>
<node TEXT="delay components" ID="ID_667084814" CREATED="1383584883125" MODIFIED="1383584886112">
<node TEXT="app processing" ID="ID_1179547884" CREATED="1383584887036" MODIFIED="1383584890696"/>
<node TEXT="request transfer" ID="ID_981142955" CREATED="1383584890908" MODIFIED="1383584894232"/>
<node TEXT="server response time" ID="ID_273286993" CREATED="1383584894452" MODIFIED="1383584897471">
<node TEXT="this, you can control" ID="ID_67864199" CREATED="1383584897836" MODIFIED="1383584904376">
<icon BUILTIN="yes"/>
</node>
</node>
</node>
<node TEXT="today..." ID="ID_837222465" CREATED="1383584923786" MODIFIED="1383584926469">
<node TEXT="there are SLAs that control server delays" ID="ID_932391572" CREATED="1383584926906" MODIFIED="1383584934141"/>
<node TEXT="servers can trade-off between quality and delay" ID="ID_1709505990" CREATED="1383584938593" MODIFIED="1383584950476">
<node TEXT="e.g., by aggregating responses from multiple workers" ID="ID_1029180927" CREATED="1383584957864" MODIFIED="1383584969282"/>
<node TEXT="more workers answer within deadline -&gt; more precision" ID="ID_921225757" CREATED="1383584969487" MODIFIED="1383584980802"/>
</node>
<node TEXT="problems" ID="ID_663495899" CREATED="1383584987342" MODIFIED="1383584988649">
<node TEXT="external delays are highly variable" ID="ID_1120970275" CREATED="1383584988917" MODIFIED="1383584996769">
<node TEXT="AppInsight from OSDI 2012" ID="ID_1481559866" CREATED="1383584997189" MODIFIED="1383585004104"/>
<node TEXT="e.g., network delay different on WiFi, 3G, ..." ID="ID_969120500" CREATED="1383585014980" MODIFIED="1383585027599"/>
</node>
<node TEXT="thus, servers should consider external delay" ID="ID_179210381" CREATED="1383585046098" MODIFIED="1383585055413">
<node TEXT="that is, target an end-to-end deadline" ID="ID_1419244577" CREATED="1383585055713" MODIFIED="1383585064028"/>
</node>
</node>
</node>
<node TEXT="timecard architecture" ID="ID_562658471" CREATED="1383585078968" MODIFIED="1383585084507">
<node TEXT="server gets" ID="ID_1782546194" CREATED="1383585084855" MODIFIED="1383585088595">
<node TEXT="elapsed time so far" ID="ID_851617117" CREATED="1383585089079" MODIFIED="1383585102369">
<node TEXT="includes request transfer delay" ID="ID_1860793725" CREATED="1383585113006" MODIFIED="1383585121009"/>
</node>
<node TEXT="prediction of remaining time" ID="ID_74813526" CREATED="1383585105302" MODIFIED="1383585108897">
<node TEXT="estimates response transfer delay" ID="ID_399646884" CREATED="1383585122853" MODIFIED="1383585128704"/>
<node TEXT="estimates app response processing" ID="ID_1263689802" CREATED="1383585156371" MODIFIED="1383585162229"/>
</node>
</node>
<node TEXT="challenges" ID="ID_1383127439" CREATED="1383585166554" MODIFIED="1383585174852">
<node TEXT="many unpredictable events" ID="ID_1015507056" CREATED="1383585184985" MODIFIED="1383585191996">
<node TEXT="e.g., time to get GPS coordinates" ID="ID_525479153" CREATED="1383585192304" MODIFIED="1383585201051"/>
</node>
<node TEXT="need to track transaction across threads/events" ID="ID_386585746" CREATED="1383585281611" MODIFIED="1383585295413"/>
<node TEXT="no clock synchronization" ID="ID_1645098477" CREATED="1383585206000" MODIFIED="1383585214098"/>
</node>
<node TEXT="how to use" ID="ID_1889950293" CREATED="1383585238581" MODIFIED="1383585240552">
<node TEXT="on server side, include DLL, use API" ID="ID_1945643024" CREATED="1383585240861" MODIFIED="1383585248480"/>
<node TEXT="on client side, no changes" ID="ID_1762040486" CREATED="1383585248941" MODIFIED="1383585256459">
<icon BUILTIN="yes"/>
<node TEXT="instrumentation adds information automatically to requests" ID="ID_1007933281" CREATED="1383585257356" MODIFIED="1383585268918"/>
</node>
</node>
<node TEXT="solutions" ID="ID_136587967" CREATED="1383585303257" MODIFIED="1383585305748">
<node TEXT="transaction context" ID="ID_651871054" CREATED="1383585306057" MODIFIED="1383585314212">
<node TEXT="attached to every transaction" ID="ID_1913744334" CREATED="1383585314736" MODIFIED="1383585326323"/>
<node TEXT="passed between threads/callbacks/..." ID="ID_1116218702" CREATED="1383585326543" MODIFIED="1383585333914"/>
<node TEXT="passed from app to server" ID="ID_685597152" CREATED="1383585334639" MODIFIED="1383585338770">
<node TEXT="using a special HTTP header" ID="ID_1302798484" CREATED="1383585339063" MODIFIED="1383585343650"/>
</node>
<node TEXT="API calls inspect TC to estimate delays" ID="ID_1908761234" CREATED="1383585371292" MODIFIED="1383585382975"/>
</node>
<node TEXT="TimeSync" ID="ID_389162802" CREATED="1383585385219" MODIFIED="1383585389870">
<node TEXT="for servers, clock synchronization is easy" ID="ID_960473202" CREATED="1383585390395" MODIFIED="1383585400038"/>
<node TEXT="mobiles could use the phone&apos;s GPS" ID="ID_576697709" CREATED="1383585400427" MODIFIED="1383585408845">
<node TEXT="but doesn&apos;t work indoors" ID="ID_8227687" CREATED="1383585409138" MODIFIED="1383585422348">
<icon BUILTIN="smily_bad"/>
</node>
</node>
<node TEXT="solution: server acts as NTP server" ID="ID_1508556556" CREATED="1383585428897" MODIFIED="1383585437667"/>
<node TEXT="challenge: mobile network links are not symmetric" ID="ID_687879952" CREATED="1383585445088" MODIFIED="1383585456786">
<node TEXT="because of phone microsleeps" ID="ID_552571412" CREATED="1383585469285" MODIFIED="1383585476977"/>
<node TEXT="introduces radio transmitter wake-up delay" ID="ID_1010899169" CREATED="1383585484973" MODIFIED="1383585494816"/>
<node TEXT="solution: predict when radio is up" ID="ID_1066737047" CREATED="1383585495204" MODIFIED="1383585509847"/>
<node TEXT="challenge: require radio to be up *and idle*" ID="ID_1128700110" CREATED="1383585510075" MODIFIED="1383585528118"/>
</node>
</node>
<node TEXT="predicting downlink delay" ID="ID_1024331812" CREATED="1383585706318" MODIFIED="1383585711177">
<node TEXT="analysis of 4000 apps" ID="ID_950111147" CREATED="1383585716966" MODIFIED="1383585723185"/>
<node TEXT="latency, not throughput, dominates downlink delay" ID="ID_1579569909" CREATED="1383585726989" MODIFIED="1383585740807">
<node TEXT="only need to predict RTT and #roundtrips" ID="ID_88065950" CREATED="1383585777610" MODIFIED="1383585786988"/>
</node>
<node TEXT="TCP window state at server matters" ID="ID_571982250" CREATED="1383585746803" MODIFIED="1383585754862">
<node TEXT="can response fit in a single window?" ID="ID_315114756" CREATED="1383585763643" MODIFIED="1383585770469"/>
<node TEXT="problem: middleboxes!" ID="ID_1689329185" CREATED="1383585826990" MODIFIED="1383585835497">
<node TEXT="need to predict middlebox window size" ID="ID_1122794220" CREATED="1383585836174" MODIFIED="1383585859520"/>
</node>
</node>
<node TEXT="solution" ID="ID_1464789802" CREATED="1383585797488" MODIFIED="1383585798795">
<node TEXT="decision tree model" ID="ID_220669239" CREATED="1383585876443" MODIFIED="1383585880870"/>
<node TEXT="predict RTT from TimeSync probes" ID="ID_435514472" CREATED="1383585799087" MODIFIED="1383585805507"/>
<node TEXT="predict #roundtrips from TCP window states" ID="ID_1353359974" CREATED="1383585805712" MODIFIED="1383585819042"/>
<node TEXT="use #bytes transferred so far to predict middlebox TCP state" ID="ID_1264801031" CREATED="1383585886506" MODIFIED="1383585904980"/>
</node>
</node>
</node>
<node TEXT="results" ID="ID_554759371" CREATED="1383585926560" MODIFIED="1383585928227">
<node TEXT="error for downlink delay" ID="ID_1365503719" CREATED="1383585928615" MODIFIED="1383585953809">
<node TEXT="12ms median" ID="ID_630992360" CREATED="1383585939599" MODIFIED="1383585947498"/>
</node>
<node TEXT="runtime overhead" ID="ID_797328387" CREATED="1383586149704" MODIFIED="1383586152812">
<node TEXT="0.1% only" ID="ID_454988897" CREATED="1383586153329" MODIFIED="1383586156796"/>
<node TEXT="negligible server and battery overhead" ID="ID_1089250106" CREATED="1383586157416" MODIFIED="1383586163658"/>
</node>
</node>
<node TEXT="limitations" ID="ID_1148441265" CREATED="1383586172303" MODIFIED="1383586174034">
<node TEXT="bootstrapping for new apps" ID="ID_1958762176" CREATED="1383586174431" MODIFIED="1383586180338">
<node TEXT="solution: turn off adaptation until we have enough prediction data" ID="ID_748649647" CREATED="1383586180671" MODIFIED="1383586192298"/>
</node>
<node TEXT="complex transactions" ID="ID_636470365" CREATED="1383586195734" MODIFIED="1383586199345"/>
</node>
</node>
</node>
<node TEXT="Dynamic Binary Translation" POSITION="left" ID="ID_1129396542" CREATED="1383591788785" MODIFIED="1383591804532">
<edge COLOR="#007c00"/>
<node TEXT="intro" ID="ID_170538328" CREATED="1383591807168" MODIFIED="1383591809587">
<node TEXT="what is DBT?" ID="ID_1366573267" CREATED="1383591852221" MODIFIED="1383591858496">
<node TEXT="dispatcher translates one BB at a time" ID="ID_1906356668" CREATED="1383591809896" MODIFIED="1383591821034"/>
<node TEXT="jump at end of BB goes back to dispatcher" ID="ID_1793193854" CREATED="1383591821247" MODIFIED="1383591831314"/>
<node TEXT="code cache keeps translated blocks" ID="ID_1154682252" CREATED="1383591831518" MODIFIED="1383591838889"/>
</node>
<node TEXT="why is kernel-level DBT harder?" ID="ID_989068225" CREATED="1383591865348" MODIFIED="1383591872799">
<node TEXT="exceptions and interrups" ID="ID_931231480" CREATED="1383591873195" MODIFIED="1383591878470">
<node TEXT="there are lots of them..." ID="ID_1015336523" CREATED="1383591878843" MODIFIED="1383591885374"/>
</node>
</node>
</node>
<node TEXT="how does kernel-level DBT work?" ID="ID_150789544" CREATED="1383591927848" MODIFIED="1383591934667">
<node TEXT="interpose on all kernel entry points" ID="ID_201852163" CREATED="1383591935144" MODIFIED="1383591942554">
<node TEXT="e.g., control the interrupt descriptor table" ID="ID_1357954702" CREATED="1383591947566" MODIFIED="1383591960041"/>
</node>
<node TEXT="what happens at an interrupt?" ID="ID_1944022437" CREATED="1383591983988" MODIFIED="1383591992255">
<node TEXT="1) convert interrupt state on stack to native values" ID="ID_713993637" CREATED="1383591993587" MODIFIED="1383592004582"/>
<node TEXT="2) emulate precise exceptions" ID="ID_1025856078" CREATED="1383592007554" MODIFIED="1383592013597">
<node TEXT="roll back partially executed translated instructions" ID="ID_363763530" CREATED="1383592034040" MODIFIED="1383592047099"/>
<node TEXT="overhead: translation needs to be structured to be able to roll back." ID="ID_37507932" CREATED="1383592074477" MODIFIED="1383592099303"/>
</node>
<node TEXT="3) emulate precise interrupt" ID="ID_226008726" CREATED="1383592110603" MODIFIED="1383592118678">
<node TEXT="delay delivery until the next instruction starts" ID="ID_1884640513" CREATED="1383592119467" MODIFIED="1383592127285"/>
</node>
</node>
</node>
<node TEXT="BTKernel" ID="ID_991983312" CREATED="1383592292622" MODIFIED="1383592295513">
<node TEXT="loadable kernel-module for linux" ID="ID_1681710794" CREATED="1383592297838" MODIFIED="1383592304265"/>
<node TEXT="insight" ID="ID_713221415" CREATED="1383592304709" MODIFIED="1383592309825">
<node TEXT="fully transparent DBT is not required" ID="ID_1535671383" CREATED="1383592310246" MODIFIED="1383592319632">
<node TEXT="kernel rarely relies on precise interrupts" ID="ID_1550635093" CREATED="1383592319941" MODIFIED="1383592328511"/>
<node TEXT="kernel rarely examines return addresses" ID="ID_767844317" CREATED="1383592328780" MODIFIED="1383592338335"/>
<node TEXT="thus, special cases can be handled specially" ID="ID_529747013" CREATED="1383592346907" MODIFIED="1383592357142"/>
</node>
<node TEXT="interrupts bypass the dispatcher, jump directly to translated code" ID="ID_301826049" CREATED="1383592370138" MODIFIED="1383592381492"/>
</node>
<node TEXT="concerns" ID="ID_73512828" CREATED="1383592410423" MODIFIED="1383592413170">
<node TEXT="at interrupts, read/write of the program counter yields wrong values" ID="ID_1731501074" CREATED="1383592413477" MODIFIED="1383592598189">
<node TEXT="example: linux exception tables in page fault handler" ID="ID_327415904" CREATED="1383592436805" MODIFIED="1383592445375"/>
<node TEXT="exception table constructed at compile time" ID="ID_650986769" CREATED="1383592452092" MODIFIED="1383592458975">
<node TEXT="contains PC ranges that are allowed to page fault" ID="ID_129240442" CREATED="1383592459203" MODIFIED="1383592470206"/>
<node TEXT="at exception, if PC not in table, the kernel panics" ID="ID_1609609514" CREATED="1383592476266" MODIFIED="1383592499716"/>
</node>
<node TEXT="solution: add addresses from code cache to exception table" ID="ID_89331216" CREATED="1383592502296" MODIFIED="1383592517258"/>
</node>
<node TEXT="code-cache addresses live in kernel data structures" ID="ID_201805728" CREATED="1383592631935" MODIFIED="1383592643266">
<node TEXT="what happens if the cache is invalidated?" ID="ID_748274674" CREATED="1383592644495" MODIFIED="1383592650898"/>
<node TEXT="solution: immutable and immovable cache blocks" ID="ID_1136363055" CREATED="1383592722601" MODIFIED="1383592733988"/>
</node>
<node TEXT="imprecise interrupts/exception" ID="ID_854518773" CREATED="1383592783733" MODIFIED="1383592792199">
<node TEXT="solution: do nothing" ID="ID_1376614706" CREATED="1383592794020" MODIFIED="1383592799759"/>
<node TEXT="the authors didn&apos;t find any example where the kernel relies on this." ID="ID_1048825939" CREATED="1383592800220" MODIFIED="1383592812838"/>
</node>
</node>
<node TEXT="optimizations" ID="ID_1954497730" CREATED="1383592818643" MODIFIED="1383592821870">
<node TEXT="L1-cache aware code cache" ID="ID_1809966939" CREATED="1383592823890" MODIFIED="1383592829629">
<node TEXT="DBT engines do direct branch chaining" ID="ID_138263245" CREATED="1383592862248" MODIFIED="1383592870786"/>
<node TEXT="thus, edge code (brach to dispatcher) is executed only once" ID="ID_584935714" CREATED="1383592871271" MODIFIED="1383592891049"/>
<node TEXT="solution: allocate edge code in a special memory region" ID="ID_1488095871" CREATED="1383592903333" MODIFIED="1383592916655"/>
</node>
<node TEXT="handle function returns" ID="ID_1863115504" CREATED="1383592930219" MODIFIED="1383592940910">
<node TEXT="traditionally, &quot;return&quot; handled as indirect branch" ID="ID_118976995" CREATED="1383592941257" MODIFIED="1383592951701"/>
<node TEXT="instead, want to translate &quot;return&quot; to &quot;return&quot;" ID="ID_359932975" CREATED="1383592952065" MODIFIED="1383592971667"/>
<node TEXT="needs carefull handling of &quot;call&quot; instructions in indirect targets" ID="ID_561940146" CREATED="1383592977943" MODIFIED="1383592989538"/>
</node>
</node>
</node>
<node TEXT="results" ID="ID_113474645" CREATED="1383593128485" MODIFIED="1383593129849">
<node TEXT="almost native performance in many cases" ID="ID_1807029741" CREATED="1383593132197" MODIFIED="1383593140064"/>
<node TEXT="call/ret optimization drastically (10000x) reduces the number of dispatcher exits" ID="ID_668338366" CREATED="1383593140357" MODIFIED="1383593166150"/>
</node>
<node TEXT="prior work" ID="ID_922508333" CREATED="1383592254417" MODIFIED="1383592256717">
<node TEXT="VMware study (ASPLOS 2006)" ID="ID_354248494" CREATED="1383592257345" MODIFIED="1383592266908"/>
<node TEXT="DynamoRio" ID="ID_602299107" CREATED="1383592267216" MODIFIED="1383592269659"/>
</node>
<node TEXT="github.com/piyus/btkernel" ID="ID_273326655" CREATED="1383593407074" MODIFIED="1383593418197"/>
</node>
<node TEXT="VirtuOS" POSITION="left" ID="ID_1586033311" CREATED="1383593488021" MODIFIED="1383593490240">
<edge COLOR="#7c007c"/>
<node TEXT="motivation" ID="ID_934495327" CREATED="1383593506347" MODIFIED="1383593518742">
<node TEXT="today&apos;s OSs are monolithic kernels" ID="ID_452667714" CREATED="1383593521290" MODIFIED="1383593533653"/>
<node TEXT="thus, bad fault isolation" ID="ID_1019374982" CREATED="1383593537457" MODIFIED="1383593551668"/>
<node TEXT="error-prone device drivers exacerbate the problem" ID="ID_1061087887" CREATED="1383593576151" MODIFIED="1383593586641"/>
</node>
<node TEXT="prior work" ID="ID_1261608951" CREATED="1383593601781" MODIFIED="1383593603928">
<node TEXT="split monolithic kernel into isolated modules" ID="ID_739032900" CREATED="1383593605373" MODIFIED="1383593619975">
<node TEXT="microkernels" ID="ID_496151576" CREATED="1383593628779" MODIFIED="1383593631926"/>
<node TEXT="user-level drivers" ID="ID_634478463" CREATED="1383593635362" MODIFIED="1383593642653"/>
<node TEXT="Xen driver domains" ID="ID_570239246" CREATED="1383593647226" MODIFIED="1383593654236"/>
</node>
<node TEXT="VirtuOS is a new point in the microkernel-VM design space" ID="ID_486990272" CREATED="1383593664744" MODIFIED="1383593679555"/>
</node>
<node TEXT="goals" ID="ID_742922883" CREATED="1383593692087" MODIFIED="1383593693730">
<node TEXT="flexibility" ID="ID_847219182" CREATED="1383593694095" MODIFIED="1383593696130">
<node TEXT="want to protect many different types of modules" ID="ID_1700699829" CREATED="1383593697007" MODIFIED="1383593733943">
<node TEXT="e.g., drivers" ID="ID_1736435805" CREATED="1383593734348" MODIFIED="1383593736487"/>
<node TEXT="e.g., network stack" ID="ID_874659524" CREATED="1383593736700" MODIFIED="1383593740999"/>
<node TEXT="e.g., file systems" ID="ID_1173337031" CREATED="1383593744067" MODIFIED="1383593746782"/>
</node>
<node TEXT="VirtuOS protects both low-level and high-level components" ID="ID_1650845881" CREATED="1383593754562" MODIFIED="1383593764389"/>
</node>
<node TEXT="strong isolation" ID="ID_515720083" CREATED="1383593765850" MODIFIED="1383593769421">
<node TEXT="protection domains" ID="ID_432071911" CREATED="1383593772521" MODIFIED="1383593777580">
<node TEXT="e.g., separate memory address spaces" ID="ID_943152740" CREATED="1383593777880" MODIFIED="1383593784100"/>
</node>
<node TEXT="privilege separation" ID="ID_804848710" CREATED="1383593785800" MODIFIED="1383593788963">
<node TEXT="e.g., drivers run in less privileged mode" ID="ID_875190918" CREATED="1383593789328" MODIFIED="1383593797915"/>
</node>
<node TEXT="device protection" ID="ID_207445673" CREATED="1383593800759" MODIFIED="1383593803490">
<node TEXT="can protect against faulty devices" ID="ID_272433304" CREATED="1383593806159" MODIFIED="1383593814401"/>
<node TEXT="e.g., iMMU remaps DMA regions" ID="ID_1486521801" CREATED="1383593814614" MODIFIED="1383593824913"/>
</node>
<node TEXT="VirtuOS supports all of these" ID="ID_1803150400" CREATED="1383593827398" MODIFIED="1383593833464"/>
</node>
<node TEXT="performance" ID="ID_815915895" CREATED="1383593836500" MODIFIED="1383593838856">
<node TEXT="performance issues hindered Microkernel adoption" ID="ID_1284642550" CREATED="1383593840260" MODIFIED="1383593848535"/>
<node TEXT="VirtuOS performance comparable to monolithic systems" ID="ID_1022450320" CREATED="1383593857355" MODIFIED="1383593868174"/>
</node>
<node TEXT="compatibility" ID="ID_669381537" CREATED="1383593873874" MODIFIED="1383593876710">
<node TEXT="want application-level compatibility" ID="ID_1961935294" CREATED="1383593882722" MODIFIED="1383593890604"/>
<node TEXT="want system code compatibility" ID="ID_330797797" CREATED="1383593894937" MODIFIED="1383593902156">
<node TEXT="e.g., reuse existing driver unmodified" ID="ID_1870823550" CREATED="1383593902456" MODIFIED="1383593911155"/>
</node>
</node>
</node>
<node TEXT="architecture" ID="ID_1919743377" CREATED="1383593921303" MODIFIED="1383593924106">
<node TEXT="VirtuOS runs on top of hypervisor" ID="ID_454472673" CREATED="1383593924478" MODIFIED="1383593934329"/>
<node TEXT="multiple domains, each in its own VM" ID="ID_523797080" CREATED="1383593934550" MODIFIED="1383593946897">
<node TEXT="e.g., network domain" ID="ID_542938729" CREATED="1383593949013" MODIFIED="1383593953080"/>
<node TEXT="e.g., storage domain" ID="ID_518652311" CREATED="1383593953285" MODIFIED="1383593956312"/>
<node TEXT="e.g., primary domain with process management, PCI, ..." ID="ID_1538953904" CREATED="1383593959405" MODIFIED="1383593969111"/>
</node>
<node TEXT="individual VMs get protected direct device access" ID="ID_170514967" CREATED="1383593981730" MODIFIED="1383593990438"/>
<node TEXT="system calls get directly dispatched to the right VM" ID="ID_811496895" CREATED="1383593994161" MODIFIED="1383594001733"/>
</node>
<node TEXT="example: read system call" ID="ID_1300376510" CREATED="1383594103970" MODIFIED="1383594108334">
<node TEXT="file descriptors are tagged with their service domain" ID="ID_1893702309" CREATED="1383594109122" MODIFIED="1383594118413"/>
<node TEXT="hence, read() call knows what domain to dispatch the syscall to" ID="ID_1068760444" CREATED="1383594118706" MODIFIED="1383594132380"/>
<node TEXT="syscalls are put in a shared request queue" ID="ID_451702361" CREATED="1383594136953" MODIFIED="1383594161226"/>
<node TEXT="storage service domain wakes up, sees request, serves it" ID="ID_867195080" CREATED="1383594161687" MODIFIED="1383594174177"/>
<node TEXT="read() result is copied into data buffer in shared region" ID="ID_1476573644" CREATED="1383594175038" MODIFIED="1383594190408"/>
<node TEXT="service domain puts a &quot;completed&quot; notification in queue, to notify user thread that the syscall has completed" ID="ID_893724427" CREATED="1383594234418" MODIFIED="1383594262747">
<node TEXT="for fast syscalls, user thread can spin until syscall finishes" ID="ID_1184266553" CREATED="1383594391759" MODIFIED="1383594406577"/>
</node>
</node>
<node TEXT="disadvantages" ID="ID_399015078" CREATED="1383594307597" MODIFIED="1383594316176">
<node TEXT="data buffer introduces additional copy" ID="ID_1076793935" CREATED="1383594317020" MODIFIED="1383594323359"/>
</node>
<node TEXT="people.cs.vt.edu/&lt;tilde&gt;rnikola" ID="ID_1777870400" CREATED="1383594955745" MODIFIED="1383595019680"/>
</node>
<node TEXT="20 years of L4" POSITION="left" ID="ID_1920142851" CREATED="1383595288353" MODIFIED="1383595297725">
<edge COLOR="#007c7c"/>
<node TEXT="intro" ID="ID_1543035805" CREATED="1383595298569" MODIFIED="1383595300652">
<node TEXT="20 years ago..." ID="ID_1116870990" CREATED="1383595301009" MODIFIED="1383595305356">
<node TEXT="Windows NT" ID="ID_344857656" CREATED="1383595306152" MODIFIED="1383595316363"/>
<node TEXT="improving IPC by Kernel design (SOSP 1993)" ID="ID_853205242" CREATED="1383595316880" MODIFIED="1383595327698">
<node TEXT="100 microseconds disaster" ID="ID_329018423" CREATED="1383595348565" MODIFIED="1383595354377"/>
<node TEXT="IPCs could not get below 100 us" ID="ID_1466750564" CREATED="1383595354934" MODIFIED="1383595371880"/>
<node TEXT="until L4 did it in 5 us" ID="ID_1764294363" CREATED="1383595379580" MODIFIED="1383595399348">
<node TEXT="in 1995, people found that the cache footprint was the main reason for slowness" ID="ID_511228649" CREATED="1383595414306" MODIFIED="1383595433923"/>
</node>
</node>
</node>
</node>
<node ID="ID_386782743" CREATED="1383595512507" MODIFIED="1383595524642"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      core principle<font color="#0000ff">s</font>
    </p>
  </body>
</html>

</richcontent>
<node TEXT="minimality" ID="ID_1739325071" CREATED="1383595525921" MODIFIED="1383595527901">
<node TEXT="what?" ID="ID_1189495511" CREATED="1383596779989" MODIFIED="1383596781832">
<node TEXT="keep in the kernel only what you must" ID="ID_191642423" CREATED="1383595530594" MODIFIED="1383595537340"/>
<node TEXT="L4 kernels are small (approx 10KLoc)" ID="ID_1066078557" CREATED="1383595587813" MODIFIED="1383595601256"/>
<node TEXT="kernels have not grown much over 20 years" ID="ID_1604132797" CREATED="1383595636409" MODIFIED="1383595645557"/>
<node TEXT="APIs even shrunk, became simpler" ID="ID_1232610327" CREATED="1383595645770" MODIFIED="1383595653108"/>
</node>
<node TEXT="*the* primary design principle" ID="ID_1696635454" CREATED="1383596787379" MODIFIED="1383596804486"/>
</node>
<node TEXT="dependability" ID="ID_1844389733" CREATED="1383595761746" MODIFIED="1383595763885">
<node TEXT="several refinement steps with proofs" ID="ID_1595708661" CREATED="1383595764682" MODIFIED="1383595778004"/>
<node TEXT="thus, verified down to the binary" ID="ID_877246010" CREATED="1383595778393" MODIFIED="1383595784740"/>
</node>
<node TEXT="fast IPC" ID="ID_450512437" CREATED="1383596808555" MODIFIED="1383596813622">
<node TEXT="still matters today" ID="ID_1169931898" CREATED="1383596820874" MODIFIED="1383596843411"/>
<node TEXT="but shouldn&apos;t optimize prematurely" ID="ID_301715899" CREATED="1383596843993" MODIFIED="1383596849835"/>
</node>
</node>
<node TEXT="L4 family tree" ID="ID_977745662" CREATED="1383595660976" MODIFIED="1383595664604">
<node TEXT="many implementations of L4 exist" ID="ID_1125499863" CREATED="1383595665064" MODIFIED="1383595669994"/>
<node TEXT="deployment" ID="ID_1202173152" CREATED="1383595700390" MODIFIED="1383595703489">
<node TEXT="ebook readers" ID="ID_1339150662" CREATED="1383595703829" MODIFIED="1383595710208"/>
<node TEXT="firmware for mobile phone chips" ID="ID_300602018" CREATED="1383595710597" MODIFIED="1383595716696"/>
<node TEXT="used in corean trades" ID="ID_267829643" CREATED="1383595717556" MODIFIED="1383595721496"/>
<node TEXT="PIkeOS used in Airbus 350" ID="ID_880305643" CREATED="1383595721717" MODIFIED="1383595726599"/>
<node TEXT="SiMKo 3 &quot;Merkelphone&quot;" ID="ID_682489049" CREATED="1383595732100" MODIFIED="1383595739807"/>
</node>
</node>
<node TEXT="L4 implementation" ID="ID_840600080" CREATED="1383595840996" MODIFIED="1383595846967">
<node TEXT="overall goal" ID="ID_602415832" CREATED="1383595852788" MODIFIED="1383595854839">
<node TEXT="minimize cache/TLB footprint" ID="ID_1865540157" CREATED="1383595855107" MODIFIED="1383595867342"/>
</node>
<node TEXT="IPC" ID="ID_1819864459" CREATED="1383596278143" MODIFIED="1383596279826">
<node TEXT="rendezvous model" ID="ID_1868240693" CREATED="1383595870699" MODIFIED="1383595875213">
<node TEXT="synchronous IPC model" ID="ID_412606232" CREATED="1383596228106" MODIFIED="1383596232893"/>
<node TEXT="IPC happens when both threads are ready" ID="ID_1259175285" CREATED="1383595887041" MODIFIED="1383595898372"/>
<node TEXT="thus, kernel needs a single copy of data from sender directly to receiver" ID="ID_1277967987" CREATED="1383595898633" MODIFIED="1383595911043"/>
<node TEXT="copy happens in the sender&apos;s context" ID="ID_673589793" CREATED="1383595931790" MODIFIED="1383595938025"/>
<node TEXT="registers don&apos;t need to be copied at all" ID="ID_369648739" CREATED="1383595911912" MODIFIED="1383595927378"/>
</node>
<node TEXT="&quot;Long IPC&quot;" ID="ID_1916672414" CREATED="1383596089507" MODIFIED="1383596094190">
<node TEXT="a feature of early L4 kernels" ID="ID_273422497" CREATED="1383596094587" MODIFIED="1383596103886"/>
<node TEXT="allowed to copy data from anywhere in the sender to anywhere in the receiver" ID="ID_964032620" CREATED="1383596104618" MODIFIED="1383596114573"/>
<node TEXT="both sender and receiver must handle page faults during copy" ID="ID_305131190" CREATED="1383596114817" MODIFIED="1383596126980">
<node TEXT="but page-fault handlers are in userspace" ID="ID_337572473" CREATED="1383596127281" MODIFIED="1383596133812"/>
<node TEXT="untrusted" ID="ID_1406893340" CREATED="1383596134008" MODIFIED="1383596136100"/>
<node TEXT="can lead to DOS" ID="ID_1692880866" CREATED="1383596136465" MODIFIED="1383596139659"/>
</node>
<node TEXT="new L4 kernels do not provide long IPC" ID="ID_1082909317" CREATED="1383596142967" MODIFIED="1383596151843"/>
</node>
<node TEXT="timeouts" ID="ID_1830356022" CREATED="1383596154351" MODIFIED="1383596156482">
<node TEXT="no good theory for determining timeouts" ID="ID_1537633008" CREATED="1383596157014" MODIFIED="1383596168361"/>
<node TEXT="thus, L4 does not provide timeouts for IPC" ID="ID_1536720664" CREATED="1383596201780" MODIFIED="1383596218462"/>
</node>
<node TEXT="issues with synchronous IPC" ID="ID_1784250278" CREATED="1383596284982" MODIFIED="1383596292065">
<node TEXT="threads will always block when doing IPC" ID="ID_1341315573" CREATED="1383596293150" MODIFIED="1383596303664"/>
<node TEXT="this often requires separate threads for IPC" ID="ID_413625367" CREATED="1383596314940" MODIFIED="1383596527651">
<icon BUILTIN="smily_bad"/>
</node>
<node TEXT="newer L4 kernels have asynchronous IPC" ID="ID_694806643" CREATED="1383596349850" MODIFIED="1383596361516"/>
</node>
<node TEXT="IPC destination naming" ID="ID_173294313" CREATED="1383596369472" MODIFIED="1383596375628">
<node TEXT="original L4 used thread IDs for IPC" ID="ID_1632390468" CREATED="1383596376848" MODIFIED="1383596383387"/>
<node TEXT="thus, internal thread structure of server is exposed to client" ID="ID_1976256283" CREATED="1383596390271" MODIFIED="1383596399602"/>
<node TEXT="cannot do load-balancing at the server easily" ID="ID_1292921282" CREATED="1383596400854" MODIFIED="1383596413585"/>
<node TEXT="has covert channels" ID="ID_629468265" CREATED="1383596419501" MODIFIED="1383596423216"/>
<node TEXT="newer L4 kernels use end-points" ID="ID_139671539" CREATED="1383596429885" MODIFIED="1383596453126">
<node TEXT="so-called &quot;ports&quot;" ID="ID_779385397" CREATED="1383596453371" MODIFIED="1383596456462"/>
<node TEXT="synchronous queues that synchronize senders with receivers" ID="ID_1299847288" CREATED="1383596464673" MODIFIED="1383596501275"/>
<node TEXT="queues do not buffer messages (instead, sender blocks)" ID="ID_23248002" CREATED="1383596482113" MODIFIED="1383596493771"/>
</node>
</node>
</node>
<node TEXT="virtual TCB Array" ID="ID_1585208396" CREATED="1383596538509" MODIFIED="1383596549736">
<node TEXT="TCB = thread control block" ID="ID_1719932495" CREATED="1383596558260" MODIFIED="1383596565647"/>
<node TEXT="indexed by thread id" ID="ID_172289070" CREATED="1383596550620" MODIFIED="1383596556855"/>
<node TEXT="Kernel stack allocated alongside the TCB" ID="ID_1191555185" CREATED="1383596587058" MODIFIED="1383596600300">
<node TEXT="can find TCB address by masking bits in some stack pointer" ID="ID_679974486" CREATED="1383596611775" MODIFIED="1383596631010"/>
</node>
<node TEXT="downside" ID="ID_1859275473" CREATED="1383596567123" MODIFIED="1383596572462">
<node TEXT="consumes virtual address space" ID="ID_1167694635" CREATED="1383596572771" MODIFIED="1383596579445"/>
</node>
<node TEXT="no more used in today&apos;s L4" ID="ID_720804995" CREATED="1383596654053" MODIFIED="1383596661424">
<node TEXT="not worthwile on modern processors" ID="ID_830934147" CREATED="1383596662067" MODIFIED="1383596667320"/>
</node>
</node>
</node>
<node TEXT="L4 Tricks and Design Decisions" ID="ID_984921404" CREATED="1383596725081" MODIFIED="1383596736027">
<node TEXT="published at SOSP 93 and 95" ID="ID_1758175855" CREATED="1383596744311" MODIFIED="1383596750930"/>
<node TEXT="most of them no longer valid today" ID="ID_837486177" CREATED="1383596736448" MODIFIED="1383596741515"/>
<node TEXT="what is still valid?" ID="ID_106385216" CREATED="1383596753350" MODIFIED="1383596756625">
<node TEXT="non-preemptible kernel" ID="ID_1628858057" CREATED="1383596757046" MODIFIED="1383596762145"/>
<node TEXT="user-mode device drivers" ID="ID_1195395240" CREATED="1383596762485" MODIFIED="1383596768713"/>
<node TEXT="capabilities are the way to go" ID="ID_185355022" CREATED="1383596868503" MODIFIED="1383596872626"/>
</node>
</node>
<node TEXT="Open problems" ID="ID_1749804575" CREATED="1383596873646" MODIFIED="1383596875697">
<node TEXT="how to reason about time?" ID="ID_1881895969" CREATED="1383596876614" MODIFIED="1383596881017">
<node TEXT="a good abstraction is still elusive" ID="ID_38082014" CREATED="1383596881301" MODIFIED="1383596886961"/>
</node>
</node>
</node>
<node TEXT="Asynchronous Intrusion Recovery" POSITION="left" ID="ID_86668533" CREATED="1383658949807" MODIFIED="1383659039849">
<edge COLOR="#7c7c00"/>
<node TEXT="high-level idea" ID="ID_55754246" CREATED="1383659199385" MODIFIED="1383659202955">
<node TEXT="intrusions happen" ID="ID_349384477" CREATED="1383659203320" MODIFIED="1383659206227"/>
<node TEXT="services should be able to repair after an intrusion" ID="ID_1511713967" CREATED="1383659206448" MODIFIED="1383659215690"/>
<node TEXT="features" ID="ID_1011578027" CREATED="1383659620331" MODIFIED="1383659625358">
<node TEXT="asynchronous" ID="ID_47632481" CREATED="1383659625755" MODIFIED="1383659628230"/>
<node TEXT="decentralized" ID="ID_300148473" CREATED="1383659628442" MODIFIED="1383659631749"/>
</node>
</node>
<node TEXT="design" ID="ID_1465426709" CREATED="1383659275202" MODIFIED="1383659276518">
<node TEXT="asynchronous repair" ID="ID_987867737" CREATED="1383659277002" MODIFIED="1383659281045">
<node TEXT="can happen even if services are unavailable" ID="ID_840691782" CREATED="1383659281282" MODIFIED="1383659289365"/>
</node>
<node TEXT="repair happens directly within web services" ID="ID_1613083608" CREATED="1383659290145" MODIFIED="1383659298812">
<node TEXT="no centralised control needed" ID="ID_666038631" CREATED="1383659299072" MODIFIED="1383659303883"/>
</node>
</node>
<node TEXT="prototype" ID="ID_1984164995" CREATED="1383659308568" MODIFIED="1383659312227">
<node TEXT="Aire" ID="ID_1543832575" CREATED="1383659312872" MODIFIED="1383659314011"/>
<node TEXT="works with Django web services" ID="ID_1907383319" CREATED="1383659314223" MODIFIED="1383659320466"/>
<node TEXT="experiments" ID="ID_42331186" CREATED="1383659344653" MODIFIED="1383659346513">
<node TEXT="modified a number of Django services" ID="ID_38453792" CREATED="1383659346781" MODIFIED="1383659354480">
<node TEXT="AskBot" ID="ID_672357678" CREATED="1383659354685" MODIFIED="1383659356704">
<node TEXT="a forum" ID="ID_152429382" CREATED="1383659548823" MODIFIED="1383659551555"/>
</node>
<node TEXT="OAuth Provider" ID="ID_101847667" CREATED="1383659356917" MODIFIED="1383659360080"/>
<node TEXT="DPaste" ID="ID_215760934" CREATED="1383659360316" MODIFIED="1383659366048">
<node TEXT="a place where people can post code snippets" ID="ID_355931817" CREATED="1383659553111" MODIFIED="1383659561306"/>
</node>
</node>
<node TEXT="Introduced a vulnerability in the OAuth provider" ID="ID_1406929303" CREATED="1383659396186" MODIFIED="1383659405125">
<node TEXT="thus, attacker got full access to the service" ID="ID_1235782424" CREATED="1383659405857" MODIFIED="1383659431963"/>
</node>
<node TEXT="OAuth provider then initiates recovery" ID="ID_79409948" CREATED="1383659433800" MODIFIED="1383659440370">
<node TEXT="AskBot removes posts by attacker" ID="ID_1154098247" CREATED="1383659445703" MODIFIED="1383659454881"/>
<node TEXT="DPaste removes code snippets created by attacker" ID="ID_156806902" CREATED="1383659455118" MODIFIED="1383659463584"/>
</node>
<node TEXT="overhead" ID="ID_852685804" CREATED="1383659473588" MODIFIED="1383659475432">
<node TEXT="roughly 20% less throughput" ID="ID_1191058187" CREATED="1383659475725" MODIFIED="1383659481600"/>
<node TEXT="5-9 KB storage per request" ID="ID_1164512064" CREATED="1383659481860" MODIFIED="1383659494823"/>
</node>
</node>
</node>
</node>
<node TEXT="Crash Consistency" POSITION="left" ID="ID_456835501" CREATED="1383659993611" MODIFIED="1383659997598">
<edge COLOR="#ff0000"/>
<node TEXT="problem" ID="ID_131427476" CREATED="1383660008362" MODIFIED="1383660010053">
<node TEXT="fsync is very expensive, needs to flush disk cache" ID="ID_1758493239" CREATED="1383660010377" MODIFIED="1383660365350"/>
<node TEXT="crash consistency is expensive" ID="ID_1069629824" CREATED="1383660020257" MODIFIED="1383660025268"/>
<node TEXT="file systems conflate ordering and durability" ID="ID_1121511388" CREATED="1383660030297" MODIFIED="1383660038228">
<node TEXT="writes are ordered, depend on each other" ID="ID_1828368498" CREATED="1383660039968" MODIFIED="1383660048394"/>
<node TEXT="crash consistency needs ordering" ID="ID_1733645103" CREATED="1383660213125" MODIFIED="1383660219671"/>
<node TEXT="no way to guarantee ordering only" ID="ID_764382252" CREATED="1383660220029" MODIFIED="1383660231151">
<node TEXT="calls like fsync guarantee ordering *and* durability" ID="ID_1846386205" CREATED="1383660231403" MODIFIED="1383660242950"/>
<node TEXT="thus they are expensive" ID="ID_1968723356" CREATED="1383660243162" MODIFIED="1383660247126"/>
</node>
</node>
</node>
<node TEXT="OptFS" ID="ID_721772137" CREATED="1383660092317" MODIFIED="1383660095344">
<node TEXT="Optimistic File System" ID="ID_24787460" CREATED="1383660095524" MODIFIED="1383660100143"/>
<node TEXT="decouples ordering and durability" ID="ID_89687398" CREATED="1383660103132" MODIFIED="1383660109583"/>
<node TEXT="trades freshness for performance" ID="ID_475573510" CREATED="1383660109811" MODIFIED="1383660114374"/>
<node TEXT="techniques" ID="ID_1064463684" CREATED="1383660119315" MODIFIED="1383660120918">
<node TEXT="checksums" ID="ID_1577650240" CREATED="1383660121155" MODIFIED="1383660123542">
<node TEXT="Journal commits contain checksum over data and journaling metadata" ID="ID_319448900" CREATED="1383660808877" MODIFIED="1383660822479"/>
<node TEXT="thus, we can check whether journaling made it to disk" ID="ID_1682878945" CREATED="1383660823124" MODIFIED="1383660850638"/>
</node>
<node TEXT="delayed writes" ID="ID_1156561464" CREATED="1383660123730" MODIFIED="1383660126365">
<node TEXT="metadata writes are delayed until the affected blocks are no more in the disk cache" ID="ID_1101888518" CREATED="1383660911758" MODIFIED="1383660925089"/>
</node>
<node TEXT="strong crash consistency" ID="ID_26760121" CREATED="1383660126586" MODIFIED="1383660134565"/>
</node>
<node TEXT="new primitive" ID="ID_159300640" CREATED="1383660136146" MODIFIED="1383660140341">
<node TEXT="osync" ID="ID_131008660" CREATED="1383660141121" MODIFIED="1383660142325">
<node TEXT="guarantees only odering, not durability" ID="ID_53049155" CREATED="1383660142528" MODIFIED="1383660152452"/>
</node>
<node TEXT="dsync" ID="ID_179338404" CREATED="1383661002440" MODIFIED="1383661004699">
<node TEXT="provides durability" ID="ID_1094208548" CREATED="1383661006872" MODIFIED="1383661009939"/>
<node TEXT="fsync = osync + dsync" ID="ID_1483426159" CREATED="1383661010639" MODIFIED="1383661017154"/>
</node>
</node>
</node>
<node TEXT="Journaling" ID="ID_443482027" CREATED="1383660164640" MODIFIED="1383660166259">
<node TEXT="before updating the FS, write a note describing the update" ID="ID_1051772448" CREATED="1383660166711" MODIFIED="1383660178298"/>
<node TEXT="ensure note is safely on disk before performing update" ID="ID_295309896" CREATED="1383660179126" MODIFIED="1383660191041"/>
<node TEXT="disk caches are bad for ordering" ID="ID_1873654932" CREATED="1383660288200" MODIFIED="1383660299842">
<node TEXT="because disks might reorder writes in the cache" ID="ID_1483435414" CREATED="1383660300247" MODIFIED="1383660311001"/>
<node TEXT="thus, fsync needs to flush write buffer" ID="ID_1713816413" CREATED="1383660311222" MODIFIED="1383660327150">
<icon BUILTIN="smily_bad"/>
</node>
</node>
</node>
<node TEXT="probabilistic crash consistency" ID="ID_540551456" CREATED="1383660409535" MODIFIED="1383660415394">
<node TEXT="ext3 did not enable flushes by default, for many years" ID="ID_1445001144" CREATED="1383660415751" MODIFIED="1383660426897"/>
<node TEXT="this was often OK" ID="ID_20756533" CREATED="1383660427103" MODIFIED="1383660430905">
<node TEXT="crashes sometimes did not lead to inconsistency" ID="ID_464846969" CREATED="1383660442246" MODIFIED="1383660452784"/>
</node>
<node TEXT="works well for read-intensive workloads" ID="ID_1080477046" CREATED="1383660593788" MODIFIED="1383660601054"/>
<node TEXT="does not work well for databases" ID="ID_1301313030" CREATED="1383660601267" MODIFIED="1383660605270"/>
</node>
<node TEXT="prototype" ID="ID_504785466" CREATED="1383661033934" MODIFIED="1383661037193">
<node TEXT="3000 lines of code modified from ext4" ID="ID_1187394440" CREATED="1383661037518" MODIFIED="1383661045945"/>
<node TEXT="does OptFS preserve consistency?" ID="ID_1119466036" CREATED="1383661079034" MODIFIED="1383661085902">
<node TEXT="yes, never found inconsistency in 400 random crashes" ID="ID_444914025" CREATED="1383661090634" MODIFIED="1383661102500"/>
</node>
<node TEXT="how does OptFS perform?" ID="ID_1290983969" CREATED="1383661107297" MODIFIED="1383661138155">
<node TEXT="4-10x better than ext4 in some workloads" ID="ID_307721192" CREATED="1383661112041" MODIFIED="1383661129923"/>
</node>
<node TEXT="Can one build application-level consistency?" ID="ID_1728267841" CREATED="1383661138567" MODIFIED="1383661146394">
<node TEXT="experiment" ID="ID_1154999195" CREATED="1383661231297" MODIFIED="1383661232923">
<node TEXT="modified sqlite, replace all fsync with osync" ID="ID_1528424672" CREATED="1383661152510" MODIFIED="1383661207630"/>
<node TEXT="start with a consistent disk image" ID="ID_642595325" CREATED="1383661209515" MODIFIED="1383661214965"/>
<node TEXT="drop all writes after some randomly chosen point" ID="ID_423323075" CREATED="1383661167613" MODIFIED="1383661226061"/>
<node TEXT="replay writes on original disk image" ID="ID_1710951056" CREATED="1383661175252" MODIFIED="1383661182215"/>
<node TEXT="examine whether the result is consistent" ID="ID_553927521" CREATED="1383661182419" MODIFIED="1383661188903"/>
</node>
<node TEXT="zero inconsistencies found" ID="ID_1201940974" CREATED="1383661247968" MODIFIED="1383661254875"/>
<node TEXT="some inconsistencies found with ext4 without flushes" ID="ID_1179209334" CREATED="1383661268582" MODIFIED="1383661278641"/>
<node TEXT="OptFS recovers to initial image more often than ext4 with flushes" ID="ID_1259681566" CREATED="1383661288269" MODIFIED="1383661305111"/>
<node TEXT="But OptFS is 10x faster than ext4 with flushes" ID="ID_771402782" CREATED="1383661308804" MODIFIED="1383661319390"/>
</node>
</node>
<node TEXT="github.com/vijay03/optfs" ID="ID_9658348" CREATED="1383661453578" MODIFIED="1383661465661"/>
</node>
<node TEXT="Do not blame users for misconfigurations" POSITION="left" ID="ID_1887254330" CREATED="1383661833064" MODIFIED="1383661838091">
<edge COLOR="#0000ff"/>
<node TEXT="intro" ID="ID_1078692416" CREATED="1383661838464" MODIFIED="1383661844692">
<node TEXT="we all make configuration errors" ID="ID_1841292946" CREATED="1383661845056" MODIFIED="1383661851715">
<node TEXT="30% of software issues" ID="ID_720179602" CREATED="1383661852302" MODIFIED="1383661869962"/>
</node>
<node TEXT="misconfigurations are bad" ID="ID_577394483" CREATED="1383661993830" MODIFIED="1383661997513">
<node TEXT="20% of tested software can be made unavailable by misconfiguration" ID="ID_1503211789" CREATED="1383661997733" MODIFIED="1383662012904"/>
</node>
<node TEXT="often, this is because config is hard" ID="ID_525088317" CREATED="1383661876054" MODIFIED="1383661881721">
<node TEXT="there are invalid configuration settings" ID="ID_1153713945" CREATED="1383661889397" MODIFIED="1383661894688"/>
</node>
<node TEXT="configuration is a user interface" ID="ID_1088732666" CREATED="1383661915012" MODIFIED="1383661919943">
<node TEXT="it should be as easy as IPhones" ID="ID_515426021" CREATED="1383661933162" MODIFIED="1383661939189"/>
</node>
<node TEXT="goals of this project" ID="ID_494979273" CREATED="1383661955344" MODIFIED="1383661959700">
<node TEXT="react gracefully to misconfiguration" ID="ID_791913350" CREATED="1383661959969" MODIFIED="1383661967659">
<node TEXT="system should detect misconfig, not crash" ID="ID_1953995888" CREATED="1383661968040" MODIFIED="1383661974011"/>
</node>
<node TEXT="intuitive configuration" ID="ID_995546965" CREATED="1383662027876" MODIFIED="1383662036655">
<node TEXT="assumptions should be documented" ID="ID_1232459601" CREATED="1383662038180" MODIFIED="1383662043366">
<node TEXT="e.g., lower-case only values" ID="ID_460617246" CREATED="1383662043579" MODIFIED="1383662049094"/>
</node>
</node>
</node>
</node>
<node TEXT="contributions" ID="ID_232499922" CREATED="1383662076745" MODIFIED="1383662080940">
<node TEXT="spex" ID="ID_510003670" CREATED="1383662084344" MODIFIED="1383662086355">
<node TEXT="automatically infer configuration constraints" ID="ID_1841801810" CREATED="1383662086624" MODIFIED="1383662093251">
<node TEXT="static source code analysis" ID="ID_1655800611" CREATED="1383662093992" MODIFIED="1383662100738"/>
</node>
</node>
<node TEXT="ues spex to" ID="ID_1459215210" CREATED="1383662118310" MODIFIED="1383662121473">
<node TEXT="expose misconfiguration vulnerabilities" ID="ID_1953816521" CREATED="1383662121774" MODIFIED="1383662127704"/>
<node TEXT="detect error-prone configuration design" ID="ID_31676063" CREATED="1383662127925" MODIFIED="1383662133712"/>
</node>
<node TEXT="improve configuration of real-world system" ID="ID_631080056" CREATED="1383662141540" MODIFIED="1383662148320">
<node TEXT="743 vulnerabilities reported, 364 fixed" ID="ID_1129065713" CREATED="1383662180265" MODIFIED="1383663179686"/>
<node TEXT="112 bugs reported, 80 fixed" ID="ID_1739102301" CREATED="1383662149547" MODIFIED="1383662158159"/>
</node>
</node>
<node TEXT="Spex" ID="ID_1300652774" CREATED="1383662192361" MODIFIED="1383662194244">
<node TEXT="input: source code" ID="ID_1167663530" CREATED="1383662194560" MODIFIED="1383662202748"/>
<node TEXT="output: configuration constraints" ID="ID_1633138864" CREATED="1383662202985" MODIFIED="1383662278239"/>
<node TEXT="architecture" ID="ID_1856853377" CREATED="1383662213136" MODIFIED="1383662215619">
<node TEXT="mapping engine" ID="ID_1934075154" CREATED="1383662215960" MODIFIED="1383662218347">
<node TEXT="maps configuration directive to program variables" ID="ID_8258226" CREATED="1383662225495" MODIFIED="1383662232858"/>
<node TEXT="non-trivial problems" ID="ID_1008703145" CREATED="1383662296715" MODIFIED="1383662301589"/>
<node TEXT="can often exploit program structure" ID="ID_1640648956" CREATED="1383662301834" MODIFIED="1383662308629">
<node TEXT="often, mapping is structure-based" ID="ID_224056387" CREATED="1383662308905" MODIFIED="1383662321580">
<node TEXT="a program data structure corresponds to config file" ID="ID_1071714741" CREATED="1383662321800" MODIFIED="1383662335491"/>
</node>
</node>
<node TEXT="but always relies on developer annotations" ID="ID_1803144673" CREATED="1383662358198" MODIFIED="1383662371737"/>
</node>
<node TEXT="inference engine" ID="ID_1114371309" CREATED="1383662218583" MODIFIED="1383662224626">
<node TEXT="static analysis of program variables" ID="ID_222538450" CREATED="1383662247014" MODIFIED="1383662267656"/>
<node TEXT="data type inference" ID="ID_1543293939" CREATED="1383662585519" MODIFIED="1383662588650">
<node TEXT="check how value is used in libcall/syscall" ID="ID_573634531" CREATED="1383662592095" MODIFIED="1383662599881"/>
<node TEXT="finds, e.g., values that must name files" ID="ID_34302005" CREATED="1383662604798" MODIFIED="1383662617792"/>
</node>
<node TEXT="data range inference" ID="ID_702014931" CREATED="1383662619821" MODIFIED="1383662623136">
<node TEXT="looks for comparisons with constant values" ID="ID_614896957" CREATED="1383662623412" MODIFIED="1383662628295"/>
</node>
<node TEXT="control dependency inference" ID="ID_909005842" CREATED="1383662646003" MODIFIED="1383662663149">
<node TEXT="finds dependencies between two config directives" ID="ID_1000578422" CREATED="1383662667619" MODIFIED="1383662678812"/>
<node TEXT="some values are only read when others are set" ID="ID_2058032" CREATED="1383662693047" MODIFIED="1383662704227"/>
</node>
</node>
</node>
</node>
<node TEXT="use cases" ID="ID_1241599179" CREATED="1383662761715" MODIFIED="1383662764518">
<node TEXT="misconfiguration injection" ID="ID_965782792" CREATED="1383662764850" MODIFIED="1383662772574">
<node TEXT="uses discovered constraints to generate &quot;likely valid&quot; configs" ID="ID_1872241921" CREATED="1383662772858" MODIFIED="1383662789197"/>
</node>
<node TEXT="detect error-prone configs" ID="ID_1576222694" CREATED="1383662895411" MODIFIED="1383662905757">
<node TEXT="inconsistencies" ID="ID_1756905975" CREATED="1383662906114" MODIFIED="1383662908493">
<node TEXT="e.g., different units" ID="ID_477840925" CREATED="1383662928496" MODIFIED="1383662933107"/>
<node TEXT="e.g., different case sensitivities" ID="ID_1327264166" CREATED="1383662933335" MODIFIED="1383662944068"/>
</node>
<node TEXT="silent overruling of user-specified values" ID="ID_1549381325" CREATED="1383662908730" MODIFIED="1383662917084"/>
<node TEXT="undocumented constraints" ID="ID_726368121" CREATED="1383662919329" MODIFIED="1383662923668"/>
</node>
</node>
<node TEXT="results" ID="ID_1251621212" CREATED="1383663063167" MODIFIED="1383663064171">
<node TEXT="requires little annotation" ID="ID_1423787197" CREATED="1383663064543" MODIFIED="1383663069578">
<node TEXT="10 lines on average" ID="ID_1068675142" CREATED="1383663069902" MODIFIED="1383663080914"/>
</node>
<node TEXT="could detect approx 25% of real-world misconfigurations in advance" ID="ID_1883238880" CREATED="1383663082798" MODIFIED="1383663107304"/>
<node TEXT="inference engine is acurrate" ID="ID_569887920" CREATED="1383663113747" MODIFIED="1383663121575"/>
</node>
<node TEXT="TODO" ID="ID_742149007" CREATED="1383662162323" MODIFIED="1383662163966">
<node TEXT="tell Silviu about this" ID="ID_936727314" CREATED="1383662164234" MODIFIED="1383662168358"/>
<node TEXT="Talk with the developers about the tool" ID="ID_1269802052" CREATED="1383663321998" MODIFIED="1383663335393"/>
</node>
</node>
<node TEXT="Towards Optimization-Safe Systems" POSITION="left" ID="ID_1481063827" CREATED="1383663576725" MODIFIED="1383663583496">
<edge COLOR="#00ff00"/>
<node TEXT="intro" ID="ID_1501233040" CREATED="1383663607027" MODIFIED="1383663608318">
<node TEXT="how compilers can screw up your code" ID="ID_1558495209" CREATED="1383663608635" MODIFIED="1383663616742"/>
<node TEXT="undefined behavior" ID="ID_163582718" CREATED="1383663630561" MODIFIED="1383663634004">
<node TEXT="problematic" ID="ID_845177403" CREATED="1383663634242" MODIFIED="1383663636461"/>
</node>
<node TEXT="disagreement between compiler writers and developers" ID="ID_463133270" CREATED="1383664231241" MODIFIED="1383664243276"/>
<node TEXT="example" ID="ID_109575366" CREATED="1383663684086" MODIFIED="1383663685578">
<node TEXT="compiler discards overflow check" ID="ID_1344150470" CREATED="1383663685950" MODIFIED="1383663692945">
<node TEXT="C spec says that pointer overflow is undefined" ID="ID_861814497" CREATED="1383663732163" MODIFIED="1383663738886"/>
<node TEXT="compiler assumes it will not happen" ID="ID_1930010559" CREATED="1383663739106" MODIFIED="1383663744237"/>
<node TEXT="attacker can craft a large offset that will not be detected" ID="ID_1284122010" CREATED="1383663765777" MODIFIED="1383663775443"/>
</node>
<node TEXT="meaningless checks found in real code" ID="ID_1820465657" CREATED="1383663833756" MODIFIED="1383663838567">
<node TEXT="pointer overflow" ID="ID_552814541" CREATED="1383663838883" MODIFIED="1383663843039"/>
<node TEXT="signed integer overflow" ID="ID_1318188270" CREATED="1383663843259" MODIFIED="1383663846334"/>
<node TEXT="oversized shift (if (! (1 &lt;&lt; x)))" ID="ID_1565400833" CREATED="1383663849843" MODIFIED="1383663871373"/>
<node TEXT="null pointer dereference" ID="ID_1351178836" CREATED="1383664135711" MODIFIED="1383664140315"/>
<node TEXT="absolute value overflow" ID="ID_296037016" CREATED="1383664140616" MODIFIED="1383664143771"/>
</node>
</node>
</node>
<node TEXT="def: unstable code" ID="ID_696905018" CREATED="1383663885848" MODIFIED="1383663891404">
<node TEXT="code that is discarded by a compiler" ID="ID_544097925" CREATED="1383663891720" MODIFIED="1383663896715"/>
</node>
<node TEXT="contribs" ID="ID_132031741" CREATED="1383663904888" MODIFIED="1383663906922">
<node TEXT="case study of unstable code" ID="ID_97430869" CREATED="1383663907127" MODIFIED="1383663911994"/>
<node TEXT="algo for identifying unstable code" ID="ID_464468879" CREATED="1383663916463" MODIFIED="1383663921594"/>
<node TEXT="a static checker STACK" ID="ID_650731617" CREATED="1383663922142" MODIFIED="1383663928977"/>
</node>
<node TEXT="STACK tool" ID="ID_194355488" CREATED="1383664282350" MODIFIED="1383664284250">
<node TEXT="assumption delta: developers don&apos;t invoke undefined behavior" ID="ID_726851330" CREATED="1383664323964" MODIFIED="1383664436202"/>
<node TEXT="find code that can only be optimized away thanks to this assumption" ID="ID_326491926" CREATED="1383664349450" MODIFIED="1383664362524"/>
<node TEXT="STACKS mimics a compiler that selectively enables the assumption" ID="ID_1156558662" CREATED="1383664367345" MODIFIED="1383664382227">
<node TEXT="first compile code without undef opts" ID="ID_459467097" CREATED="1383664382528" MODIFIED="1383664389762"/>
<node TEXT="then with" ID="ID_1385217212" CREATED="1383664389959" MODIFIED="1383664391315"/>
<node TEXT="find difference" ID="ID_767390527" CREATED="1383664391535" MODIFIED="1383664394242"/>
</node>
<node TEXT="delta" ID="ID_940481377" CREATED="1383664438348" MODIFIED="1383664439959">
<node TEXT="for all e&gt; reachable(e) implies not undefined(e)" ID="ID_113232847" CREATED="1383664441924" MODIFIED="1383664459326"/>
<node TEXT="STACK uses a constraint solver to prove check==false, with and without delta" ID="ID_153271635" CREATED="1383664522766" MODIFIED="1383664554583"/>
<node TEXT="use of constraint solver reduces dependence on a particular compiler" ID="ID_1066098173" CREATED="1383664570914" MODIFIED="1383664593220"/>
</node>
</node>
<node TEXT="evaluation" ID="ID_1912974261" CREATED="1383664606927" MODIFIED="1383664613883">
<node TEXT="found 160 new bugs" ID="ID_1027386562" CREATED="1383664625783" MODIFIED="1383664629731">
<node TEXT="developers accepted most patches" ID="ID_1569661935" CREATED="1383664630055" MODIFIED="1383664634850"/>
<node TEXT="false positive rate" ID="ID_118813363" CREATED="1383664646102" MODIFIED="1383664650121">
<node TEXT="0/11 for Kerberos" ID="ID_1050585854" CREATED="1383664650430" MODIFIED="1383664657153"/>
<node TEXT="4/68 for Postgres" ID="ID_346021539" CREATED="1383664657365" MODIFIED="1383664670312"/>
</node>
</node>
<node TEXT="applied stack to all packages in debian" ID="ID_531624347" CREATED="1383664724057" MODIFIED="1383664729948">
<node TEXT="8575 C/C++ packages" ID="ID_1205612624" CREATED="1383664733593" MODIFIED="1383664740211"/>
<node TEXT="40% contain STACK warnings" ID="ID_1649577144" CREATED="1383664744664" MODIFIED="1383664748675"/>
</node>
<node TEXT="analysis time" ID="ID_1868964772" CREATED="1383664755535" MODIFIED="1383664760362">
<node TEXT="linux kernel" ID="ID_237011772" CREATED="1383664761847" MODIFIED="1383664772097">
<node TEXT="30min to build" ID="ID_1263543011" CREATED="1383664772390" MODIFIED="1383664774713"/>
<node TEXT="60min to analyze" ID="ID_1940021429" CREATED="1383664774926" MODIFIED="1383664778241"/>
</node>
</node>
</node>
<node TEXT="future work" ID="ID_72006670" CREATED="1383664838185" MODIFIED="1383664840516">
<node TEXT="use this to hide backdoors?" ID="ID_986607831" CREATED="1383664840842" MODIFIED="1383664845452">
<node TEXT="&quot;reflections on trusting trust&quot;" ID="ID_1530684601" CREATED="1383664854799" MODIFIED="1383664862467"/>
<node TEXT="some government agency could submit patches with unstable code" ID="ID_73990296" CREATED="1383664868944" MODIFIED="1383664879794"/>
<node TEXT="could easily slip through code reviews" ID="ID_1823266340" CREATED="1383664882230" MODIFIED="1383664887985"/>
</node>
</node>
<node TEXT="Tidbits" ID="ID_1269958201" CREATED="1383664109937" MODIFIED="1383664112565">
<node TEXT="great use of slide background color change" ID="ID_321381060" CREATED="1383664112858" MODIFIED="1383664120516"/>
<node TEXT="good answer to questions" ID="ID_1281181158" CREATED="1383665423083" MODIFIED="1383665488970">
<node TEXT="&quot;this is a really deep question.&quot;" ID="ID_328582633" CREATED="1383665489238" MODIFIED="1383665507616"/>
</node>
</node>
<node TEXT="css.csail.mit.edu/stack/" ID="ID_169358114" CREATED="1383664905749" MODIFIED="1383664912624"/>
</node>
<node TEXT="Atomicity Chains" POSITION="left" ID="ID_1540609475" CREATED="1383667845372" MODIFIED="1383667850675">
<edge COLOR="#ff00ff"/>
<node TEXT="goals" ID="ID_933144033" CREATED="1383668292097" MODIFIED="1383668294309">
<node TEXT="low latency for transactions" ID="ID_221855856" CREATED="1383668295897" MODIFIED="1383668303780"/>
<node TEXT="serializability" ID="ID_55050033" CREATED="1383668308441" MODIFIED="1383668311476"/>
</node>
<node TEXT="key ideas" ID="ID_337620051" CREATED="1383668317456" MODIFIED="1383668319075">
<node TEXT="transactions are known ahead of time" ID="ID_146438674" CREATED="1383668319335" MODIFIED="1383668325587"/>
<node TEXT="thus, can do static analysis on transactions" ID="ID_1318769234" CREATED="1383668327359" MODIFIED="1383668334490"/>
<node TEXT="often, analysis shows that seriability can be achieved without synchronization" ID="ID_28787028" CREATED="1383668557320" MODIFIED="1383668573795">
<node TEXT="in this case, only need to wait for the first replica to ACK" ID="ID_82575762" CREATED="1383668574087" MODIFIED="1383668587242"/>
<node TEXT="thus, lower latency" ID="ID_1439894011" CREATED="1383668587487" MODIFIED="1383668591849"/>
<node TEXT="means that only the first replica could abort a transaction" ID="ID_515491773" CREATED="1383669021761" MODIFIED="1383669032284"/>
</node>
<node TEXT="if serializability cannot be achieved otherwise, use distributed transaction" ID="ID_915052651" CREATED="1383668918511" MODIFIED="1383668936754">
<node TEXT="slow..." ID="ID_864954982" CREATED="1383668937031" MODIFIED="1383668938778"/>
</node>
<node TEXT="transaction chains" ID="ID_367682951" CREATED="1383668662441" MODIFIED="1383668830553">
<node TEXT="each link of the chain is a replica" ID="ID_1189201915" CREATED="1383668666361" MODIFIED="1383668678156"/>
</node>
</node>
<node TEXT="intro" ID="ID_699367784" CREATED="1383667851591" MODIFIED="1383667856146">
<node TEXT="all-or-nothing atomicity" ID="ID_1615499115" CREATED="1383667856391" MODIFIED="1383667863769"/>
<node TEXT="non-serializable interleaving" ID="ID_1957982413" CREATED="1383667866998" MODIFIED="1383667872305">
<node TEXT="concurrent chains could be ordered inconsistently at different hops" ID="ID_1203888911" CREATED="1383667885429" MODIFIED="1383667897735"/>
</node>
<node TEXT="static analysis" ID="ID_736377118" CREATED="1383667902532" MODIFIED="1383667904967">
<node TEXT="statically analyze all chains to be executed" ID="ID_1636755950" CREATED="1383667905292" MODIFIED="1383667916782"/>
<node TEXT="detects non-serializable interleavings" ID="ID_930350511" CREATED="1383667917107" MODIFIED="1383667930197"/>
<node TEXT="SC cycles" ID="ID_1142891669" CREATED="1383667982054" MODIFIED="1383667987217">
<node TEXT="create a graph" ID="ID_1604780965" CREATED="1383668386963" MODIFIED="1383668390894">
<node TEXT="nodes are objects in memory" ID="ID_421530146" CREATED="1383668391155" MODIFIED="1383668398174"/>
<node TEXT="edges are dependencies" ID="ID_1180655405" CREATED="1383668398427" MODIFIED="1383668404814">
<node TEXT="S or C" ID="ID_770501531" CREATED="1383668405090" MODIFIED="1383668406597"/>
</node>
</node>
<node TEXT="S = serializable" ID="ID_1538387350" CREATED="1383667987678" MODIFIED="1383667991265"/>
<node TEXT="C = conflict" ID="ID_1961996467" CREATED="1383667991494" MODIFIED="1383667994921"/>
<node TEXT="A schedule is serializable if there is no cycle with both S and C edges" ID="ID_1910192425" CREATED="1383667995140" MODIFIED="1383668007328"/>
</node>
</node>
</node>
<node TEXT="Lynx" ID="ID_146941852" CREATED="1383668016260" MODIFIED="1383668018007">
<node TEXT="user chains and system chains" ID="ID_922329129" CREATED="1383668022492" MODIFIED="1383668026471">
<node TEXT="system chains used to keep database indices up to date" ID="ID_439681191" CREATED="1383668075336" MODIFIED="1383668090587"/>
<node TEXT="user chains used for high-level actions" ID="ID_1350407345" CREATED="1383668113638" MODIFIED="1383668143138">
<node TEXT="e.g., bids in an auction applications" ID="ID_809089751" CREATED="1383668121165" MODIFIED="1383668133728"/>
</node>
</node>
<node TEXT="users annotate commutative operations" ID="ID_244458607" CREATED="1383668263260" MODIFIED="1383668270759"/>
</node>
<node TEXT="evaluation" ID="ID_264807388" CREATED="1383668457671" MODIFIED="1383668460002">
<node TEXT="microblogging prototype" ID="ID_691764475" CREATED="1383668460574" MODIFIED="1383668469721">
<node TEXT="built a twitter-like system" ID="ID_1089564772" CREATED="1383668469974" MODIFIED="1383668475889"/>
<node TEXT="one table for tweets" ID="ID_1697154203" CREATED="1383668480652" MODIFIED="1383668483896"/>
<node TEXT="one table for the follow-graph" ID="ID_1390324139" CREATED="1383668484133" MODIFIED="1383668488664"/>
<node TEXT="timeline = tweets JOIN follow-graph" ID="ID_298657296" CREATED="1383668495116" MODIFIED="1383668507662"/>
<node TEXT="tables are shareded and replicated" ID="ID_1122293386" CREATED="1383668508972" MODIFIED="1383668525477"/>
</node>
</node>
</node>
<node TEXT="SPANStore" POSITION="left" ID="ID_1914685945" CREATED="1383669054743" MODIFIED="1383669063186">
<edge COLOR="#00ffff"/>
<node TEXT="intro" ID="ID_588804707" CREATED="1383669080165" MODIFIED="1383669081168">
<node TEXT="want geo-distribution" ID="ID_1424115968" CREATED="1383669081469" MODIFIED="1383669085497">
<node TEXT="reduces latency" ID="ID_1308518639" CREATED="1383669085732" MODIFIED="1383669088344"/>
</node>
<node TEXT="solution: use cloud" ID="ID_172393313" CREATED="1383669094236" MODIFIED="1383669099055">
<node TEXT="problem: often expensive" ID="ID_1249794573" CREATED="1383669177503" MODIFIED="1383669182290">
<node TEXT="clouds have complicated cost models" ID="ID_1943383990" CREATED="1383669404831" MODIFIED="1383669412026"/>
<node TEXT="storage cost per data volume" ID="ID_1926023632" CREATED="1383669412327" MODIFIED="1383669422914"/>
<node TEXT="cost per request" ID="ID_1772574917" CREATED="1383669423638" MODIFIED="1383669428977"/>
<node TEXT="cost for bandwidth used" ID="ID_1321703442" CREATED="1383669568645" MODIFIED="1383669572504"/>
</node>
</node>
<node TEXT="problem: modifications happen in multiple places" ID="ID_1078945259" CREATED="1383669124258" MODIFIED="1383669143957">
<node TEXT="we would like easy ways to access/modify data from multiple locations" ID="ID_1405533901" CREATED="1383669144553" MODIFIED="1383669165731"/>
</node>
</node>
<node TEXT="SPANStore" ID="ID_1100573000" CREATED="1383669193190" MODIFIED="1383669196201">
<node TEXT="key/value store" ID="ID_584440550" CREATED="1383669196542" MODIFIED="1383669200329"/>
<node TEXT="spans multiple cloud services" ID="ID_324454277" CREATED="1383669204629" MODIFIED="1383669209895"/>
<node TEXT="main goal: minimize cost" ID="ID_1277526078" CREATED="1383669210101" MODIFIED="1383669214992"/>
<node TEXT="satisfies SLAs" ID="ID_1871847767" CREATED="1383669216900" MODIFIED="1383669221391">
<node TEXT="low latency" ID="ID_5630474" CREATED="1383669221692" MODIFIED="1383669231015"/>
<node TEXT="consistency" ID="ID_1230802056" CREATED="1383669231284" MODIFIED="1383669233910">
<node TEXT="eventual vs sequential" ID="ID_1021426557" CREATED="1383669234267" MODIFIED="1383669241662"/>
</node>
</node>
</node>
<node TEXT="architecture" ID="ID_627121817" CREATED="1383669259105" MODIFIED="1383669263629">
<node TEXT="apps communicate with spanstore library" ID="ID_509641642" CREATED="1383669264185" MODIFIED="1383669275428"/>
<node TEXT="request data through spanstore" ID="ID_1402981365" CREATED="1383669275968" MODIFIED="1383669282075"/>
<node TEXT="spanstore looks at metadata to decide where to store/lookup" ID="ID_253661164" CREATED="1383669282280" MODIFIED="1383669291667"/>
<node TEXT="central placement manager" ID="ID_1601451091" CREATED="1383669296335" MODIFIED="1383669300482">
<node TEXT="divides time into epochs" ID="ID_1534080027" CREATED="1383669315774" MODIFIED="1383669319337"/>
<node TEXT="decides optimal replication policy for each epoch" ID="ID_1927821262" CREATED="1383669301487" MODIFIED="1383669312977"/>
<node TEXT="input" ID="ID_1866142545" CREATED="1383669324597" MODIFIED="1383669329640">
<node TEXT="latencies" ID="ID_1729879760" CREATED="1383669329996" MODIFIED="1383669354719"/>
<node TEXT="pricing policies" ID="ID_1905572838" CREATED="1383669332357" MODIFIED="1383669339175"/>
<node TEXT="latency requirements from app" ID="ID_1965034046" CREATED="1383669339380" MODIFIED="1383669344431"/>
<node TEXT="fault tolerance requirements" ID="ID_1814165925" CREATED="1383669344644" MODIFIED="1383669349631"/>
</node>
<node TEXT="uses integer linear programming to optimize" ID="ID_1750013675" CREATED="1383669982361" MODIFIED="1383669992164"/>
</node>
</node>
<node TEXT="techniques" ID="ID_832905661" CREATED="1383669511576" MODIFIED="1383669513876">
<node TEXT="use multiple clouds" ID="ID_1109472307" CREATED="1383669514431" MODIFIED="1383669522243">
<node TEXT="each cloud provider only has so many locations" ID="ID_1442849424" CREATED="1383669522560" MODIFIED="1383669538450"/>
<node TEXT="thus, latency is often too high" ID="ID_1545994175" CREATED="1383669538678" MODIFIED="1383669544338"/>
<node TEXT="but combining several clouds increases the number of available datacenters" ID="ID_465173230" CREATED="1383669544551" MODIFIED="1383669558497"/>
</node>
<node TEXT="adapt replication policy" ID="ID_14520521" CREATED="1383669693660" MODIFIED="1383669699288">
<node TEXT="continuously measure/predict workload" ID="ID_1046523678" CREATED="1383669701868" MODIFIED="1383669708567">
<node TEXT="prediction is hard..." ID="ID_1057948414" CREATED="1383669774551" MODIFIED="1383669778826"/>
<node TEXT="use diurnal/weekly patterns to improve prediction" ID="ID_49016738" CREATED="1383669785279" MODIFIED="1383669796689"/>
<node TEXT="classify objects by access set" ID="ID_1256878312" CREATED="1383669796926" MODIFIED="1383669806649">
<node TEXT="i.e., the set of data centers from which an item is accessed" ID="ID_675392794" CREATED="1383669807028" MODIFIED="1383669818823"/>
</node>
<node TEXT="predict aggregate workload, not individual object workload" ID="ID_1879312828" CREATED="1383669843770" MODIFIED="1383669854317"/>
</node>
<node TEXT="optimize cost for GETs" ID="ID_1036541426" CREATED="1383669864609" MODIFIED="1383669876572">
<node TEXT="store where storage+bandwidth cost is minimal" ID="ID_1113019818" CREATED="1383669964499" MODIFIED="1383669980261"/>
</node>
<node TEXT="optimize cost for PUTs" ID="ID_90373155" CREATED="1383669884896" MODIFIED="1383669889627">
<node TEXT="relay communication through data centers with low bandwidth prize" ID="ID_1253063099" CREATED="1383669917013" MODIFIED="1383669930864"/>
<node TEXT="kinda like overlay routing through data centers." ID="ID_1171307471" CREATED="1383669934620" MODIFIED="1383669945231"/>
</node>
</node>
</node>
<node TEXT="evaluation" ID="ID_139406175" CREATED="1383670015280" MODIFIED="1383670017274">
<node TEXT="scenario" ID="ID_1760759388" CREATED="1383670033238" MODIFIED="1383670036257">
<node TEXT="app on EC2" ID="ID_806728169" CREATED="1383670036838" MODIFIED="1383670039585"/>
<node TEXT="spanstore on SS3, Azure, and GCS" ID="ID_1961769007" CREATED="1383670039909" MODIFIED="1383670050833"/>
</node>
<node TEXT="simulation" ID="ID_1368570501" CREATED="1383670054389" MODIFIED="1383670056056">
<node TEXT="compare spanstore against other strategies" ID="ID_347967116" CREATED="1383670059932" MODIFIED="1383670067543">
<node TEXT="replicate everywhere" ID="ID_1616249286" CREATED="1383670067860" MODIFIED="1383670072175"/>
<node TEXT="single replica" ID="ID_1315961929" CREATED="1383670072379" MODIFIED="1383670074415"/>
<node TEXT="single cloud deployment" ID="ID_14548403" CREATED="1383670074628" MODIFIED="1383670079078"/>
</node>
<node TEXT="workload: big objects, many GETS" ID="ID_1245815300" CREATED="1383670168893" MODIFIED="1383670177872">
<node TEXT="replicate everywhere is close to optimal" ID="ID_1917156023" CREATED="1383670178221" MODIFIED="1383670189111"/>
<node TEXT="some savings due to relaying" ID="ID_970738146" CREATED="1383670189275" MODIFIED="1383670197255"/>
</node>
<node TEXT="workload: small objects, many GETs" ID="ID_1797277153" CREATED="1383670198715" MODIFIED="1383670215309">
<node TEXT="request cost becomes dominant" ID="ID_1599750175" CREATED="1383670215738" MODIFIED="1383670220829"/>
<node TEXT="spanstore saves money by moving to cheapest cloud" ID="ID_1570353318" CREATED="1383670223754" MODIFIED="1383670235852"/>
</node>
</node>
</node>
<node TEXT="Questions" ID="ID_1822741446" CREATED="1383670451099" MODIFIED="1383670452766">
<node TEXT="what if compute is also distributed?" ID="ID_1476661470" CREATED="1383670453066" MODIFIED="1383670458853">
<node TEXT="assumption is that computation always occurs on a single cloud" ID="ID_1043096843" CREATED="1383670465361" MODIFIED="1383670474596"/>
</node>
<node TEXT="how big are the ILP problems?" ID="ID_50997094" CREATED="1383670585762" MODIFIED="1383670627765">
<node TEXT="1 var per data center" ID="ID_831759824" CREATED="1383670593457" MODIFIED="1383670597964"/>
<node TEXT="1 var per access set (?)" ID="ID_1497004129" CREATED="1383670598184" MODIFIED="1383670613707"/>
</node>
</node>
</node>
<node TEXT="Consistency-based SLAs" POSITION="left" ID="ID_1598051600" CREATED="1383670688786" MODIFIED="1383670955580">
<edge COLOR="#ffff00"/>
<node TEXT="today..." ID="ID_408371664" CREATED="1383670703146" MODIFIED="1383670709348">
<node TEXT="clouds replicate data" ID="ID_445140740" CREATED="1383670709601" MODIFIED="1383670715492"/>
<node TEXT="offer eventual or strong consistency" ID="ID_1349142445" CREATED="1383670720873" MODIFIED="1383670728907"/>
<node TEXT="there are fine-grained consistency trade-offs" ID="ID_41718257" CREATED="1383670738967" MODIFIED="1383670774172"/>
</node>
<node TEXT="problem" ID="ID_368232574" CREATED="1383670776261" MODIFIED="1383670777360">
<node TEXT="it&apos;s hard to choose the best consistency levels" ID="ID_431774395" CREATED="1383670777796" MODIFIED="1383670905920"/>
<node TEXT="clouds don&apos;t give performance numbers" ID="ID_1280475615" CREATED="1383670790140" MODIFIED="1383670795823"/>
<node TEXT="consistency level cannot be changed later" ID="ID_1404535915" CREATED="1383670796036" MODIFIED="1383670803526"/>
</node>
<node TEXT="Pileus" ID="ID_656925219" CREATED="1383670920835" MODIFIED="1383670922847">
<node TEXT="replicated, partitioned key-value store" ID="ID_719383289" CREATED="1383670926075" MODIFIED="1383670932614"/>
<node TEXT="many choices of consistency" ID="ID_44221143" CREATED="1383670933803" MODIFIED="1383670940125"/>
<node TEXT="consistency-based SLAs" ID="ID_1990392794" CREATED="1383670942330" MODIFIED="1383670947277"/>
</node>
<node TEXT="Pileus model" ID="ID_779249114" CREATED="1383670986726" MODIFIED="1383670990530">
<node TEXT="primary core" ID="ID_562595009" CREATED="1383670990934" MODIFIED="1383670993666">
<node TEXT="strongly consistent" ID="ID_1940178427" CREATED="1383670993949" MODIFIED="1383670998818"/>
<node TEXT="synchronously replicated" ID="ID_1168088345" CREATED="1383670999030" MODIFIED="1383671005072"/>
</node>
<node TEXT="secondary nodes" ID="ID_1430013995" CREATED="1383671005837" MODIFIED="1383671008513">
<node TEXT="are lazily updated" ID="ID_1083634751" CREATED="1383671008765" MODIFIED="1383671016424"/>
</node>
<node TEXT="puts go to primary" ID="ID_367116492" CREATED="1383671019539" MODIFIED="1383671022632"/>
<node TEXT="get can go anywhere" ID="ID_1501445178" CREATED="1383671023836" MODIFIED="1383671029255">
<node TEXT="... as long as the target is sufficiently up-to-date" ID="ID_1045843734" CREATED="1383671029516" MODIFIED="1383671038079"/>
<node TEXT="sufficiently = with respect to SLA" ID="ID_1696570677" CREATED="1383671038651" MODIFIED="1383671045590"/>
</node>
<node TEXT="API" ID="ID_1718937744" CREATED="1383671070304" MODIFIED="1383671071772">
<node TEXT="get and put operations come with an SLA" ID="ID_372037125" CREATED="1383671072057" MODIFIED="1383671079644"/>
<node TEXT="gets/puts nested within transactions" ID="ID_1342524149" CREATED="1383671080441" MODIFIED="1383671089675"/>
<node TEXT="transactions nested within sessions" ID="ID_1290590768" CREATED="1383671089889" MODIFIED="1383671094947"/>
</node>
</node>
<node TEXT="Consistency choices" ID="ID_530711534" CREATED="1383671110367" MODIFIED="1383671114161">
<node TEXT="strong" ID="ID_955505107" CREATED="1383671114470" MODIFIED="1383671116450"/>
<node TEXT="causal" ID="ID_1727860039" CREATED="1383671116662" MODIFIED="1383671117681"/>
<node TEXT="bounded staleness" ID="ID_3379315" CREATED="1383671118005" MODIFIED="1383671121497"/>
<node TEXT="read my writes" ID="ID_82554937" CREATED="1383671121710" MODIFIED="1383671123977"/>
<node TEXT="monotonic reads" ID="ID_846571860" CREATED="1383671124181" MODIFIED="1383671126777"/>
<node TEXT="eventual" ID="ID_1420166080" CREATED="1383671126990" MODIFIED="1383671128936"/>
</node>
<node TEXT="consistency-based SLA" ID="ID_459289210" CREATED="1383671236725" MODIFIED="1383671240873">
<node TEXT="users specify consistency" ID="ID_155001856" CREATED="1383671241110" MODIFIED="1383671246569"/>
<node TEXT="users specify latency" ID="ID_1994423434" CREATED="1383671247253" MODIFIED="1383671250768"/>
<node TEXT="example: shopping cart" ID="ID_352859597" CREATED="1383671256253" MODIFIED="1383671263240">
<node TEXT="strong consistency @ 300ms" ID="ID_140926794" CREATED="1383671263548" MODIFIED="1383671301741"/>
<node TEXT="if not possible: read my writes @ 300ms" ID="ID_606945420" CREATED="1383671302530" MODIFIED="1383671313932"/>
<node TEXT="if still not possible: eventual @ 300ms" ID="ID_602504570" CREATED="1383671314185" MODIFIED="1383671322220"/>
</node>
<node TEXT="associate an utility with each option" ID="ID_1225744429" CREATED="1383671332728" MODIFIED="1383671355722"/>
<node TEXT="service provider tries to maximize overall utility" ID="ID_865213671" CREATED="1383671383588" MODIFIED="1383671393423"/>
</node>
<node TEXT="SLA enforcement" ID="ID_215141843" CREATED="1383671416162" MODIFIED="1383671419438">
<node TEXT="client knows where data is shareded" ID="ID_165191394" CREATED="1383671419754" MODIFIED="1383671429349">
<node TEXT="including where the primary is" ID="ID_1145935425" CREATED="1383671441985" MODIFIED="1383671446420"/>
</node>
<node TEXT="client periodically measures RTT" ID="ID_1984638119" CREATED="1383671429561" MODIFIED="1383671440907">
<node TEXT="piggybacked on requests" ID="ID_1112950902" CREATED="1383671517884" MODIFIED="1383671522566"/>
<node TEXT="... or with PINGs" ID="ID_611913887" CREATED="1383671522771" MODIFIED="1383671526462"/>
</node>
<node TEXT="client measures freshness" ID="ID_1946589849" CREATED="1383671448584" MODIFIED="1383671453811">
<node TEXT="keeps track of latest put it knows for every replica" ID="ID_1745093521" CREATED="1383671454320" MODIFIED="1383671477009"/>
<node TEXT="differences between primary/secondary timestamps is staleness" ID="ID_1387128575" CREATED="1383671483677" MODIFIED="1383671495064"/>
<node TEXT="piggybacked on requests, or PINGs" ID="ID_734304424" CREATED="1383671539275" MODIFIED="1383671546925"/>
</node>
<node TEXT="node selection" ID="ID_113943995" CREATED="1383671558465" MODIFIED="1383671561540">
<node TEXT="for each subSLA and node" ID="ID_1657392920" CREATED="1383671561824" MODIFIED="1383671568660">
<node TEXT="compute proba that node will meet latency requirement" ID="ID_1325445443" CREATED="1383671568984" MODIFIED="1383671593402"/>
<node TEXT="compute proba that node will meet consistency requirement" ID="ID_1387258922" CREATED="1383671580431" MODIFIED="1383671590250"/>
</node>
<node TEXT="compute expected utility of node" ID="ID_1201363201" CREATED="1383671602510" MODIFIED="1383671609696"/>
<node TEXT="select node with highest expected utility" ID="ID_893053832" CREATED="1383671615277" MODIFIED="1383671626431">
<node TEXT="distance is used to break ties" ID="ID_866303953" CREATED="1383671626749" MODIFIED="1383671636967"/>
<node TEXT="could use freshness, too..." ID="ID_803737290" CREATED="1383671638492" MODIFIED="1383671644055"/>
</node>
<node TEXT="send GET to node" ID="ID_1290742180" CREATED="1383671667274" MODIFIED="1383671670725"/>
<node TEXT="node replies with data and effective consistency level" ID="ID_1040379089" CREATED="1383671670937" MODIFIED="1383671686148"/>
<node TEXT="client also measures RTT of request" ID="ID_239254563" CREATED="1383671686872" MODIFIED="1383671696467"/>
</node>
</node>
<node TEXT="results" ID="ID_790651552" CREATED="1383671206864" MODIFIED="1383671207940">
<node TEXT="consistency levels really affect latency" ID="ID_879669195" CREATED="1383671208184" MODIFIED="1383671217387">
<node TEXT="all these intermediate levels do perform differently" ID="ID_873104424" CREATED="1383672082797" MODIFIED="1383672093505"/>
</node>
<node TEXT="client location really affects latency" ID="ID_290653253" CREATED="1383671218543" MODIFIED="1383671224931"/>
<node TEXT="benchmarks" ID="ID_1746690961" CREATED="1383671716982" MODIFIED="1383671718506">
<node TEXT="YCSB with 50/50 gets/puts" ID="ID_1915655313" CREATED="1383671718734" MODIFIED="1383671726985"/>
<node TEXT="sessions with 500 operations" ID="ID_1052934972" CREATED="1383671729541" MODIFIED="1383671734328"/>
<node TEXT="compare against" ID="ID_1121449185" CREATED="1383671735686" MODIFIED="1383671739304">
<node TEXT="always use primary" ID="ID_1728638743" CREATED="1383671740125" MODIFIED="1383671745520"/>
<node TEXT="random node choice" ID="ID_457739161" CREATED="1383671745724" MODIFIED="1383671749080"/>
<node TEXT="closest node" ID="ID_1725314156" CREATED="1383671749340" MODIFIED="1383671753359"/>
</node>
<node TEXT="measure average utility for each of these configurations" ID="ID_227361002" CREATED="1383671755036" MODIFIED="1383671765270"/>
</node>
<node TEXT="results" ID="ID_403094019" CREATED="1383671887139" MODIFIED="1383671889486">
<node TEXT="Pileus delivers utility of almost 1" ID="ID_315491590" CREATED="1383671889842" MODIFIED="1383671910037"/>
<node TEXT="often, closest replica also delivers same utility" ID="ID_1728257520" CREATED="1383671917073" MODIFIED="1383671933003">
<node TEXT="but consistency of the closest replica is often not good enough" ID="ID_1629605919" CREATED="1383671965334" MODIFIED="1383672006773"/>
</node>
</node>
</node>
<node TEXT="Q" ID="ID_1495882009" CREATED="1383672353260" MODIFIED="1383672355623">
<node TEXT="how to specify utilities?" ID="ID_782183348" CREATED="1383672356340" MODIFIED="1383672376070">
<node TEXT="ideally, from real profit/loss values" ID="ID_567161142" CREATED="1383672362315" MODIFIED="1383672370750"/>
</node>
<node TEXT="how to reason about this, as a developer?" ID="ID_1833590792" CREATED="1383672376754" MODIFIED="1383672388437">
<node TEXT="often, don&apos;t need to write code for all the consistency levels" ID="ID_651003621" CREATED="1383672388778" MODIFIED="1383672451553"/>
<node TEXT="instead, could just reflect consistency to the user in some way?!" ID="ID_1019547443" CREATED="1383672453749" MODIFIED="1383672473416"/>
</node>
</node>
</node>
<node TEXT="Egalitarian Concensus" POSITION="left" ID="ID_1009021332" CREATED="1383686945718" MODIFIED="1383686951194">
<edge COLOR="#7c0000"/>
<node TEXT="intro" ID="ID_470324856" CREATED="1383686954175" MODIFIED="1383686955642">
<node TEXT="reliability = state machine replication" ID="ID_580544843" CREATED="1383686955999" MODIFIED="1383686962210"/>
<node TEXT="idea: execute same commands in same order" ID="ID_789833344" CREATED="1383686981509" MODIFIED="1383686992439"/>
<node TEXT="example: Paxos" ID="ID_1036978621" CREATED="1383686992803" MODIFIED="1383687002487"/>
</node>
<node TEXT="overview of Paxos" ID="ID_1435839069" CREATED="1383687060528" MODIFIED="1383687063739">
<node TEXT="agreement protocol" ID="ID_1237734304" CREATED="1383687066695" MODIFIED="1383687070770"/>
<node TEXT="tolerates f failures with 2f+1 replicas" ID="ID_1863757177" CREATED="1383687071015" MODIFIED="1383687081314">
<node TEXT="non-byzantine failures" ID="ID_978838139" CREATED="1383687081589" MODIFIED="1383687090001"/>
<node TEXT="requires no failure detector" ID="ID_359091719" CREATED="1383687090269" MODIFIED="1383687095289"/>
</node>
<node TEXT="asynchronous environment" ID="ID_693681891" CREATED="1383687096653" MODIFIED="1383687102432"/>
<node TEXT="with paxos, nodes can order commands" ID="ID_590468868" CREATED="1383687137914" MODIFIED="1383687146333">
<node TEXT="each node chooses commands independently" ID="ID_456588996" CREATED="1383687146642" MODIFIED="1383687154421"/>
<node TEXT="the commit protocol ensures they agree on the same order" ID="ID_385529548" CREATED="1383687154649" MODIFIED="1383687166052"/>
</node>
<node TEXT="Paxos uses a single leader" ID="ID_1736391709" CREATED="1383687170576" MODIFIED="1383687177155">
<node TEXT="can agree in single round-trip if leader does not change" ID="ID_153609144" CREATED="1383687177583" MODIFIED="1383687191098"/>
</node>
<node TEXT="generalizations use multiple leaders" ID="ID_526021489" CREATED="1383687288936" MODIFIED="1383687300523">
<node TEXT="e.g, round-robin paxos" ID="ID_1238941128" CREATED="1383687300855" MODIFIED="1383687310058"/>
</node>
</node>
<node TEXT="idea of the paper" ID="ID_1509013696" CREATED="1383687218165" MODIFIED="1383687225448">
<node TEXT="can we have it all?" ID="ID_1780083300" CREATED="1383687225780" MODIFIED="1383687229240">
<node TEXT="high throughput and low latency" ID="ID_470480089" CREATED="1383687229548" MODIFIED="1383687237951"/>
<node TEXT="want to distribute load evently across replicas" ID="ID_271757787" CREATED="1383687238308" MODIFIED="1383687252438"/>
<node TEXT="want to use the fastest replicas" ID="ID_1581372354" CREATED="1383687252907" MODIFIED="1383687260942"/>
</node>
<node TEXT="intuition" ID="ID_428144180" CREATED="1383687326878" MODIFIED="1383687329409">
<node TEXT="instead of a linear order, we have n subspaces" ID="ID_258481620" CREATED="1383687329758" MODIFIED="1383687339073">
<node TEXT="where n = number of replicas" ID="ID_1659646382" CREATED="1383687339597" MODIFIED="1383687343568"/>
</node>
<node TEXT="order between subspaces is no more clear" ID="ID_1351785166" CREATED="1383687367883" MODIFIED="1383687380573"/>
<node TEXT="thus, when voting for commands, nodes also vote for ordering between subspaces" ID="ID_787111030" CREATED="1383687380914" MODIFIED="1383687399076"/>
</node>
<node TEXT="EPaxos" ID="ID_1355066611" CREATED="1383687529225" MODIFIED="1383687532164">
<node TEXT="takes 1 RTT for non-concurrent and non-interfering commands" ID="ID_784815185" CREATED="1383687532704" MODIFIED="1383687572809"/>
<node TEXT="takes up to two RTT for concurrent and interfering commands" ID="ID_1960492284" CREATED="1383687540496" MODIFIED="1383687560090"/>
</node>
</node>
<node TEXT="determine interference" ID="ID_477428230" CREATED="1383687606299" MODIFIED="1383687613150">
<node TEXT="application specific" ID="ID_1483390351" CREATED="1383687613539" MODIFIED="1383687618678"/>
<node TEXT="key/value store" ID="ID_13460451" CREATED="1383687618962" MODIFIED="1383687622062">
<node TEXT="interferes when using the same key" ID="ID_1867792964" CREATED="1383687622370" MODIFIED="1383687630701"/>
</node>
<node TEXT="google app engine" ID="ID_1116519126" CREATED="1383687631866" MODIFIED="1383687635597">
<node TEXT="entirely programmer-specified" ID="ID_1964175333" CREATED="1383687636017" MODIFIED="1383687641196"/>
</node>
<node TEXT="relational databases" ID="ID_951523257" CREATED="1383687642577" MODIFIED="1383687645604">
<node TEXT="most transactions are simple and can be analyzed statically" ID="ID_1885250037" CREATED="1383687646504" MODIFIED="1383687655091"/>
</node>
</node>
<node TEXT="EPaxos properties" ID="ID_491949818" CREATED="1383687698717" MODIFIED="1383687703080">
<node TEXT="linearizability" ID="ID_1315208772" CREATED="1383687703469" MODIFIED="1383687709064">
<node TEXT="if A and B interfere, and A committed before B proposed, then A will be executed before B" ID="ID_754434474" CREATED="1383687709421" MODIFIED="1383687728335"/>
</node>
<node TEXT="fast-path quorum" ID="ID_1385847226" CREATED="1383687729971" MODIFIED="1383687736126">
<node TEXT="f + ceil(f/2)" ID="ID_331064542" CREATED="1383687739643" MODIFIED="1383687748229"/>
<node TEXT="optimal for 3 and 5 replicas" ID="ID_1421960483" CREATED="1383687748594" MODIFIED="1383687755101"/>
<node TEXT="better than fast/generalized Paxos" ID="ID_170086159" CREATED="1383687757377" MODIFIED="1383687766780"/>
</node>
</node>
<node TEXT="Results" ID="ID_1904404502" CREATED="1383687881313" MODIFIED="1383687896099">
<node TEXT="For 3 and 5 replicas" ID="ID_5919785" CREATED="1383687896864" MODIFIED="1383687907451">
<node TEXT="EPaxos has the lowest latency of all tested algorithms" ID="ID_1769777245" CREATED="1383687907894" MODIFIED="1383687920066"/>
</node>
<node TEXT="EPaxos can tolerate leader failures" ID="ID_800995759" CREATED="1383688105506" MODIFIED="1383688114733"/>
<node TEXT="EPaxos degrades more gracefully than other versions under slow replicas" ID="ID_1415867603" CREATED="1383688128536" MODIFIED="1383688145123"/>
</node>
<node TEXT="insights" ID="ID_1910441737" CREATED="1383688149663" MODIFIED="1383688152554">
<node TEXT="optimize only delays that matter" ID="ID_1475787963" CREATED="1383688152911" MODIFIED="1383688160402"/>
</node>
<node TEXT="github.com/efficient/epaxos" ID="ID_1203300321" CREATED="1383688182517" MODIFIED="1383688195711"/>
</node>
<node TEXT="ROOT" POSITION="left" ID="ID_273886415" CREATED="1383746582825" MODIFIED="1383746587292">
<edge COLOR="#007c00"/>
<node TEXT="motivation" ID="ID_1803695719" CREATED="1383746587921" MODIFIED="1383746594492">
<node TEXT="I/O trace replay" ID="ID_1420758529" CREATED="1383746594793" MODIFIED="1383746598820"/>
<node TEXT="use this for performance evaluation of new systems" ID="ID_72570276" CREATED="1383746601152" MODIFIED="1383746621603"/>
<node TEXT="previous work: A file is not a file..." ID="ID_441266824" CREATED="1383746636021" MODIFIED="1383746644569">
<node TEXT="obtained system call traces" ID="ID_873327013" CREATED="1383746644892" MODIFIED="1383746650256"/>
<node TEXT="wanted to replay them... how?" ID="ID_290847654" CREATED="1383746650469" MODIFIED="1383746655016"/>
<node TEXT="multithreading poses a problem" ID="ID_1416177169" CREATED="1383746658548" MODIFIED="1383746671655"/>
</node>
</node>
<node TEXT="problem: multithreaded replay" ID="ID_455522629" CREATED="1383746689810" MODIFIED="1383746695093">
<node TEXT="performance" ID="ID_1800181818" CREATED="1383746695610" MODIFIED="1383746697101"/>
<node TEXT="correctness" ID="ID_116685115" CREATED="1383746697322" MODIFIED="1383746700117">
<node TEXT="cannot re-order system calls between threads" ID="ID_380334485" CREATED="1383746731152" MODIFIED="1383746756137"/>
</node>
</node>
<node TEXT="solutions" ID="ID_302708824" CREATED="1383746835320" MODIFIED="1383746837884">
<node TEXT="preserve ordering?" ID="ID_458679118" CREATED="1383746838200" MODIFIED="1383746840868">
<node TEXT="achieves correctness" ID="ID_489900418" CREATED="1383746841200" MODIFIED="1383746848131"/>
<node TEXT="too pessimistic and slow" ID="ID_299780826" CREATED="1383746848358" MODIFIED="1383746852483">
<node TEXT="limits parallelism" ID="ID_1474074111" CREATED="1383746869926" MODIFIED="1383746883797"/>
<node TEXT="distorts the performance behavior of the replayed system" ID="ID_209515128" CREATED="1383746885165" MODIFIED="1383746921590"/>
</node>
</node>
<node TEXT="ROOT" ID="ID_1129548586" CREATED="1383746939242" MODIFIED="1383746940813">
<node TEXT="provide just enough constraints to avoid errors" ID="ID_1848786100" CREATED="1383746941114" MODIFIED="1383746953700"/>
<node TEXT="but little constraints for meaningful performance evaluation" ID="ID_1552866639" CREATED="1383746954408" MODIFIED="1383746964795"/>
</node>
</node>
<node TEXT="results" ID="ID_1461138979" CREATED="1383746986471" MODIFIED="1383746987490">
<node TEXT="microbenchmarks" ID="ID_1068585380" CREATED="1383746987782" MODIFIED="1383746990649">
<node TEXT="6% timing error, vs 600%" ID="ID_632743327" CREATED="1383746991022" MODIFIED="1383746997569"/>
</node>
<node TEXT="LevelDB macrobenchmarks" ID="ID_1329171167" CREATED="1383746998454" MODIFIED="1383747017736">
<node TEXT="95% of concurrency is retained" ID="ID_128403263" CREATED="1383747005405" MODIFIED="1383747012648"/>
</node>
</node>
<node TEXT="architecture" ID="ID_1124118565" CREATED="1383747028452" MODIFIED="1383747030887">
<node TEXT="what are resources?" ID="ID_1468278933" CREATED="1383747031339" MODIFIED="1383747035647">
<node TEXT="files" ID="ID_889738685" CREATED="1383747035899" MODIFIED="1383747037030"/>
<node TEXT="file descriptors" ID="ID_193708984" CREATED="1383747037251" MODIFIED="1383747039750"/>
<node TEXT="path names" ID="ID_1271658383" CREATED="1383747039946" MODIFIED="1383747043030"/>
<node TEXT="Async IO control blocks" ID="ID_1882637009" CREATED="1383747043267" MODIFIED="1383747048566"/>
</node>
<node TEXT="names refer to resources" ID="ID_1605041923" CREATED="1383747054738" MODIFIED="1383747059285">
<node TEXT="path names reference files" ID="ID_984829703" CREATED="1383747059818" MODIFIED="1383747069364"/>
<node TEXT="file descriptors reference files" ID="ID_1019617434" CREATED="1383747069617" MODIFIED="1383747074572"/>
<node TEXT="..." ID="ID_18955183" CREATED="1383747079672" MODIFIED="1383747081228"/>
</node>
<node TEXT="ordering rules" ID="ID_621314322" CREATED="1383747109734" MODIFIED="1383747111906">
<node TEXT="all resources have to be used after creation, before destruction" ID="ID_1624099300" CREATED="1383747112390" MODIFIED="1383747134600"/>
<node TEXT="sequential ordering" ID="ID_853634721" CREATED="1383747150732" MODIFIED="1383747153751">
<node TEXT="for the same resource, accesses must not be reordered" ID="ID_614709358" CREATED="1383747153980" MODIFIED="1383747169926"/>
</node>
<node TEXT="name ordering" ID="ID_66139399" CREATED="1383747202480" MODIFIED="1383747204979">
<node TEXT="preserves ordering of *generations* of a name" ID="ID_1627070361" CREATED="1383747205376" MODIFIED="1383747217179"/>
<node TEXT="ensures e.g., that lock files behave correctly" ID="ID_426475574" CREATED="1383747220583" MODIFIED="1383747236625"/>
</node>
</node>
</node>
<node TEXT="ARTC COMPILER" ID="ID_1370604402" CREATED="1383747275387" MODIFIED="1383747281134">
<node TEXT="inputs" ID="ID_1675774276" CREATED="1383747281555" MODIFIED="1383747284958">
<node TEXT="file system image" ID="ID_390394042" CREATED="1383747285179" MODIFIED="1383747288542"/>
<node TEXT="system call trace" ID="ID_504749118" CREATED="1383747288746" MODIFIED="1383747291117"/>
</node>
<node TEXT="outputs" ID="ID_1524725457" CREATED="1383747296306" MODIFIED="1383747297517">
<node TEXT="c files" ID="ID_260328335" CREATED="1383747297841" MODIFIED="1383747300381"/>
</node>
<node TEXT="outputs are feeded into a c compiler" ID="ID_1759880012" CREATED="1383747301754" MODIFIED="1383747308644"/>
<node TEXT="replay engine loads the resulting shared library, can replay trace" ID="ID_1581607627" CREATED="1383747308897" MODIFIED="1383747343754"/>
</node>
<node TEXT="Replay engine" ID="ID_1795380318" CREATED="1383747362158" MODIFIED="1383747364537">
<node TEXT="starts by loading the FS image" ID="ID_1494650922" CREATED="1383747364829" MODIFIED="1383747377480"/>
<node TEXT="creates a replay thread per system thread" ID="ID_780115444" CREATED="1383747378076" MODIFIED="1383747408102"/>
<node TEXT="replays system call results" ID="ID_1093793770" CREATED="1383747408346" MODIFIED="1383747413198"/>
<node TEXT="emulates unknown system calls" ID="ID_1190007621" CREATED="1383747413386" MODIFIED="1383747418173">
<node TEXT="e.g., differences between fsync vs fcntl(F_FULLSYNC)" ID="ID_1027425636" CREATED="1383747421449" MODIFIED="1383747439771"/>
<node TEXT="OS X exchangedata vs link+rename+rename" ID="ID_1996532845" CREATED="1383747441097" MODIFIED="1383747453419"/>
</node>
</node>
<node TEXT="Limitations" ID="ID_255491605" CREATED="1383747484229" MODIFIED="1383747486977">
<node TEXT="does not know about synchronization inside the original app" ID="ID_1681293712" CREATED="1383747488342" MODIFIED="1383747502712"/>
<node TEXT="mmap&apos;d IO is not considered (only system calls)" ID="ID_1105566497" CREATED="1383747504516" MODIFIED="1383747524870"/>
</node>
<node TEXT="evaluations" ID="ID_1577448067" CREATED="1383747541009" MODIFIED="1383747542461">
<node TEXT="correctness" ID="ID_1879463542" CREATED="1383747542690" MODIFIED="1383747545197">
<node TEXT="do system calls return the same values?" ID="ID_1571225440" CREATED="1383747545393" MODIFIED="1383747552012">
<node TEXT="if yes, the trace is probably realistic" ID="ID_1803339359" CREATED="1383747552409" MODIFIED="1383747562164"/>
</node>
<node TEXT="yes, except in one trace where 3 syscalls return wrong values" ID="ID_275958259" CREATED="1383747665282" MODIFIED="1383747681876"/>
</node>
<node TEXT="performance" ID="ID_160111544" CREATED="1383747722654" MODIFIED="1383747724833">
<node TEXT="benchmark" ID="ID_1084487805" CREATED="1383747729013" MODIFIED="1383747737272">
<node TEXT="take a thread with a single disk" ID="ID_1737558280" CREATED="1383747737701" MODIFIED="1383747743968"/>
<node TEXT="run the program on a 2-disk raid" ID="ID_252765685" CREATED="1383747744228" MODIFIED="1383747758183">
<node TEXT="program is faster" ID="ID_1085126068" CREATED="1383747758571" MODIFIED="1383747760647"/>
</node>
<node TEXT="also run trace on 2-disk raid" ID="ID_1431429766" CREATED="1383747761516" MODIFIED="1383747768406">
<node TEXT="single-thread replay, and temporally ordered replay, are slow" ID="ID_1016775387" CREATED="1383747768754" MODIFIED="1383747865827"/>
<node TEXT="ARTC performance closely matches real program" ID="ID_1582075565" CREATED="1383747792673" MODIFIED="1383747828066"/>
</node>
</node>
</node>
</node>
<node TEXT="research.cs.wisc.edu/ ..." ID="ID_1448060505" CREATED="1383747960757" MODIFIED="1383747975624"/>
</node>
<node TEXT="Parrot" POSITION="left" ID="ID_1076984833" CREATED="1383748535680" MODIFIED="1383748537411">
<edge COLOR="#7c007c"/>
<node TEXT="Overview" ID="ID_393107958" CREATED="1383748653600" MODIFIED="1383748655443">
<node TEXT="goal" ID="ID_1130251441" CREATED="1383748537984" MODIFIED="1383748538771">
<node TEXT="improve reliability of multithreaded programs" ID="ID_360767556" CREATED="1383748539039" MODIFIED="1383748561257"/>
</node>
<node TEXT="multithreading is hard..." ID="ID_594494392" CREATED="1383748571261" MODIFIED="1383748576648">
<node TEXT="root cause: too many interleavings?" ID="ID_882684419" CREATED="1383748576892" MODIFIED="1383748583280"/>
</node>
<node TEXT="prior work" ID="ID_19420635" CREATED="1383748601107" MODIFIED="1383748603390">
<node TEXT="deterministic multithreading" ID="ID_485138853" CREATED="1383748603667" MODIFIED="1383748608310"/>
<node TEXT="stable multithreading" ID="ID_1710244155" CREATED="1383748608547" MODIFIED="1383748620102"/>
</node>
<node TEXT="Parrot" ID="ID_662959736" CREATED="1383748623522" MODIFIED="1383748632949">
<node TEXT="a practical stable multithreading runtime" ID="ID_371879336" CREATED="1383748633201" MODIFIED="1383748641292"/>
<node TEXT="fast thanks to performance hints" ID="ID_1181715665" CREATED="1383748641681" MODIFIED="1383748649595"/>
<node TEXT="easy to deploy" ID="ID_1072131961" CREATED="1383749438180" MODIFIED="1383749443247">
<node TEXT="just a single LD_PRELOAD" ID="ID_697679935" CREATED="1383749443579" MODIFIED="1383749450398"/>
</node>
<node TEXT="insight" ID="ID_567674151" CREATED="1383749155015" MODIFIED="1383749156994">
<node TEXT="80-20 rule" ID="ID_471418109" CREATED="1383749157374" MODIFIED="1383749163706">
<node TEXT="in most programs, only few regions are performance-critical" ID="ID_408710989" CREATED="1383749164125" MODIFIED="1383749178208"/>
<node TEXT="use hints for these few regions" ID="ID_757403097" CREATED="1383749178485" MODIFIED="1383749184680"/>
</node>
</node>
</node>
</node>
<node TEXT="Problem statement" ID="ID_457818883" CREATED="1383748691037" MODIFIED="1383748696976">
<node TEXT="there are too many schedules" ID="ID_741049056" CREATED="1383748697189" MODIFIED="1383748702392">
<node TEXT="exponential in #threads" ID="ID_62657734" CREATED="1383748705341" MODIFIED="1383748711303"/>
<node TEXT="exponential in #lock operations" ID="ID_830764088" CREATED="1383748711547" MODIFIED="1383748717391"/>
<node TEXT="thus, can only verify a tiny subset of schedules" ID="ID_51561877" CREATED="1383748740266" MODIFIED="1383748759980"/>
</node>
</node>
<node TEXT="StableMT" ID="ID_348268759" CREATED="1383748822693" MODIFIED="1383748825144">
<node TEXT="goal: reduce the number of schedules for all inputs" ID="ID_1738721616" CREATED="1383748828788" MODIFIED="1383748839983"/>
<node TEXT="e.g., by using round-robin scheduling" ID="ID_1806978459" CREATED="1383748845667" MODIFIED="1383748864837"/>
<node TEXT="use cases" ID="ID_681160625" CREATED="1383748912318" MODIFIED="1383748914538">
<node TEXT="improve coverage of static analysis tools" ID="ID_527830114" CREATED="1383748914751" MODIFIED="1383748923601"/>
</node>
<node TEXT="differences to previous techniques" ID="ID_1103734544" CREATED="1383748935749" MODIFIED="1383748944864">
<node TEXT="traditional multithreading" ID="ID_450341834" CREATED="1383748945468" MODIFIED="1383748951711">
<node TEXT="many inputs" ID="ID_1030437632" CREATED="1383748952012" MODIFIED="1383748954448"/>
<node TEXT="many schedules" ID="ID_1133163665" CREATED="1383748954723" MODIFIED="1383748956679"/>
</node>
<node TEXT="stable MT" ID="ID_1185459780" CREATED="1383748957683" MODIFIED="1383748961399">
<node TEXT="many inputs" ID="ID_1002475694" CREATED="1383748961875" MODIFIED="1383748966550"/>
<node TEXT="few schedules" ID="ID_122092707" CREATED="1383748967019" MODIFIED="1383748970743">
<node TEXT="even if there are many inputs" ID="ID_1870977330" CREATED="1383749011248" MODIFIED="1383749017107"/>
<node TEXT="since most inputs are mapped to the same few schedules" ID="ID_1635165054" CREATED="1383749020792" MODIFIED="1383749027626"/>
</node>
</node>
<node TEXT="deterministic MT" ID="ID_418507815" CREATED="1383748971483" MODIFIED="1383748977414">
<node TEXT="map each input to exactly one schedule" ID="ID_1871174576" CREATED="1383748977690" MODIFIED="1383748985189"/>
<node TEXT="but slightly different inputs might have very different schedules" ID="ID_370403513" CREATED="1383748986074" MODIFIED="1383748997068"/>
<node TEXT="if there are many inputs, there might be many schedules" ID="ID_546440326" CREATED="1383748998705" MODIFIED="1383749007316"/>
</node>
</node>
</node>
<node TEXT="Challenges" ID="ID_1803329027" CREATED="1383749035078" MODIFIED="1383749089042">
<node TEXT="few schedules limit performance" ID="ID_743924512" CREATED="1383749037407" MODIFIED="1383749043417">
<node TEXT="stable schedules reduces parallelism" ID="ID_255214122" CREATED="1383749048366" MODIFIED="1383749059120"/>
<node TEXT="observed 5x slowdown" ID="ID_78392467" CREATED="1383749073908" MODIFIED="1383749079095"/>
<node TEXT="example based on pbzip" ID="ID_1824559219" CREATED="1383749641438" MODIFIED="1383749649617">
<node TEXT="many worker threads..." ID="ID_1605362681" CREATED="1383749650110" MODIFIED="1383749655417"/>
<node TEXT="... but a single thread grabbed all the work" ID="ID_330584894" CREATED="1383749655629" MODIFIED="1383749662728"/>
</node>
</node>
<node TEXT="too complicated to deploy" ID="ID_747144762" CREATED="1383749090155" MODIFIED="1383749095254">
<node TEXT="previous systems tried to re-use existing schedules for more inputs" ID="ID_366064150" CREATED="1383749099402" MODIFIED="1383749111725"/>
<node TEXT="required sophisticated program analysis" ID="ID_1203455723" CREATED="1383749112249" MODIFIED="1383749122292"/>
</node>
</node>
<node TEXT="Approach" ID="ID_1277518909" CREATED="1383749203643" MODIFIED="1383749206175">
<node TEXT="user-space runtime" ID="ID_29018466" CREATED="1383749206451" MODIFIED="1383749214062">
<node TEXT="enforces round-robin scheduling for pthread sync operations" ID="ID_1022669424" CREATED="1383749214363" MODIFIED="1383749227213"/>
</node>
<node TEXT="performance hints" ID="ID_1016271888" CREATED="1383749231273" MODIFIED="1383749235628">
<node TEXT="soft barriers" ID="ID_1108767051" CREATED="1383749235913" MODIFIED="1383749238572">
<node TEXT="co-schedule threads at core computations" ID="ID_1992261424" CREATED="1383749239753" MODIFIED="1383749246988"/>
<node TEXT="does not necessarily introduce new schedules" ID="ID_1812597162" CREATED="1383749264440" MODIFIED="1383749274450"/>
<node TEXT="pbzip example" ID="ID_1013335013" CREATED="1383749685707" MODIFIED="1383749689390">
<node TEXT="many workers to compress in parallel" ID="ID_1336492399" CREATED="1383749689635" MODIFIED="1383749704757"/>
<node TEXT="workers call soba_wait before starting the compression" ID="ID_1339859653" CREATED="1383749705954" MODIFIED="1383749715349"/>
<node TEXT="this gives all workers a chance to grab a block to compress" ID="ID_1006490604" CREATED="1383749715937" MODIFIED="1383749729164"/>
<node TEXT="once they all have their block, they compress in parallel." ID="ID_1281461951" CREATED="1383749730585" MODIFIED="1383749748043"/>
</node>
<node TEXT="soft barriers can be ignored as needed" ID="ID_641067655" CREATED="1383749790892" MODIFIED="1383749831497">
<node TEXT="for example, if the number of blocks (in the pbzip example) is not divided evenly by the number of workers" ID="ID_1010155703" CREATED="1383749796924" MODIFIED="1383749815910"/>
<node TEXT="for this, soft barriers have a timeout" ID="ID_287537528" CREATED="1383749833315" MODIFIED="1383749839733"/>
</node>
</node>
<node TEXT="performance-critical sections" ID="ID_72475271" CREATED="1383749249304" MODIFIED="1383749258339">
<node TEXT="annotate sections that should complete quickly" ID="ID_836730039" CREATED="1383749284774" MODIFIED="1383749294041"/>
</node>
</node>
</node>
<node TEXT="Questions" ID="ID_396658037" CREATED="1383748764776" MODIFIED="1383748766852">
<node TEXT="is the resulting number of schedules subexponential?" ID="ID_1041187854" CREATED="1383748767256" MODIFIED="1383748781987"/>
<node TEXT="Is there a way to insert soft barriers automatically, e.g., by observing differences between regular and parrot executions?" ID="ID_1445348673" CREATED="1383749861543" MODIFIED="1383749893617"/>
</node>
<node TEXT="github.com/columbia/smt_mc" ID="ID_733901072" CREATED="1383748667223" MODIFIED="1383750134960"/>
</node>
<node TEXT="RaceMob" POSITION="left" ID="ID_1005707361" CREATED="1383750516035" MODIFIED="1383750518511">
<edge COLOR="#007c7c"/>
<node TEXT="intro" ID="ID_773501093" CREATED="1383750528899" MODIFIED="1383750530894">
<node TEXT="data races" ID="ID_1375946322" CREATED="1383750531164" MODIFIED="1383750533086">
<node TEXT="accesses by multiple threads" ID="ID_1817123379" CREATED="1383750542466" MODIFIED="1383750547589"/>
<node TEXT="one of them at least writes" ID="ID_1924277747" CREATED="1383750548002" MODIFIED="1383750556789"/>
</node>
<node TEXT="developers might be unaware of dataraces" ID="ID_21355443" CREATED="1383750581464" MODIFIED="1383750598290"/>
<node TEXT="compilers can break data races" ID="ID_370336407" CREATED="1383750605326" MODIFIED="1383750610137"/>
<node TEXT="problem: how to find data races?" ID="ID_155183324" CREATED="1383750629813" MODIFIED="1383750635775">
<node TEXT="static race detectors" ID="ID_1357127023" CREATED="1383750636100" MODIFIED="1383750644679">
<node TEXT="approx 80% false positives" ID="ID_1820796953" CREATED="1383750645124" MODIFIED="1383750660950"/>
</node>
<node TEXT="dynamic detectors" ID="ID_121553522" CREATED="1383750676650" MODIFIED="1383750680892">
<node TEXT="up to 200x runtime overhead" ID="ID_1523208830" CREATED="1383750681416" MODIFIED="1383750686540"/>
<node TEXT="many false negatives" ID="ID_1004956658" CREATED="1383750701912" MODIFIED="1383750705163"/>
</node>
</node>
</node>
<node TEXT="RaceMob" ID="ID_856289339" CREATED="1383750739461" MODIFIED="1383750743216">
<node TEXT="the best of both static and dymanic detectors" ID="ID_506121639" CREATED="1383750743630" MODIFIED="1383750752920"/>
<node TEXT="static detection" ID="ID_1639594502" CREATED="1383750763020" MODIFIED="1383750766327">
<node TEXT="reduces set of all memory accesses to set of potentially racing accesses" ID="ID_1019823568" CREATED="1383750766619" MODIFIED="1383750778270"/>
</node>
<node TEXT="Dynamic Context Inference" ID="ID_81154278" CREATED="1383750779131" MODIFIED="1383750784734">
<node TEXT="reduces potential accesses to likely acesses" ID="ID_552747451" CREATED="1383750785130" MODIFIED="1383750795717"/>
</node>
<node TEXT="On-demand validation" ID="ID_284983484" CREATED="1383750796482" MODIFIED="1383750800509">
<node TEXT="finds true races" ID="ID_438421939" CREATED="1383750800825" MODIFIED="1383750802884"/>
<node TEXT="detects anomalies" ID="ID_1878842696" CREATED="1383750805705" MODIFIED="1383750808684">
<node TEXT="crashes" ID="ID_1517160607" CREATED="1383750808953" MODIFIED="1383750810364"/>
<node TEXT="hangs" ID="ID_822608618" CREATED="1383750810584" MODIFIED="1383750814548"/>
<node TEXT="..." ID="ID_1702834814" CREATED="1383750814944" MODIFIED="1383750815931"/>
</node>
</node>
<node TEXT="DCI and on-demand validation are crowdsources" ID="ID_44140902" CREATED="1383750825040" MODIFIED="1383750833946">
<node TEXT="thus, finds those races that actually matter" ID="ID_1341837607" CREATED="1383750854470" MODIFIED="1383750860912"/>
</node>
</node>
<node TEXT="usage model" ID="ID_694530326" CREATED="1383750910321" MODIFIED="1383750913165">
<node TEXT="racemob instrument program" ID="ID_1884539538" CREATED="1383750914346" MODIFIED="1383750933724"/>
<node TEXT="users run instrumented programs" ID="ID_629833525" CREATED="1383750935041" MODIFIED="1383750939827"/>
<node TEXT="racemob submits issues to developers" ID="ID_1455682331" CREATED="1383750941976" MODIFIED="1383750953011">
<node TEXT="less issues" ID="ID_1384844537" CREATED="1383750956039" MODIFIED="1383750958570"/>
<node TEXT="tagged issues" ID="ID_1279328146" CREATED="1383750958806" MODIFIED="1383750960946"/>
<node TEXT="prioritization" ID="ID_394744927" CREATED="1383750961166" MODIFIED="1383750965058"/>
</node>
</node>
<node TEXT="insights" ID="ID_1851884690" CREATED="1383750984989" MODIFIED="1383750987968">
<node TEXT="static detection prunes potential accesses" ID="ID_866365529" CREATED="1383750988421" MODIFIED="1383750996264"/>
<node TEXT="crowd-sourcing using low overhead" ID="ID_1642476302" CREATED="1383750996804" MODIFIED="1383751008127"/>
<node TEXT="finds races that matter" ID="ID_469785983" CREATED="1383751010820" MODIFIED="1383751014406"/>
</node>
<node TEXT="phases" ID="ID_1958399709" CREATED="1383751038056" MODIFIED="1383751040165">
<node TEXT="static detection" ID="ID_1477041615" CREATED="1383751040402" MODIFIED="1383751047900">
<node TEXT="uses RELAY" ID="ID_42496318" CREATED="1383751048377" MODIFIED="1383751051564"/>
<node TEXT="because it has the lowest number of false negatives" ID="ID_724425505" CREATED="1383751051817" MODIFIED="1383751063075"/>
</node>
<node TEXT="Dynamic Conext Inference" ID="ID_681705751" CREATED="1383751122764" MODIFIED="1383751129743">
<node TEXT="static analysis has problems" ID="ID_1568843982" CREATED="1383751130370" MODIFIED="1383751135222">
<node TEXT="alias analysis inacurracies" ID="ID_1912210907" CREATED="1383751135427" MODIFIED="1383751152613"/>
<node TEXT="hard to infer which program parts run concurrently" ID="ID_753478078" CREATED="1383751153082" MODIFIED="1383751172251"/>
</node>
<node TEXT="DCI = lightweight analysis" ID="ID_433655084" CREATED="1383751175816" MODIFIED="1383751181883">
<node TEXT="checks whether accesses are from different threads" ID="ID_743803503" CREATED="1383751182144" MODIFIED="1383751190507"/>
<node TEXT="... and whether they alias" ID="ID_1018894479" CREATED="1383751190712" MODIFIED="1383751195986"/>
</node>
<node TEXT="in practice, reduces by 53% the set of potential races" ID="ID_51401551" CREATED="1383751198167" MODIFIED="1383751214809"/>
</node>
<node TEXT="on-demand validation" ID="ID_532380758" CREATED="1383751264626" MODIFIED="1383751268518">
<node TEXT="based on happens-before relations" ID="ID_189132953" CREATED="1383751271658" MODIFIED="1383751278373"/>
<node TEXT="contribution: minimal tracking" ID="ID_1352061957" CREATED="1383751306440" MODIFIED="1383751313787">
<node TEXT="tracks only memory accesses of the potential target race" ID="ID_167288993" CREATED="1383751314575" MODIFIED="1383751324962"/>
<node TEXT="stops as soon as possible" ID="ID_1265617828" CREATED="1383751326199" MODIFIED="1383751333369">
<node TEXT="when the second access is made" ID="ID_643344124" CREATED="1383751334117" MODIFIED="1383751338857"/>
<node TEXT="when a happens-before edge is established" ID="ID_387828846" CREATED="1383751339893" MODIFIED="1383751348168"/>
</node>
</node>
<node TEXT="steer executions to expose races" ID="ID_348558559" CREATED="1383751353292" MODIFIED="1383751360856"/>
</node>
</node>
<node TEXT="results" ID="ID_1951299015" CREATED="1383751589245" MODIFIED="1383751592288">
<node TEXT="paper looks at" ID="ID_1381819082" CREATED="1383751621035" MODIFIED="1383751624022">
<node TEXT="detection effectiveness" ID="ID_961022013" CREATED="1383751624298" MODIFIED="1383751628414"/>
<node TEXT="contribution of techniques" ID="ID_819151199" CREATED="1383751628683" MODIFIED="1383751632837"/>
<node TEXT="breakdown of overhead" ID="ID_1018804200" CREATED="1383751633050" MODIFIED="1383751636589"/>
<node TEXT="comparison to other detectors" ID="ID_1508570467" CREATED="1383751636834" MODIFIED="1383751641477"/>
<node TEXT="comparison to concurrency testing" ID="ID_1350480293" CREATED="1383751641714" MODIFIED="1383751646509"/>
<node TEXT="scalability analysis" ID="ID_144735913" CREATED="1383751646721" MODIFIED="1383751650756"/>
</node>
<node TEXT="detection effectiveness" ID="ID_1549093311" CREATED="1383751651913" MODIFIED="1383751656868">
<node TEXT="841 potential races detected" ID="ID_70691671" CREATED="1383751669704" MODIFIED="1383751681547"/>
<node TEXT="106 are true races" ID="ID_1980306606" CREATED="1383751681806" MODIFIED="1383751685170">
<node TEXT="3 of them crashing" ID="ID_79822495" CREATED="1383751689015" MODIFIED="1383751692058"/>
<node TEXT="3 of them hanging" ID="ID_1138625333" CREATED="1383751692261" MODIFIED="1383751695193"/>
</node>
<node TEXT="600ish races were no real reaces" ID="ID_612414713" CREATED="1383751715837" MODIFIED="1383751726967"/>
<node TEXT="84 races were never seen" ID="ID_643400567" CREATED="1383751727915" MODIFIED="1383751733511"/>
</node>
<node TEXT="overheads" ID="ID_244006863" CREATED="1383751759377" MODIFIED="1383751761061">
<node TEXT="thread sanitizer: 30x" ID="ID_1923891672" CREATED="1383751761298" MODIFIED="1383751768589"/>
<node TEXT="static + dynamic detection" ID="ID_659157045" CREATED="1383751778984" MODIFIED="1383751784083">
<node TEXT="reduces overhead to 26x or 6.3x" ID="ID_483279118" CREATED="1383751784528" MODIFIED="1383751803298"/>
</node>
<node TEXT="DCI" ID="ID_76906221" CREATED="1383751811726" MODIFIED="1383751816265">
<node TEXT="lowers overhead to 3.6x or 5.4x" ID="ID_361963483" CREATED="1383751816622" MODIFIED="1383751827488"/>
</node>
<node TEXT="crowdsourcing" ID="ID_641819550" CREATED="1383751829829" MODIFIED="1383751834568">
<node TEXT="reduces overhead to a few percent" ID="ID_26220659" CREATED="1383751834997" MODIFIED="1383751841392"/>
</node>
<node TEXT="conclusion" ID="ID_626234757" CREATED="1383751853771" MODIFIED="1383751855319">
<node TEXT="all techniques are required" ID="ID_1549508213" CREATED="1383751855555" MODIFIED="1383751860294"/>
</node>
</node>
<node TEXT="overhead breakdown" ID="ID_1363689643" CREATED="1383751866571" MODIFIED="1383751869349">
<node TEXT="instrumentation overhead" ID="ID_95539129" CREATED="1383751870169" MODIFIED="1383751898420">
<node TEXT="typically below 1%" ID="ID_1729663732" CREATED="1383751898672" MODIFIED="1383751902219"/>
</node>
<node TEXT="validation overhead" ID="ID_1663230351" CREATED="1383751891408" MODIFIED="1383751894524"/>
</node>
</node>
</node>
<node TEXT="Discretized Streams" POSITION="left" ID="ID_1984780121" CREATED="1383753905297" MODIFIED="1383753957823">
<edge COLOR="#7c7c00"/>
<node TEXT="motivation" ID="ID_1152418972" CREATED="1383753907919" MODIFIED="1383753909322">
<node TEXT="need to process stream data" ID="ID_855790648" CREATED="1383753909583" MODIFIED="1383753914714"/>
<node TEXT="require short end-to-end latency" ID="ID_119876329" CREATED="1383753915006" MODIFIED="1383753928409"/>
<node TEXT="systems use many nodes" ID="ID_1332234213" CREATED="1383753936581" MODIFIED="1383753939768"/>
<node TEXT="hard to deal with faults and stragglers" ID="ID_1853822507" CREATED="1383753929957" MODIFIED="1383753935681"/>
</node>
<node TEXT="traditional streaming systems" ID="ID_1043736100" CREATED="1383753992577" MODIFIED="1383753996868">
<node TEXT="continuous operator model" ID="ID_1285094291" CREATED="1383753997137" MODIFIED="1383754001916">
<node TEXT="operators maintain in-memory mutable state" ID="ID_563931126" CREATED="1383754002233" MODIFIED="1383754010012"/>
<node TEXT="problem: mutable state is lost on failures" ID="ID_1379174516" CREATED="1383754015864" MODIFIED="1383754021475"/>
</node>
<node TEXT="node replication for fault-tolerance" ID="ID_537998154" CREATED="1383754033351" MODIFIED="1383754040281">
<node TEXT="hot spares process same data as original nodes" ID="ID_1988229553" CREATED="1383754043862" MODIFIED="1383754056528"/>
<node TEXT="synchronization needed for consistency" ID="ID_1961124937" CREATED="1383754057733" MODIFIED="1383754069344"/>
<node TEXT="on failure, spares take over" ID="ID_1998908512" CREATED="1383754071293" MODIFIED="1383754075583"/>
<node TEXT="pro: fast failover" ID="ID_1491204716" CREATED="1383754093675" MODIFIED="1383754098926"/>
<node TEXT="cons: high hardware cost" ID="ID_533519480" CREATED="1383754099594" MODIFIED="1383754104526">
<node TEXT="Question: don&apos;t actually need 2x hardware" ID="ID_1393439558" CREATED="1383755712631" MODIFIED="1383755725066"/>
</node>
</node>
<node TEXT="upstream backup for fault-tolerance" ID="ID_1174461558" CREATED="1383754108561" MODIFIED="1383754836790">
<node TEXT="each node maintains backup of nodes passed downstream" ID="ID_669735477" CREATED="1383754120984" MODIFIED="1383754134868"/>
<node TEXT="downstream nodes periodically checkpoint" ID="ID_24500786" CREATED="1383754137336" MODIFIED="1383754145075"/>
<node TEXT="on failure, upstream node can replay backup records" ID="ID_1996717473" CREATED="1383754156590" MODIFIED="1383754168817"/>
<node TEXT="pro: cheap" ID="ID_1577217858" CREATED="1383754171086" MODIFIED="1383754173408"/>
<node TEXT="cons: slow recovery" ID="ID_158471260" CREATED="1383754173620" MODIFIED="1383754178464"/>
</node>
<node TEXT="stragglers" ID="ID_16041442" CREATED="1383754199260" MODIFIED="1383754204575">
<node TEXT="both node replication and upstream backup don&apos;t handle stragglers well" ID="ID_726297893" CREATED="1383754204955" MODIFIED="1383754218966"/>
<node TEXT="single stragglers will slow down spares / downstream nodes" ID="ID_668264600" CREATED="1383754226194" MODIFIED="1383754236388"/>
</node>
</node>
<node TEXT="challenge" ID="ID_780225470" CREATED="1383754261703" MODIFIED="1383754266867">
<node TEXT="stateful continuous operators" ID="ID_1831594716" CREATED="1383754267175" MODIFIED="1383754274570">
<node TEXT="mix up computation and state" ID="ID_1982691133" CREATED="1383754274839" MODIFIED="1383754280634"/>
</node>
</node>
<node TEXT="idea" ID="ID_1927714220" CREATED="1383754284558" MODIFIED="1383754287217">
<node TEXT="make state immutable" ID="ID_1554802427" CREATED="1383754287670" MODIFIED="1383754291633"/>
<node TEXT="computation = small deterministic stateless task" ID="ID_907024220" CREATED="1383754291836" MODIFIED="1383754301632"/>
<node TEXT="defines clear boundaries between state and computation" ID="ID_526934742" CREATED="1383754308461" MODIFIED="1383754318039">
<node TEXT="both can be moved around independently" ID="ID_1234938139" CREATED="1383754319444" MODIFIED="1383754326015"/>
</node>
<node TEXT="inspired by batch processing systems" ID="ID_1678391129" CREATED="1383754328179" MODIFIED="1383754333454">
<node TEXT="e.g., MapReduce" ID="ID_980569883" CREATED="1383754337987" MODIFIED="1383754343061"/>
<node TEXT="data is partitioned into small partitions" ID="ID_1745587086" CREATED="1383754343947" MODIFIED="1383754351925"/>
<node TEXT="jobs consist of small, deterministic, stateless map/reduce tasks" ID="ID_801519367" CREATED="1383754352818" MODIFIED="1383754364988"/>
</node>
</node>
<node TEXT="discretized stream processing" ID="ID_732715107" CREATED="1383754428493" MODIFIED="1383754436400">
<node TEXT="&quot;run a streaming computation as a series of small, deterministic batch jobs&quot;" ID="ID_584253656" CREATED="1383754437436" MODIFIED="1383754449783"/>
<node TEXT="store intermediate data in cluster memory" ID="ID_818994728" CREATED="1383754452811" MODIFIED="1383754459214"/>
<node TEXT="good engineering for low latency" ID="ID_832695867" CREATED="1383754460171" MODIFIED="1383754470261"/>
</node>
<node TEXT="fine-grained lineage" ID="ID_328741445" CREATED="1383754595377" MODIFIED="1383754599148">
<node TEXT="datasets track where data comes from" ID="ID_253325798" CREATED="1383754599393" MODIFIED="1383754609172"/>
<node TEXT="allows to recompute lost data" ID="ID_1569424880" CREATED="1383754610153" MODIFIED="1383754616851"/>
<node TEXT="periodic async checkpoints ensure lineage history remains small" ID="ID_1508256324" CREATED="1383754621831" MODIFIED="1383754636130"/>
<node TEXT="on crash" ID="ID_706428485" CREATED="1383754663261" MODIFIED="1383754665960">
<node TEXT="recompute lost data" ID="ID_1836220952" CREATED="1383754666269" MODIFIED="1383754669832"/>
<node TEXT="can do recomputeation in parallel if there are no dependencies" ID="ID_1965344453" CREATED="1383754670060" MODIFIED="1383754679087"/>
<node TEXT="results" ID="ID_697025978" CREATED="1383754800204" MODIFIED="1383754802823">
<node TEXT="large clusters recover faster" ID="ID_1992612064" CREATED="1383754803107" MODIFIED="1383754830617">
<icon BUILTIN="ksmiletris"/>
</node>
</node>
</node>
</node>
<node TEXT="evaluation" ID="ID_359300312" CREATED="1383754843481" MODIFIED="1383754846132">
<node TEXT="spark streaming" ID="ID_906505672" CREATED="1383754848200" MODIFIED="1383754850764">
<node TEXT="Resilient Distributed Datasets -- NSDI 2012" ID="ID_1179553436" CREATED="1383754864367" MODIFIED="1383754878506"/>
</node>
<node TEXT="tested with 100 EC2 instances" ID="ID_1550637954" CREATED="1383754936170" MODIFIED="1383754946933"/>
<node TEXT="found linear scalability" ID="ID_1985063255" CREATED="1383754947153" MODIFIED="1383754952301"/>
<node TEXT="can recover from faults within a few windows" ID="ID_709779161" CREATED="1383755049659" MODIFIED="1383755060814"/>
</node>
<node TEXT="unification with batch and interactive processing" ID="ID_1890047969" CREATED="1383755100768" MODIFIED="1383755112658">
<node TEXT="single programming model" ID="ID_67398622" CREATED="1383755112975" MODIFIED="1383755119482"/>
<node TEXT="examples" ID="ID_737444711" CREATED="1383755125742" MODIFIED="1383755127297">
<node TEXT="combine live streams with historic data" ID="ID_976354027" CREATED="1383755127534" MODIFIED="1383755132993"/>
<node TEXT="interactive queries over live streams" ID="ID_1979543286" CREATED="1383755133230" MODIFIED="1383755141704"/>
</node>
<node TEXT="mobile millenium project" ID="ID_212527683" CREATED="1383755176643" MODIFIED="1383755182230">
<node TEXT="does Markov chain Monte Carlo simulations" ID="ID_1733858612" CREATED="1383755182530" MODIFIED="1383755196029"/>
<node TEXT="it was very easy to port batch Monte Carlo code to a streaming environment" ID="ID_1072560286" CREATED="1383755196225" MODIFIED="1383755221563"/>
</node>
</node>
<node TEXT="open source" ID="ID_1287839129" CREATED="1383755294227" MODIFIED="1383755298446">
<node TEXT="spark-project.org" ID="ID_1242645880" CREATED="1383755298691" MODIFIED="1383755302502"/>
</node>
</node>
<node TEXT="Naiad" POSITION="left" ID="ID_955518959" CREATED="1383755754157" MODIFIED="1383755755968">
<edge COLOR="#ff0000"/>
<node TEXT="Derek Murray" ID="ID_1279490232" CREATED="1383755756509" MODIFIED="1383755759968"/>
<node TEXT="problem" ID="ID_150510142" CREATED="1383755772611" MODIFIED="1383755785798">
<node TEXT="programming and execution models are tightly coupled" ID="ID_580536009" CREATED="1383755786049" MODIFIED="1383755793221">
<node TEXT="batch processing frameworks" ID="ID_187914255" CREATED="1383755801161" MODIFIED="1383755814084"/>
<node TEXT="stream processing frameworks" ID="ID_75658035" CREATED="1383755807041" MODIFIED="1383755849497"/>
<node TEXT="graph processing frameworks" ID="ID_827464439" CREATED="1383755815097" MODIFIED="1383755820787"/>
<node TEXT="cannot combine these easily" ID="ID_186126983" CREATED="1383755828608" MODIFIED="1383755853689">
<node TEXT="resort to lowest common dominator" ID="ID_1543300951" CREATED="1383755854014" MODIFIED="1383755860225"/>
<node TEXT="i.e., batch processing" ID="ID_1322824856" CREATED="1383755860629" MODIFIED="1383755866608"/>
<node TEXT="sometimes works well (spark streaming), but not often" ID="ID_804615088" CREATED="1383755866813" MODIFIED="1383755874664"/>
</node>
</node>
<node TEXT="Naiad is expressive, allows to express all these frameworks" ID="ID_96585333" CREATED="1383755882052" MODIFIED="1383755896614"/>
</node>
<node TEXT="example" ID="ID_1644740086" CREATED="1383755958111" MODIFIED="1383755960338">
<node TEXT="twitter connected components" ID="ID_1989639165" CREATED="1383755960679" MODIFIED="1383755965154"/>
<node TEXT="find most popular hashtags" ID="ID_1611697652" CREATED="1383755965382" MODIFIED="1383755970978"/>
<node TEXT="query most popular hasthags for some user&apos;s component" ID="ID_1297919263" CREATED="1383755971198" MODIFIED="1383755985833"/>
</node>
<node TEXT="data flow" ID="ID_529327830" CREATED="1383756016523" MODIFIED="1383756019478">
<node TEXT="directed graph of stages" ID="ID_635724675" CREATED="1383756025002" MODIFIED="1383756029109">
<node TEXT="stages = computation" ID="ID_1897306010" CREATED="1383756029354" MODIFIED="1383756033373"/>
<node TEXT="connectors = communication" ID="ID_412559487" CREATED="1383756033786" MODIFIED="1383756038221"/>
</node>
<node TEXT="advantages" ID="ID_1312206463" CREATED="1383756043409" MODIFIED="1383756045181">
<node TEXT="easy to parallelize" ID="ID_1393098266" CREATED="1383756045449" MODIFIED="1383756049532"/>
<node TEXT="each stage can be composed of independent vertices" ID="ID_534625620" CREATED="1383756050569" MODIFIED="1383756059108"/>
<node TEXT="edges can be simple mappings, or shuffle data around" ID="ID_1230497006" CREATED="1383756065264" MODIFIED="1383756076682"/>
</node>
<node TEXT="cycles in data flow" ID="ID_1563658344" CREATED="1383756077751" MODIFIED="1383756080970">
<node TEXT="cycles = iterative algorithms" ID="ID_618824128" CREATED="1383756097110" MODIFIED="1383756101753"/>
</node>
</node>
<node TEXT="batching vs streaming" ID="ID_905998708" CREATED="1383756115444" MODIFIED="1383756120328">
<node TEXT="batching is syncronous" ID="ID_655951240" CREATED="1383756120604" MODIFIED="1383756124383">
<node TEXT="each stage starts only when all its inputs are there" ID="ID_530875981" CREATED="1383756124684" MODIFIED="1383756144510"/>
<node TEXT="requires coordination :(" ID="ID_243839400" CREATED="1383756155993" MODIFIED="1383756162669"/>
<node TEXT="supports aggregation :)" ID="ID_1741343464" CREATED="1383756163018" MODIFIED="1383756167996"/>
</node>
<node TEXT="streaming is asynchronous" ID="ID_1595065173" CREATED="1383756134820" MODIFIED="1383756140102">
<node TEXT="vertices are independent :)" ID="ID_703864326" CREATED="1383756186152" MODIFIED="1383756192323"/>
<node TEXT="low latency" ID="ID_733779147" CREATED="1383756196896" MODIFIED="1383756199003"/>
<node TEXT="loses correspondence between input and output :(" ID="ID_1557616247" CREATED="1383756199407" MODIFIED="1383756214081"/>
</node>
<node TEXT="timely dataflow reconciles batching and streaming" ID="ID_245835326" CREATED="1383756216990" MODIFIED="1383756226224">
<node TEXT="messages have logical timestamps" ID="ID_951247402" CREATED="1383756226549" MODIFIED="1383756232064"/>
<node TEXT="timestamps are used to track progress" ID="ID_298590795" CREATED="1383756232613" MODIFIED="1383756240648"/>
</node>
</node>
<node TEXT="programming model" ID="ID_452371335" CREATED="1383756245100" MODIFIED="1383756247495">
<node TEXT="aka Naiad API" ID="ID_460318445" CREATED="1383756443231" MODIFIED="1383756446562"/>
<node TEXT="callbacks" ID="ID_603360211" CREATED="1383756247988" MODIFIED="1383756256406">
<node TEXT="onRecv when a message is received" ID="ID_999020508" CREATED="1383756291409" MODIFIED="1383756301508"/>
<node TEXT="onNotify" ID="ID_893260111" CREATED="1383756336806" MODIFIED="1383756339057">
<node TEXT="allows node to know when all messages for a given time have been received" ID="ID_957923293" CREATED="1383756345653" MODIFIED="1383756361431"/>
<node TEXT="allows fine-grained synchronization" ID="ID_875147898" CREATED="1383756462893" MODIFIED="1383756471320"/>
</node>
</node>
<node TEXT="operations" ID="ID_58512404" CREATED="1383756256643" MODIFIED="1383756258382">
<node TEXT="sendBy to send messages" ID="ID_1543985476" CREATED="1383756302486" MODIFIED="1383756307331">
<node TEXT="messages are sent with a timestamp" ID="ID_740405566" CREATED="1383756308583" MODIFIED="1383756317579"/>
<node TEXT="timestamp identifies batch of data" ID="ID_549324335" CREATED="1383756318319" MODIFIED="1383756325298"/>
</node>
<node TEXT="notifyAt" ID="ID_898830787" CREATED="1383756328629" MODIFIED="1383756335504"/>
</node>
<node TEXT="messages" ID="ID_1250087559" CREATED="1383756260923" MODIFIED="1383756262102">
<node TEXT="delivered asynchronously" ID="ID_585654800" CREATED="1383756262355" MODIFIED="1383756267494"/>
</node>
</node>
<node TEXT="programming frameworks" ID="ID_1569165290" CREATED="1383756367211" MODIFIED="1383756371727">
<node TEXT="LINQ" ID="ID_1994379936" CREATED="1383756372659" MODIFIED="1383756375863"/>
<node TEXT="GraphLINQ" ID="ID_1506205798" CREATED="1383756408753" MODIFIED="1383756412916"/>
<node TEXT="BSP (Pregel)" ID="ID_1525640771" CREATED="1383756413401" MODIFIED="1383756418364"/>
<node TEXT="pros" ID="ID_1067794881" CREATED="1383756421745" MODIFIED="1383756424403">
<node TEXT="framework can be combined" ID="ID_1472094406" CREATED="1383756424672" MODIFIED="1383756430307"/>
<node TEXT="can also use low-level Naiad API" ID="ID_6805632" CREATED="1383756430584" MODIFIED="1383756438218"/>
</node>
</node>
<node TEXT="progress tracking" ID="ID_294275879" CREATED="1383756474955" MODIFIED="1383756477272">
<node TEXT="ensures notifications are delivered promptly at correct time" ID="ID_130592624" CREATED="1383756477524" MODIFIED="1383756487583"/>
<node TEXT="source of data assigns epochs" ID="ID_141361976" CREATED="1383756490396" MODIFIED="1383756497414">
<node TEXT="declares when epochs are complete" ID="ID_1056549311" CREATED="1383756497691" MODIFIED="1383756505550"/>
</node>
<node TEXT="stages must not send messages back in time" ID="ID_1564536285" CREATED="1383756506507" MODIFIED="1383756514149"/>
<node TEXT="problem: how to handle data-flow loops?" ID="ID_1197097654" CREATED="1383756531361" MODIFIED="1383756537060">
<node TEXT="a stage in a cycle depends on its own output" ID="ID_1996482168" CREATED="1383756549175" MODIFIED="1383756557626"/>
<node TEXT="solution: feedback vertex" ID="ID_373291853" CREATED="1383756562679" MODIFIED="1383756566666">
<node TEXT="every loop must have one of those" ID="ID_23829288" CREATED="1383756566999" MODIFIED="1383756573377"/>
<node TEXT="they simply advance timestamp of every message running in the loop" ID="ID_1171677471" CREATED="1383756574062" MODIFIED="1383756589016"/>
</node>
</node>
<node TEXT="problem: ??" ID="ID_1186943648" CREATED="1383756604620" MODIFIED="1383756607663">
<node TEXT="solution: structured timestamps" ID="ID_1248975425" CREATED="1383756607940" MODIFIED="1383756614863"/>
<node TEXT="lexicographic tuples" ID="ID_792065877" CREATED="1383756629035" MODIFIED="1383756633797">
<node TEXT="contain original timestamp" ID="ID_1109285798" CREATED="1383756617027" MODIFIED="1383756624574"/>
<node TEXT="contain loop count" ID="ID_1313826092" CREATED="1383756624771" MODIFIED="1383756628806"/>
</node>
</node>
<node TEXT="algo" ID="ID_577162281" CREATED="1383756688853" MODIFIED="1383756690225">
<node TEXT="maintain a set of outstanding events" ID="ID_1537151876" CREATED="1383756690526" MODIFIED="1383756698217"/>
<node TEXT="sort events by *could-result-in* partial order" ID="ID_1916389037" CREATED="1383756698574" MODIFIED="1383756710432"/>
<node TEXT="deliver notifications in the frontier of the set" ID="ID_1425348214" CREATED="1383756710741" MODIFIED="1383756719280"/>
</node>
<node TEXT="commutativity and distributed progress tracking" ID="ID_1694466777" CREATED="1383756751626" MODIFIED="1383756841939">
<node TEXT="each process has a conservative estimation of outstanding events" ID="ID_1634508427" CREATED="1383756758369" MODIFIED="1383756771332"/>
<node TEXT="processes can use estimations to deliver notifications" ID="ID_172388509" CREATED="1383756773673" MODIFIED="1383756783100"/>
<node TEXT="information about events is broadcasted to other processes" ID="ID_987227180" CREATED="1383756787656" MODIFIED="1383756796987"/>
<node TEXT="optimizations make this practical" ID="ID_1751912127" CREATED="1383756822829" MODIFIED="1383756829592"/>
</node>
</node>
<node TEXT="challenges" ID="ID_1227447916" CREATED="1383756856850" MODIFIED="1383756859030">
<node TEXT="microstragglers" ID="ID_526440108" CREATED="1383756859347" MODIFIED="1383756862542">
<node TEXT="e.g., garbage collection (1-10ms)" ID="ID_1544238966" CREATED="1383756865803" MODIFIED="1383756874789"/>
<node TEXT="e.g., TCP timeouts (10-100ms)" ID="ID_789005017" CREATED="1383756877162" MODIFIED="1383756910326"/>
<node TEXT="e.g., data structure contention (1ms)" ID="ID_1312984524" CREATED="1383756887050" MODIFIED="1383756915171"/>
</node>
</node>
<node TEXT="results" ID="ID_631578053" CREATED="1383756937454" MODIFIED="1383756939081">
<node TEXT="iterations can go down to 2.2ms" ID="ID_1283574998" CREATED="1383757039375" MODIFIED="1383757052896"/>
<node TEXT="pagerank example" ID="ID_696179311" CREATED="1383757060878" MODIFIED="1383757063833">
<node TEXT="pregel: 15s iterations" ID="ID_905403302" CREATED="1383757074749" MODIFIED="1383757083360"/>
<node TEXT="GraphLINQ: 8s" ID="ID_586833080" CREATED="1383757083756" MODIFIED="1383757093918"/>
<node TEXT="GAS (OSDI 2012): 1s" ID="ID_1548654061" CREATED="1383757094315" MODIFIED="1383757104510"/>
</node>
<node TEXT="twitter example" ID="ID_429667639" CREATED="1383757109226" MODIFIED="1383757112942">
<node TEXT="processes 32k tweets per second" ID="ID_334506378" CREATED="1383757113538" MODIFIED="1383757119677"/>
<node TEXT="queries every 100ms" ID="ID_1973828395" CREATED="1383757119890" MODIFIED="1383757123957">
<node TEXT="query latency is often below 10ms" ID="ID_1556466962" CREATED="1383757131529" MODIFIED="1383757141484"/>
<node TEXT="99th percentile is 70ms" ID="ID_1491849283" CREATED="1383757142072" MODIFIED="1383757147571"/>
<node TEXT="median is 5.2ms" ID="ID_410056708" CREATED="1383757153951" MODIFIED="1383757157467"/>
</node>
</node>
</node>
<node TEXT="conclusion" ID="ID_1887116044" CREATED="1383757171647" MODIFIED="1383757173313">
<node TEXT="lowers the latency of distributed computations" ID="ID_623603241" CREATED="1383757173646" MODIFIED="1383757181225"/>
<node TEXT="this allows the flexibility" ID="ID_506691726" CREATED="1383757181526" MODIFIED="1383757194184"/>
</node>
<node TEXT="tidbits" ID="ID_363845494" CREATED="1383756951061" MODIFIED="1383756953616">
<node TEXT="absolutely loved how this talk referred to previous talks" ID="ID_1832726910" CREATED="1383756953981" MODIFIED="1383756962888">
<node TEXT="spark streaming" ID="ID_807611520" CREATED="1383756963148" MODIFIED="1383756970095">
<node TEXT="pointed out differences, similarities" ID="ID_1828016106" CREATED="1383756970356" MODIFIED="1383756976351"/>
</node>
<node TEXT="commutativity" ID="ID_685108270" CREATED="1383756977203" MODIFIED="1383756979526">
<node TEXT="&quot;helped us many times already during this conference&quot;" ID="ID_1709230601" CREATED="1383756979787" MODIFIED="1383756987374"/>
</node>
</node>
</node>
<node TEXT="github.com/MicrosoftResearchSVC/naiad" ID="ID_833365162" CREATED="1383757209980" MODIFIED="1383757219030"/>
</node>
<node TEXT="Lightweight Infrastructure for Graph Analytics" POSITION="left" ID="ID_136716625" CREATED="1383757421373" MODIFIED="1383757430224">
<edge COLOR="#0000ff"/>
<node TEXT="contribs" ID="ID_535832444" CREATED="1383757451467" MODIFIED="1383757453223">
<node TEXT="improvements to Galois" ID="ID_723352420" CREATED="1383757453619" MODIFIED="1383757461959"/>
<node TEXT="scalable priority scheduling" ID="ID_737577575" CREATED="1383757464811" MODIFIED="1383757471605"/>
<node TEXT="orders of magnitude faster than other graph DSLs" ID="ID_1923649976" CREATED="1383757472010" MODIFIED="1383757489772"/>
</node>
<node TEXT="Galois" ID="ID_918878200" CREATED="1383757501960" MODIFIED="1383757503548">
<node TEXT="example: single-source shortest paths" ID="ID_1665644142" CREATED="1383757518695" MODIFIED="1383757528337">
<node TEXT="many algos" ID="ID_826514102" CREATED="1383757534574" MODIFIED="1383757536249">
<node TEXT="Chaotic relaxation" ID="ID_1908043626" CREATED="1383757564429" MODIFIED="1383757568791"/>
<node TEXT="Bellman-Ford" ID="ID_1558168191" CREATED="1383757537478" MODIFIED="1383757561848"/>
<node TEXT="Dijkstra" ID="ID_183398739" CREATED="1383757542830" MODIFIED="1383757546225"/>
<node TEXT="Delta-stepping" ID="ID_1809605100" CREATED="1383757554077" MODIFIED="1383757556985"/>
</node>
<node TEXT="all algos similar" ID="ID_1623282606" CREATED="1383757573835" MODIFIED="1383757577358">
<node TEXT="differ in the schedule in which relaxations are applied to edges" ID="ID_78905097" CREATED="1383757577651" MODIFIED="1383757590125"/>
<node TEXT="e.g, Bellman-Ford" ID="ID_1270072342" CREATED="1383757595122" MODIFIED="1383757600557">
<node TEXT="applies relaxations over all edges in graph" ID="ID_811561402" CREATED="1383757600882" MODIFIED="1383757608597"/>
<node TEXT="repeat" ID="ID_79555641" CREATED="1383757608841" MODIFIED="1383757610541"/>
</node>
<node TEXT="e.g., Dijkstra" ID="ID_1711313255" CREATED="1383757611489" MODIFIED="1383757614900">
<node TEXT="priority queue to schedule relaxations" ID="ID_3901804" CREATED="1383757615168" MODIFIED="1383757638323"/>
</node>
</node>
</node>
<node TEXT="terminology" ID="ID_635175815" CREATED="1383757643159" MODIFIED="1383757645170">
<node TEXT="operators" ID="ID_610795693" CREATED="1383757645679" MODIFIED="1383757647298">
<node TEXT="e.g., edge relaxation" ID="ID_693551367" CREATED="1383757647591" MODIFIED="1383757652706"/>
<node TEXT="often: vertex program" ID="ID_480996489" CREATED="1383757681741" MODIFIED="1383757687935">
<node TEXT="e.g., in PowerGraph" ID="ID_1375027873" CREATED="1383757688172" MODIFIED="1383757691887"/>
<node TEXT="e.g., in Ligra" ID="ID_267844768" CREATED="1383757692116" MODIFIED="1383757695175"/>
</node>
<node TEXT="in Galois" ID="ID_279290084" CREATED="1383757704723" MODIFIED="1383757708230">
<node TEXT="operators are unrestricted" ID="ID_806291688" CREATED="1383757696636" MODIFIED="1383757713974"/>
<node TEXT="operators can morph graph" ID="ID_479745773" CREATED="1383757718282" MODIFIED="1383757722085"/>
</node>
</node>
<node TEXT="applying an operator is an &quot;activity&quot;" ID="ID_1273147712" CREATED="1383757656214" MODIFIED="1383757663201"/>
</node>
<node TEXT="scheduling" ID="ID_220759306" CREATED="1383757736257" MODIFIED="1383757737996">
<node TEXT="autonomous" ID="ID_1990561515" CREATED="1383757738369" MODIFIED="1383757742148">
<node TEXT="each activity executes transactionally" ID="ID_1055723692" CREATED="1383757742417" MODIFIED="1383757748299"/>
</node>
<node TEXT="coordinated" ID="ID_399018065" CREATED="1383757749896" MODIFIED="1383757752483">
<node TEXT="multiple activities per round" ID="ID_837533127" CREATED="1383757752727" MODIFIED="1383757758515"/>
</node>
</node>
<node TEXT="Galois system" ID="ID_1672394496" CREATED="1383757764247" MODIFIED="1383757787321">
<node TEXT="operators + schedule + parallel data structures" ID="ID_218005698" CREATED="1383757769349" MODIFIED="1383757781017"/>
</node>
</node>
<node TEXT="priortity scheduling" ID="ID_1466773034" CREATED="1383757503864" MODIFIED="1383757509467">
<node TEXT="Galois supports a library of scheduling policies" ID="ID_1859620364" CREATED="1383757812972" MODIFIED="1383757822302">
<node TEXT="FIFO" ID="ID_1623189401" CREATED="1383757822667" MODIFIED="1383757825678"/>
<node TEXT="LIFO" ID="ID_1672869056" CREATED="1383757825883" MODIFIED="1383757826854"/>
<node TEXT="Priority" ID="ID_1631853691" CREATED="1383757827059" MODIFIED="1383757828798"/>
<node TEXT="..." ID="ID_1737774645" CREATED="1383757829515" MODIFIED="1383757830294"/>
<node TEXT="Users specify policy using DSL" ID="ID_1326454680" CREATED="1383757837706" MODIFIED="1383757844197"/>
</node>
<node TEXT="existing work" ID="ID_1403534465" CREATED="1383757850225" MODIFIED="1383757853572">
<node TEXT="concurrent priority queues" ID="ID_113220596" CREATED="1383757853849" MODIFIED="1383757859212">
<node TEXT="don&apos;t scale well..." ID="ID_1942193793" CREATED="1383757859529" MODIFIED="1383757862988"/>
</node>
<node TEXT="sequence of bags" ID="ID_1350334760" CREATED="1383757863664" MODIFIED="1383757865923">
<node TEXT="one bag per priority level" ID="ID_67110781" CREATED="1383757866432" MODIFIED="1383757872651"/>
<node TEXT="high overhead for finding non-empty, high-priority bag during scheduling" ID="ID_1731192101" CREATED="1383757872952" MODIFIED="1383757887114"/>
</node>
</node>
<node TEXT="Ordered by Metric" ID="ID_1228565378" CREATED="1383757888766" MODIFIED="1383757897410">
<node TEXT="sparse sequence of bags" ID="ID_1633257212" CREATED="1383757897663" MODIFIED="1383757901961"/>
<node TEXT="sequence is replicated among cores" ID="ID_79757056" CREATED="1383757906309" MODIFIED="1383757912216"/>
</node>
<node TEXT="scheduling bags" ID="ID_1985633613" CREATED="1383757923341" MODIFIED="1383757925615">
<node TEXT="unordered set of tasks" ID="ID_1522498291" CREATED="1383757925892" MODIFIED="1383757934447"/>
<node TEXT="implemented as a linked-list of tasks" ID="ID_1331936489" CREATED="1383757940483" MODIFIED="1383757961989"/>
<node TEXT="per-package linked lists" ID="ID_1030572576" CREATED="1383757963762" MODIFIED="1383757971356"/>
<node TEXT="little communication accross packages needed" ID="ID_132804198" CREATED="1383757977345" MODIFIED="1383757987403"/>
</node>
<node TEXT="priority maps" ID="ID_1808392380" CREATED="1383757997359" MODIFIED="1383758000051">
<node TEXT="maps levels to scheduling bags" ID="ID_1219266598" CREATED="1383758000351" MODIFIED="1383758004634"/>
<node TEXT="there is a global map" ID="ID_1884902146" CREATED="1383758007159" MODIFIED="1383758011130">
<node TEXT="replicated to each core" ID="ID_1435443717" CREATED="1383758011406" MODIFIED="1383758015386"/>
<node TEXT="local maps may be subsets of global map" ID="ID_1572079124" CREATED="1383758016430" MODIFIED="1383758022745"/>
</node>
</node>
</node>
<node TEXT="evaluation" ID="ID_948474381" CREATED="1383757509872" MODIFIED="1383757511483">
<node TEXT="many frameworks" ID="ID_1837280323" CREATED="1383758119711" MODIFIED="1383758124130">
<node TEXT="easy to implement many of those on top of Galois" ID="ID_1051342252" CREATED="1383758124335" MODIFIED="1383758131818"/>
</node>
<node TEXT="open speedups of 10x relative to Ligra" ID="ID_924890586" CREATED="1383758295364" MODIFIED="1383758311510"/>
<node TEXT="maximum of 300x relative to Ligra" ID="ID_921410805" CREATED="1383758311883" MODIFIED="1383758317301"/>
<node TEXT="often &gt;1000x speedup over PowerGraph" ID="ID_1599535445" CREATED="1383758357936" MODIFIED="1383758370946">
<node TEXT="particularly for road network" ID="ID_1673223730" CREATED="1383758372527" MODIFIED="1383758378554">
<node TEXT="large diameter graph" ID="ID_1748161375" CREATED="1383758381054" MODIFIED="1383758386337"/>
</node>
</node>
<node TEXT="programming model expressivity matters" ID="ID_550417211" CREATED="1383758427563" MODIFIED="1383758467572">
<node TEXT="priority scheduling allows to express algos such as Dijkstra" ID="ID_388518371" CREATED="1383758432427" MODIFIED="1383758450557"/>
<node TEXT="Union-Find is not a vertex program" ID="ID_1497647301" CREATED="1383758451026" MODIFIED="1383758460876"/>
</node>
</node>
<node TEXT="iss.ices.utexas.edu/galois" ID="ID_1171945744" CREATED="1383758518629" MODIFIED="1383758524272"/>
</node>
<node TEXT="XStream" POSITION="left" ID="ID_313539234" CREATED="1383758790851" MODIFIED="1383758793550">
<edge COLOR="#00ff00"/>
<node TEXT="can we do graph processing on a single machine?" ID="ID_393155187" CREATED="1383758906843" MODIFIED="1383758913422">
<node TEXT="yes, in terms of storage" ID="ID_183281368" CREATED="1383758913731" MODIFIED="1383758919557">
<node TEXT="can often fit in ram" ID="ID_283202859" CREATED="1383758919850" MODIFIED="1383758923677"/>
<node TEXT="can certainly fit on disk" ID="ID_583890373" CREATED="1383758923882" MODIFIED="1383758927709"/>
</node>
<node TEXT="problem: random access" ID="ID_31538194" CREATED="1383758930993" MODIFIED="1383758935749">
<node TEXT="disk: 500x slower" ID="ID_2468562" CREATED="1383758938097" MODIFIED="1383758948364"/>
<node TEXT="ssd: 20x slower" ID="ID_1490153606" CREATED="1383758948849" MODIFIED="1383758953699"/>
<node TEXT="ram: 2x slower" ID="ID_1999394601" CREATED="1383758953928" MODIFIED="1383758958363">
<node TEXT=":)" ID="ID_1335720480" CREATED="1383758958760" MODIFIED="1383758959755"/>
</node>
</node>
</node>
<node TEXT="model" ID="ID_1410116492" CREATED="1383758976350" MODIFIED="1383758978106">
<node TEXT="standard scatter-gather is vertex-centric" ID="ID_1418649566" CREATED="1383759026979" MODIFIED="1383759037926">
<node TEXT="does not work well with storage" ID="ID_1730021722" CREATED="1383759045113" MODIFIED="1383759049893"/>
<node TEXT="accesses vertex in random order" ID="ID_169266984" CREATED="1383759089815" MODIFIED="1383759098194"/>
<node TEXT="accesses edges of these vertices, thus random accesses to edge file" ID="ID_620144612" CREATED="1383759101926" MODIFIED="1383759118488"/>
</node>
<node TEXT="edge-centric scatter-gather" ID="ID_607536033" CREATED="1383758978310" MODIFIED="1383758984153">
<node TEXT="always scan entire edge list" ID="ID_87778083" CREATED="1383759137292" MODIFIED="1383759145231"/>
<node TEXT="work well if diameter of graph is small" ID="ID_1849715825" CREATED="1383759166209" MODIFIED="1383759173165"/>
</node>
</node>
<node TEXT="trade-off" ID="ID_1021078190" CREATED="1383759199656" MODIFIED="1383759201363">
<node TEXT="vertex-centric" ID="ID_1522276623" CREATED="1383759201856" MODIFIED="1383759212026">
<node TEXT="edge data / random access bandwidth" ID="ID_933038897" CREATED="1383759212279" MODIFIED="1383759219042"/>
</node>
<node TEXT="edge-centric" ID="ID_1277593691" CREATED="1383759219735" MODIFIED="1383759224377">
<node TEXT="#scatters x edge data / sequental access bandwidth" ID="ID_940019580" CREATED="1383759224694" MODIFIED="1383759240104"/>
</node>
<node TEXT="works" ID="ID_1315458640" CREATED="1383759243156" MODIFIED="1383759244328">
<node TEXT="sequential access bandwidth &gt;&gt; random access bandwidth" ID="ID_203889547" CREATED="1383759244557" MODIFIED="1383759254143"/>
</node>
</node>
<node TEXT="streaming partitions" ID="ID_72441774" CREATED="1383759271818" MODIFIED="1383759275238">
<node TEXT="vertex set is still randomly accessed" ID="ID_1264544723" CREATED="1383759275491" MODIFIED="1383759286397"/>
<node TEXT="idea: partition vertex set so that it fits in ram" ID="ID_880332513" CREATED="1383759287802" MODIFIED="1383759296565"/>
<node TEXT="partitioning is random" ID="ID_1885941568" CREATED="1383759297233" MODIFIED="1383759301228">
<node TEXT="no requirements on small cuts" ID="ID_1475370912" CREATED="1383759301505" MODIFIED="1383759308940"/>
<node TEXT="updates between partitions are handled using a special &quot;shuffle&quot; phase" ID="ID_1628710483" CREATED="1383759454543" MODIFIED="1383759471497"/>
</node>
<node TEXT="partitions can be processed in parallel" ID="ID_46987025" CREATED="1383759418569" MODIFIED="1383759424636"/>
</node>
<node TEXT="evaluation against graphchi" ID="ID_1941621876" CREATED="1383759515099" MODIFIED="1383759519270">
<node TEXT="graphchi uses &quot;shards&quot;" ID="ID_1594616409" CREATED="1383759519738" MODIFIED="1383759525509">
<node TEXT="shards contain sorted edges" ID="ID_347268932" CREATED="1383759525761" MODIFIED="1383759530053"/>
</node>
<node TEXT="X-stream uses &quot;partitions&quot;" ID="ID_918027843" CREATED="1383759531234" MODIFIED="1383759538181">
<node TEXT="no need for sorting" ID="ID_1975383336" CREATED="1383759538554" MODIFIED="1383759551724"/>
<node TEXT="thus, almost no preprocessing" ID="ID_419610732" CREATED="1383759551928" MODIFIED="1383759557867"/>
</node>
<node TEXT="X-stream is 2.3x faster" ID="ID_259156277" CREATED="1383759711926" MODIFIED="1383759718985"/>
<node TEXT="X-stream often faster than GraphCHI sharding" ID="ID_489829313" CREATED="1383759719277" MODIFIED="1383759727543"/>
<node TEXT="X-stream uses memory bandwidth well" ID="ID_1403937174" CREATED="1383759745580" MODIFIED="1383759754134">
<node TEXT="often saturates SSD" ID="ID_1698443734" CREATED="1383759754370" MODIFIED="1383759759286"/>
</node>
<node TEXT="X-stream moves less data than GraphCHI" ID="ID_517434816" CREATED="1383759774194" MODIFIED="1383759786820"/>
</node>
<node TEXT="labos.epfl.ch/xstream" ID="ID_778085241" CREATED="1383759971645" MODIFIED="1383759976759"/>
</node>
</node>
</map>
